(()=>{"use strict";var e={673:function(e,t,a){var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function l(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=a(787),r=a(345),l=a(372),i=a(586),c=a(792),d=document.getElementById("game"),y=document.getElementById("resolution"),s=document.getElementById("cache"),u=document.getElementById("timetaken"),x=d.getContext("2d"),h={x:160,y:160},p={x:250,y:130},m={x:150,y:270},g={p1:h,p2:p,p3:m,points:[h,p,m],e1:r.sub(p,h),e2:r.sub(m,p),e3:r.sub(h,m)};let f,M,v;g.center=r.avg(g.points);const b=2*Math.PI,w=Math.cos(.01),P=Math.sin(.01),I=o.createRenderer((()=>{g.points.forEach((e=>{const t=e.x-g.center.x,a=e.y-g.center.y;e.x=g.center.x+t*w-a*P,e.y=g.center.y+t*P+a*w})),g.e1=r.sub(g.p2,g.p1),g.e2=r.sub(g.p3,g.p2),g.e3=r.sub(g.p1,g.p3),M&&v&&(()=>{x.clearRect(0,0,d.width,d.height);const e=(M.width-1)/(f-1),t=(M.height-1)/(f-1),a=Date.now(),n=f-1,o=i.clamp(Math.round(g.p1.x/e),0,n),r=i.clamp(Math.round(g.p1.y/t),0,n),l=i.clamp(Math.round(g.p2.x/e),0,n),c=i.clamp(Math.round(g.p2.y/t),0,n),y=i.clamp(Math.round(g.p3.x/e),0,n),s=i.clamp(Math.round(g.p3.y/t),0,n),h=s+f*(y+f*(c+f*(l+f*(r+f*o)))),p=v.data.slice(4*h,4*(h+1));u.innerText=Date.now()-a+" ms",x.putImageData(M,0,0);for(let a=0;a<M.width;a+=e)for(let e=0;e<M.height;e+=t)x.fillStyle="yellow",x.beginPath(),x.arc(a,e,4,0,b),x.fill();x.lineWidth=1,x.strokeStyle="red",x.beginPath(),x.moveTo(o*e,r*t),x.lineTo(l*e,c*t),x.lineTo(y*e,s*t),x.closePath(),x.stroke(),x.lineWidth=1,x.strokeStyle="black",x.fillStyle=`rgba(${Math.floor(p[0])}, ${Math.floor(p[1])}, ${Math.floor(p[2])}, ${Math.floor(p[3])})`,x.beginPath(),x.moveTo(g.p1.x,g.p1.y),x.lineTo(g.p2.x,g.p2.y),x.lineTo(g.p3.x,g.p3.y),x.closePath(),x.fill(),x.stroke()})()}),(()=>I()));d.onwheel=function(e){const t=.1*Math.sign(e.deltaY);return r.addMutate(g.p1,r.scale(r.sub(g.p1,g.center),t)),r.addMutate(g.p2,r.scale(r.sub(g.p2,g.center),t)),r.addMutate(g.p3,r.scale(r.sub(g.p3,g.center),t)),!1},d.onmousemove=e=>{const t=d.getBoundingClientRect(),a={x:e.pageX-t.left-document.documentElement.scrollLeft,y:e.pageY-t.top-document.documentElement.scrollTop},n=r.sub(a,g.center);r.addMutate(g.p1,n),r.addMutate(g.p2,n),r.addMutate(g.p3,n),g.center=a,I()};const _=()=>n(void 0,void 0,void 0,(function*(){f=parseInt(y.value,10);const e=`media/cache/photo_${f}.png`,[t,a]=yield Promise.all([c.loadImage("media/photo.png"),c.loadImage(e)]);s.src=e,M=l.getImageData(t),v=l.getImageData(a),I()}));_(),y.onchange=_},787:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderer=void 0,t.createRenderer=(e,t)=>{let a=!1;return()=>{a||(a=!0,requestAnimationFrame((()=>{e(),a=!1,null==t||t()})))}}},345:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.inRange=t.avg=t.max2=t.min2=t.toPrecision2=t.addMutate=t.lerp2=t.lerp=t.normalize=t.length=t.equal=t.dot=t.sign=t.abs=t.ceil=t.floor=t.sub=t.adds=t.add=t.divide=t.multiply=t.scale=t.equals=t.determinant2=t.timeAtPos=t.clamp2=t.clamp=void 0,t.clamp=(e,t,a)=>Math.max(Math.min(e,a),t),t.clamp2=(e,a,n)=>({x:t.clamp(e.x,a.x,n.x),y:t.clamp(e.y,a.y,n.y)}),t.timeAtPos=(e,a,n)=>a?t.clamp((n-e)/a,0,1):0,t.determinant2=(e,t)=>e.x*t.y-e.y*t.x,t.equals=(e,t)=>e.x===t.x&&e.y===t.y,t.scale=(e,t)=>({x:t*e.x,y:t*e.y}),t.multiply=(e,t)=>({x:t.x*e.x,y:t.y*e.y}),t.divide=(e,t)=>({x:e.x/t.x,y:e.y/t.y}),t.add=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),t.adds=(e,t)=>({x:e.x+t,y:e.y+t}),t.sub=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),t.floor=e=>({x:Math.floor(e.x),y:Math.floor(e.y)}),t.ceil=e=>({x:Math.ceil(e.x),y:Math.ceil(e.y)}),t.abs=e=>({x:Math.abs(e.x),y:Math.abs(e.y)}),t.sign=e=>({x:Math.sign(e.x),y:Math.sign(e.y)}),t.dot=(e,t)=>e.x*t.x+e.y*t.y,t.equal=(e,t)=>e.x==t.x&&e.y==t.y,t.length=e=>Math.sqrt(e.x*e.x+e.y*e.y),t.normalize=e=>t.scale(e,1/t.length(e)),t.lerp=(e,t,a)=>e*(1-a)+t*a,t.lerp2=(e,a,n)=>({x:t.lerp(e.x,a.x,n),y:t.lerp(e.y,a.y,n)}),t.addMutate=(e,t)=>{e.x+=t.x,e.y+=t.y},t.toPrecision2=(e,t)=>(e.x=parseFloat(e.x.toPrecision(t)),e.y=parseFloat(e.y.toPrecision(t)),e),t.min2=(e,...t)=>{const a={x:e.x,y:e.y};return t.forEach((e=>{a.x=Math.min(a.x,e.x),a.y=Math.min(a.y,e.y)})),a},t.max2=(e,...t)=>{const a={x:e.x,y:e.y};return t.forEach((e=>{a.x=Math.max(a.x,e.x),a.y=Math.max(a.y,e.y)})),a},t.avg=e=>{const t=e.reduce(((e,t)=>(e.x+=t.x,e.y+=t.y,e)),{x:0,y:0});return t.x/=e.length,t.y/=e.length,t},t.inRange=(e,t,a)=>!(e.x>a.x||e.x<t.x||e.y>a.y||e.y<t.y)},586:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=void 0,t.clamp=(e,t,a)=>Math.max(Math.min(e,a),t)},372:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getImageData=void 0,t.getImageData=e=>{const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const a=t.getContext("2d");if(!a)throw new Error("Could not create canvas to extract image data");return a.clearRect(0,0,t.width,t.height),a.drawImage(e,0,0),a.getImageData(0,0,t.width,t.height)}},792:function(e,t){var a=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function l(e){try{c(n.next(e))}catch(e){r(e)}}function i(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=void 0,t.loadImage=e=>a(void 0,void 0,void 0,(function*(){const t=new Image;return new Promise(((a,n)=>{t.onload=()=>{a(t)},t.onerror=e=>{n(e)},t.src=e}))}))}},t={};!function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}(673)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kZW1vcy90cmlhbmdsZUZpdHRpbmdDcHUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZHJhdy9jcmVhdGVSZW5kZXJlci50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9tYXRocy9jb21tb24udHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvdXRpbHMvY2xhbXAudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvdXRpbHMvZ2V0SW1hZ2VEYXRhLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3V0aWxzL2xvYWRJbWFnZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOlsiX19hd2FpdGVyIiwidGhpcyIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJjcmVhdGVSZW5kZXJlcl8xIiwiY29tbW9uXzEiLCJnZXRJbWFnZURhdGFfMSIsImNsYW1wXzEiLCJsb2FkSW1hZ2VfMSIsImdhbWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicmVzb2x1dGlvbiIsImNhY2hlIiwidGltZXRha2VuIiwiZyIsImdldENvbnRleHQiLCJwMSIsIngiLCJ5IiwicDIiLCJwMyIsInRyaWFuZ2xlIiwicG9pbnRzIiwiZTEiLCJzdWIiLCJlMiIsImUzIiwibnVtSXRlcmF0aW9ucyIsImltYWdlRGF0YSIsInRyaWFuZ2xlTWFwRGF0YSIsImNlbnRlciIsImF2ZyIsIlBJMiIsIk1hdGgiLCJQSSIsImNvc1JvdGF0ZSIsImNvcyIsInNpbmVSb3RhdGUiLCJzaW4iLCJkcmF3IiwiY3JlYXRlUmVuZGVyZXIiLCJmb3JFYWNoIiwicG9pbnQiLCJkeCIsImR5IiwiY2xlYXJSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJ4U3RlcCIsInlTdGVwIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsIm1heEluZGV4IiwicDFJbmRleCIsImNsYW1wIiwicm91bmQiLCJwMkluZGV4IiwicDNJbmRleCIsInRyaWFuZ2xlTWFwSW5kZXgiLCJ0cmlhbmdsZUNvbG91ciIsImRhdGEiLCJzbGljZSIsImlubmVyVGV4dCIsInB1dEltYWdlRGF0YSIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsImFyYyIsImZpbGwiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsIm1vdmVUbyIsImxpbmVUbyIsImNsb3NlUGF0aCIsInN0cm9rZSIsImZsb29yIiwiZHJhd0ltYWdlIiwib253aGVlbCIsInNjYWxlRmFjdG9yIiwic2lnbiIsImRlbHRhWSIsImFkZE11dGF0ZSIsInNjYWxlIiwib25tb3VzZW1vdmUiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtb3VzZVBvcyIsInBhZ2VYIiwibGVmdCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbExlZnQiLCJwYWdlWSIsInRvcCIsInNjcm9sbFRvcCIsImRpZmYiLCJzdGFydCIsInBhcnNlSW50IiwiY2FjaGVTcmMiLCJpbWFnZSIsImNhY2hlSW1hZ2UiLCJhbGwiLCJsb2FkSW1hZ2UiLCJzcmMiLCJnZXRJbWFnZURhdGEiLCJvbmNoYW5nZSIsInJlbmRlckZ1bmMiLCJhZnRlclJlbmRlckZ1bmMiLCJkcmF3aW5nIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaW5SYW5nZSIsIm1heDIiLCJtaW4yIiwidG9QcmVjaXNpb24yIiwibGVycDIiLCJsZXJwIiwibm9ybWFsaXplIiwibGVuZ3RoIiwiZXF1YWwiLCJkb3QiLCJhYnMiLCJjZWlsIiwiYWRkcyIsImFkZCIsImRpdmlkZSIsIm11bHRpcGx5IiwiZXF1YWxzIiwiZGV0ZXJtaW5hbnQyIiwidGltZUF0UG9zIiwiY2xhbXAyIiwiYSIsIm1pbiIsIm1heCIsInN0YXJ0UG9zIiwiZGlyIiwibmV3UG9zIiwiYiIsInNxcnQiLCJ0IiwiYW1vdW50IiwicGFyc2VGbG9hdCIsInRvUHJlY2lzaW9uIiwib2JqIiwib2JqcyIsImFyciIsInN1bSIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJ2YWwiLCJpbWFnZUNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJpbWFnZUdyYXBoaWNzIiwiRXJyb3IiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJlcnIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJtYXBwaW5ncyI6IjhDQUNBLElBQUlBLEVBQWFDLE1BQVFBLEtBQUtELFdBQWMsU0FBVUUsRUFBU0MsRUFBWUMsRUFBR0MsR0FFMUUsT0FBTyxJQUFLRCxJQUFNQSxFQUFJRSxXQUFVLFNBQVVDLEVBQVNDLEdBQy9DLFNBQVNDLEVBQVVDLEdBQVMsSUFBTUMsRUFBS04sRUFBVU8sS0FBS0YsSUFBVyxNQUFPRyxHQUFLTCxFQUFPSyxJQUNwRixTQUFTQyxFQUFTSixHQUFTLElBQU1DLEVBQUtOLEVBQWlCLE1BQUVLLElBQVcsTUFBT0csR0FBS0wsRUFBT0ssSUFDdkYsU0FBU0YsRUFBS0ksR0FKbEIsSUFBZUwsRUFJYUssRUFBT0MsS0FBT1QsRUFBUVEsRUFBT0wsUUFKMUNBLEVBSXlESyxFQUFPTCxNQUpoREEsYUFBaUJOLEVBQUlNLEVBQVEsSUFBSU4sR0FBRSxTQUFVRyxHQUFXQSxFQUFRRyxPQUlUTyxLQUFLUixFQUFX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LFNBQVNDLEVBQVNKLEdBQVMsSUFBTUMsRUFBS04sRUFBaUIsTUFBRUssSUFBVyxNQUFPRyxHQUFLTCxFQUFPSyxJQUN2RixTQUFTRixFQUFLSSxHQUpsQixJQUFlTCxFQUlhSyxFQUFPQyxLQUFPVCxFQUFRUSxFQUFPTCxRQUoxQ0EsRUFJeURLLEVBQU9MLE1BSmhEQSxhQUFpQk4sRUFBSU0sRUFBUSxJQUFJTixHQUFFLFNBQVVHLEdBQVdBLEVBQVFHLE9BSVRPLEtBQUtSLEVBQVdLLEdBQ2xHSCxHQUFNTixFQUFZQSxFQUFVYSxNQUFNaEIsRUFBU0MsR0FBYyxLQUFLUyxZQUd0RU8sT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVYLE9BQU8sSUFDdERXLEVBQVFtRyxlQUFZLEVBYXBCbkcsRUFBUW1HLFVBWldDLEdBQVF6SCxPQUFVLE9BQVEsT0FBUSxHQUFRLFlBQ3pELE1BQU00SyxFQUFNLElBQUlDLE1BQ2hCLE9BQU8sSUFBSXZLLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDekJvSyxFQUFJRSxPQUFTLEtBQ1R2SyxFQUFRcUssSUFFWkEsRUFBSUcsUUFBV0MsSUFDWHhLLEVBQU93SyxJQUVYSixFQUFJbkQsSUFBTUEsVUNwQmR3RCxFQUEyQixJQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhL0osUUFHckIsSUFBSWlLLEVBQVNMLEVBQXlCRSxHQUFZLENBR2pEOUosUUFBUyxJQU9WLE9BSEFrSyxFQUFvQkosR0FBVUssS0FBS0YsRUFBT2pLLFFBQVNpSyxFQUFRQSxFQUFPakssUUFBUzZKLEdBR3BFSSxFQUFPakssUUNsQlc2SixDQUFvQixNIiwiZmlsZSI6InRyaWFuZ2xlX2ZpdHRpbmdfY3B1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBjcmVhdGVSZW5kZXJlcl8xID0gcmVxdWlyZShcIi4uL2RyYXcvY3JlYXRlUmVuZGVyZXJcIik7XHJcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL21hdGhzL2NvbW1vblwiKTtcclxuY29uc3QgZ2V0SW1hZ2VEYXRhXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZ2V0SW1hZ2VEYXRhXCIpO1xyXG5jb25zdCBjbGFtcF8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2NsYW1wXCIpO1xyXG5jb25zdCBsb2FkSW1hZ2VfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9sb2FkSW1hZ2VcIik7XHJcbmNvbnN0IGdhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVcIik7XHJcbmNvbnN0IHJlc29sdXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc29sdXRpb25cIik7XHJcbmNvbnN0IGNhY2hlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYWNoZVwiKTtcclxuY29uc3QgdGltZXRha2VuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aW1ldGFrZW5cIik7XHJcbmNvbnN0IGcgPSBnYW1lLmdldENvbnRleHQoXCIyZFwiKTtcclxuY29uc3QgcDEgPSB7IHg6IDE2MCwgeTogMTYwIH07XHJcbmNvbnN0IHAyID0geyB4OiAyNTAsIHk6IDEzMCB9O1xyXG5jb25zdCBwMyA9IHsgeDogMTUwLCB5OiAyNzAgfTtcclxuY29uc3QgdHJpYW5nbGUgPSB7XHJcbiAgICBwMSxcclxuICAgIHAyLFxyXG4gICAgcDMsXHJcbiAgICBwb2ludHM6IFtwMSwgcDIsIHAzXSxcclxuICAgIGUxOiBjb21tb25fMS5zdWIocDIsIHAxKSxcclxuICAgIGUyOiBjb21tb25fMS5zdWIocDMsIHAyKSxcclxuICAgIGUzOiBjb21tb25fMS5zdWIocDEsIHAzKVxyXG59O1xyXG50cmlhbmdsZS5jZW50ZXIgPSBjb21tb25fMS5hdmcodHJpYW5nbGUucG9pbnRzKTtcclxubGV0IG51bUl0ZXJhdGlvbnM7XHJcbmxldCBpbWFnZURhdGE7XHJcbmxldCB0cmlhbmdsZU1hcERhdGE7XHJcbmNvbnN0IGdyaWREb3RSYWRpdXMgPSA0O1xyXG5jb25zdCB0cmlhbmdsZU1hcEJ5dGVzID0gNDtcclxuY29uc3QgUEkyID0gTWF0aC5QSSAqIDI7XHJcbmNvbnN0IGRyYXdJbWFnZSA9ICgpID0+IHtcclxuICAgIGcuY2xlYXJSZWN0KDAsIDAsIGdhbWUud2lkdGgsIGdhbWUuaGVpZ2h0KTtcclxuICAgIGNvbnN0IHhTdGVwID0gKGltYWdlRGF0YS53aWR0aCAtIDEpIC8gKG51bUl0ZXJhdGlvbnMgLSAxKTtcclxuICAgIGNvbnN0IHlTdGVwID0gKGltYWdlRGF0YS5oZWlnaHQgLSAxKSAvIChudW1JdGVyYXRpb25zIC0gMSk7XHJcbiAgICAvL2dldCB0aGUgdGltZSBpdCB0YWtlcyB0byB0cmFuc2Zvcm0gb3VyIHRyaWFuZ2xlIGFuZCBwZXJmb3JtIHRoZSBsb29rdXBcclxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBtYXhJbmRleCA9IG51bUl0ZXJhdGlvbnMgLSAxO1xyXG4gICAgY29uc3QgcDFJbmRleCA9IHsgeDogY2xhbXBfMS5jbGFtcChNYXRoLnJvdW5kKHRyaWFuZ2xlLnAxLnggLyB4U3RlcCksIDAsIG1heEluZGV4KSwgeTogY2xhbXBfMS5jbGFtcChNYXRoLnJvdW5kKHRyaWFuZ2xlLnAxLnkgLyB5U3RlcCksIDAsIG1heEluZGV4KSB9O1xyXG4gICAgY29uc3QgcDJJbmRleCA9IHsgeDogY2xhbXBfMS5jbGFtcChNYXRoLnJvdW5kKHRyaWFuZ2xlLnAyLnggLyB4U3RlcCksIDAsIG1heEluZGV4KSwgeTogY2xhbXBfMS5jbGFtcChNYXRoLnJvdW5kKHRyaWFuZ2xlLnAyLnkgLyB5U3RlcCksIDAsIG1heEluZGV4KSB9O1xyXG4gICAgY29uc3QgcDNJbmRleCA9IHsgeDogY2xhbXBfMS5jbGFtcChNYXRoLnJvdW5kKHRyaWFuZ2xlLnAzLnggLyB4U3RlcCksIDAsIG1heEluZGV4KSwgeTogY2xhbXBfMS5jbGFtcChNYXRoLnJvdW5kKHRyaWFuZ2xlLnAzLnkgLyB5U3RlcCksIDAsIG1heEluZGV4KSB9O1xyXG4gICAgY29uc3QgdHJpYW5nbGVNYXBJbmRleCA9IChwM0luZGV4LnkgKyBudW1JdGVyYXRpb25zICogKHAzSW5kZXgueCArIG51bUl0ZXJhdGlvbnMgKiAocDJJbmRleC55ICsgbnVtSXRlcmF0aW9ucyAqIChwMkluZGV4LnggKyBudW1JdGVyYXRpb25zICogKHAxSW5kZXgueSArIG51bUl0ZXJhdGlvbnMgKiAocDFJbmRleC54KSkpKSkpO1xyXG4gICAgY29uc3QgdHJpYW5nbGVDb2xvdXIgPSB0cmlhbmdsZU1hcERhdGEuZGF0YS5zbGljZSh0cmlhbmdsZU1hcEluZGV4ICogdHJpYW5nbGVNYXBCeXRlcywgKHRyaWFuZ2xlTWFwSW5kZXggKyAxKSAqIHRyaWFuZ2xlTWFwQnl0ZXMpO1xyXG4gICAgdGltZXRha2VuLmlubmVyVGV4dCA9IGAkeyhEYXRlLm5vdygpIC0gc3RhcnRUaW1lKX0gbXNgO1xyXG4gICAgZy5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcclxuICAgIC8vcGxvdCB0aGUgdmlydHVhbCBncmlkIHBvaW50cyBmb3Igb3VyIHJlc29sdXRpb25cclxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgaW1hZ2VEYXRhLndpZHRoOyB4ICs9IHhTdGVwKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBpbWFnZURhdGEuaGVpZ2h0OyB5ICs9IHlTdGVwKSB7XHJcbiAgICAgICAgICAgIGcuZmlsbFN0eWxlID0gXCJ5ZWxsb3dcIjtcclxuICAgICAgICAgICAgZy5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgZy5hcmMoeCwgeSwgZ3JpZERvdFJhZGl1cywgMCwgUEkyKTtcclxuICAgICAgICAgICAgZy5maWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9yZW5kZXIgYW4gb3V0bGluZSBvZiB0aGUgdHJpYW5nbGUgY29vcmRzIHRoYXQgd2UgaGF2ZSBmaXR0ZWQgdG8gdGhlIGdyaWRcclxuICAgIGcubGluZVdpZHRoID0gMTtcclxuICAgIGcuc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgZy5iZWdpblBhdGgoKTtcclxuICAgIGcubW92ZVRvKHAxSW5kZXgueCAqIHhTdGVwLCBwMUluZGV4LnkgKiB5U3RlcCk7XHJcbiAgICBnLmxpbmVUbyhwMkluZGV4LnggKiB4U3RlcCwgcDJJbmRleC55ICogeVN0ZXApO1xyXG4gICAgZy5saW5lVG8ocDNJbmRleC54ICogeFN0ZXAsIHAzSW5kZXgueSAqIHlTdGVwKTtcclxuICAgIGcuY2xvc2VQYXRoKCk7XHJcbiAgICBnLnN0cm9rZSgpO1xyXG4gICAgLy9yZW5kZXIgb3VyIHRyaWFuZ2xlXHJcbiAgICBnLmxpbmVXaWR0aCA9IDE7XHJcbiAgICBnLnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgZy5maWxsU3R5bGUgPSBgcmdiYSgke01hdGguZmxvb3IodHJpYW5nbGVDb2xvdXJbMF0pfSwgJHtNYXRoLmZsb29yKHRyaWFuZ2xlQ29sb3VyWzFdKX0sICR7TWF0aC5mbG9vcih0cmlhbmdsZUNvbG91clsyXSl9LCAke01hdGguZmxvb3IodHJpYW5nbGVDb2xvdXJbM10pfSlgO1xyXG4gICAgZy5iZWdpblBhdGgoKTtcclxuICAgIGcubW92ZVRvKHRyaWFuZ2xlLnAxLngsIHRyaWFuZ2xlLnAxLnkpO1xyXG4gICAgZy5saW5lVG8odHJpYW5nbGUucDIueCwgdHJpYW5nbGUucDIueSk7XHJcbiAgICBnLmxpbmVUbyh0cmlhbmdsZS5wMy54LCB0cmlhbmdsZS5wMy55KTtcclxuICAgIGcuY2xvc2VQYXRoKCk7XHJcbiAgICBnLmZpbGwoKTtcclxuICAgIGcuc3Ryb2tlKCk7XHJcbn07XHJcbmNvbnN0IHJvdGF0ZUFtb3VudCA9IDAuMDE7XHJcbmNvbnN0IHNjYWxlQW1vdW50ID0gMC4xO1xyXG5jb25zdCBjb3NSb3RhdGUgPSBNYXRoLmNvcyhyb3RhdGVBbW91bnQpO1xyXG5jb25zdCBzaW5lUm90YXRlID0gTWF0aC5zaW4ocm90YXRlQW1vdW50KTtcclxuY29uc3QgZHJhdyA9IGNyZWF0ZVJlbmRlcmVyXzEuY3JlYXRlUmVuZGVyZXIoKCkgPT4ge1xyXG4gICAgdHJpYW5nbGUucG9pbnRzLmZvckVhY2goKHBvaW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZHggPSBwb2ludC54IC0gdHJpYW5nbGUuY2VudGVyLng7XHJcbiAgICAgICAgY29uc3QgZHkgPSBwb2ludC55IC0gdHJpYW5nbGUuY2VudGVyLnk7XHJcbiAgICAgICAgcG9pbnQueCA9IHRyaWFuZ2xlLmNlbnRlci54ICsgKGR4ICogY29zUm90YXRlKSAtIChkeSAqIHNpbmVSb3RhdGUpO1xyXG4gICAgICAgIHBvaW50LnkgPSB0cmlhbmdsZS5jZW50ZXIueSArIChkeCAqIHNpbmVSb3RhdGUpICsgKGR5ICogY29zUm90YXRlKTtcclxuICAgIH0pO1xyXG4gICAgdHJpYW5nbGUuZTEgPSBjb21tb25fMS5zdWIodHJpYW5nbGUucDIsIHRyaWFuZ2xlLnAxKTtcclxuICAgIHRyaWFuZ2xlLmUyID0gY29tbW9uXzEuc3ViKHRyaWFuZ2xlLnAzLCB0cmlhbmdsZS5wMik7XHJcbiAgICB0cmlhbmdsZS5lMyA9IGNvbW1vbl8xLnN1Yih0cmlhbmdsZS5wMSwgdHJpYW5nbGUucDMpO1xyXG4gICAgaWYgKGltYWdlRGF0YSAmJiB0cmlhbmdsZU1hcERhdGEpIHtcclxuICAgICAgICBkcmF3SW1hZ2UoKTtcclxuICAgIH1cclxufSwgKCkgPT4gZHJhdygpKTtcclxuZ2FtZS5vbndoZWVsID0gZnVuY3Rpb24gKGUpIHtcclxuICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gc2NhbGVBbW91bnQgKiBNYXRoLnNpZ24oZS5kZWx0YVkpO1xyXG4gICAgY29tbW9uXzEuYWRkTXV0YXRlKHRyaWFuZ2xlLnAxLCBjb21tb25fMS5zY2FsZShjb21tb25fMS5zdWIodHJpYW5nbGUucDEsIHRyaWFuZ2xlLmNlbnRlciksIHNjYWxlRmFjdG9yKSk7XHJcbiAgICBjb21tb25fMS5hZGRNdXRhdGUodHJpYW5nbGUucDIsIGNvbW1vbl8xLnNjYWxlKGNvbW1vbl8xLnN1Yih0cmlhbmdsZS5wMiwgdHJpYW5nbGUuY2VudGVyKSwgc2NhbGVGYWN0b3IpKTtcclxuICAgIGNvbW1vbl8xLmFkZE11dGF0ZSh0cmlhbmdsZS5wMywgY29tbW9uXzEuc2NhbGUoY29tbW9uXzEuc3ViKHRyaWFuZ2xlLnAzLCB0cmlhbmdsZS5jZW50ZXIpLCBzY2FsZUZhY3RvcikpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5nYW1lLm9ubW91c2Vtb3ZlID0gKGUpID0+IHtcclxuICAgIGNvbnN0IGJvdW5kcyA9IGdhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCBtb3VzZVBvcyA9IHtcclxuICAgICAgICB4OiBlLnBhZ2VYIC0gYm91bmRzLmxlZnQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxcclxuICAgICAgICB5OiBlLnBhZ2VZIC0gYm91bmRzLnRvcCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcclxuICAgIH07XHJcbiAgICBjb25zdCBkaWZmID0gY29tbW9uXzEuc3ViKG1vdXNlUG9zLCB0cmlhbmdsZS5jZW50ZXIpO1xyXG4gICAgY29tbW9uXzEuYWRkTXV0YXRlKHRyaWFuZ2xlLnAxLCBkaWZmKTtcclxuICAgIGNvbW1vbl8xLmFkZE11dGF0ZSh0cmlhbmdsZS5wMiwgZGlmZik7XHJcbiAgICBjb21tb25fMS5hZGRNdXRhdGUodHJpYW5nbGUucDMsIGRpZmYpO1xyXG4gICAgdHJpYW5nbGUuY2VudGVyID0gbW91c2VQb3M7XHJcbiAgICBkcmF3KCk7XHJcbn07XHJcbmNvbnN0IHN0YXJ0ID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICBudW1JdGVyYXRpb25zID0gcGFyc2VJbnQocmVzb2x1dGlvbi52YWx1ZSwgMTApO1xyXG4gICAgY29uc3QgY2FjaGVTcmMgPSBgbWVkaWEvY2FjaGUvcGhvdG9fJHtudW1JdGVyYXRpb25zfS5wbmdgO1xyXG4gICAgY29uc3QgW2ltYWdlLCBjYWNoZUltYWdlXSA9IHlpZWxkIFByb21pc2UuYWxsKFtcclxuICAgICAgICBsb2FkSW1hZ2VfMS5sb2FkSW1hZ2UoXCJtZWRpYS9waG90by5wbmdcIiksXHJcbiAgICAgICAgbG9hZEltYWdlXzEubG9hZEltYWdlKGNhY2hlU3JjKVxyXG4gICAgXSk7XHJcbiAgICBjYWNoZS5zcmMgPSBjYWNoZVNyYztcclxuICAgIGltYWdlRGF0YSA9IGdldEltYWdlRGF0YV8xLmdldEltYWdlRGF0YShpbWFnZSk7XHJcbiAgICB0cmlhbmdsZU1hcERhdGEgPSBnZXRJbWFnZURhdGFfMS5nZXRJbWFnZURhdGEoY2FjaGVJbWFnZSk7XHJcbiAgICBkcmF3KCk7XHJcbn0pO1xyXG5zdGFydCgpO1xyXG5yZXNvbHV0aW9uLm9uY2hhbmdlID0gc3RhcnQ7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuY3JlYXRlUmVuZGVyZXIgPSB2b2lkIDA7XHJcbmNvbnN0IGNyZWF0ZVJlbmRlcmVyID0gKHJlbmRlckZ1bmMsIGFmdGVyUmVuZGVyRnVuYykgPT4ge1xyXG4gICAgbGV0IGRyYXdpbmcgPSBmYWxzZTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFkcmF3aW5nKSB7XHJcbiAgICAgICAgICAgIGRyYXdpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyRnVuYygpO1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJSZW5kZXJGdW5jID09PSBudWxsIHx8IGFmdGVyUmVuZGVyRnVuYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWZ0ZXJSZW5kZXJGdW5jKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcbmV4cG9ydHMuY3JlYXRlUmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5pblJhbmdlID0gZXhwb3J0cy5hdmcgPSBleHBvcnRzLm1heDIgPSBleHBvcnRzLm1pbjIgPSBleHBvcnRzLnRvUHJlY2lzaW9uMiA9IGV4cG9ydHMuYWRkTXV0YXRlID0gZXhwb3J0cy5sZXJwMiA9IGV4cG9ydHMubGVycCA9IGV4cG9ydHMubm9ybWFsaXplID0gZXhwb3J0cy5sZW5ndGggPSBleHBvcnRzLmVxdWFsID0gZXhwb3J0cy5kb3QgPSBleHBvcnRzLnNpZ24gPSBleHBvcnRzLmFicyA9IGV4cG9ydHMuY2VpbCA9IGV4cG9ydHMuZmxvb3IgPSBleHBvcnRzLnN1YiA9IGV4cG9ydHMuYWRkcyA9IGV4cG9ydHMuYWRkID0gZXhwb3J0cy5kaXZpZGUgPSBleHBvcnRzLm11bHRpcGx5ID0gZXhwb3J0cy5zY2FsZSA9IGV4cG9ydHMuZXF1YWxzID0gZXhwb3J0cy5kZXRlcm1pbmFudDIgPSBleHBvcnRzLnRpbWVBdFBvcyA9IGV4cG9ydHMuY2xhbXAyID0gZXhwb3J0cy5jbGFtcCA9IHZvaWQgMDtcclxuY29uc3QgY2xhbXAgPSAoYSwgbWluLCBtYXgpID0+IE1hdGgubWF4KE1hdGgubWluKGEsIG1heCksIG1pbik7XHJcbmV4cG9ydHMuY2xhbXAgPSBjbGFtcDtcclxuY29uc3QgY2xhbXAyID0gKGEsIG1pbiwgbWF4KSA9PiAoeyB4OiBleHBvcnRzLmNsYW1wKGEueCwgbWluLngsIG1heC54KSwgeTogZXhwb3J0cy5jbGFtcChhLnksIG1pbi55LCBtYXgueSkgfSk7XHJcbmV4cG9ydHMuY2xhbXAyID0gY2xhbXAyO1xyXG5jb25zdCB0aW1lQXRQb3MgPSAoc3RhcnRQb3MsIGRpciwgbmV3UG9zKSA9PiBkaXIgPyBleHBvcnRzLmNsYW1wKChuZXdQb3MgLSBzdGFydFBvcykgLyBkaXIsIDAsIDEpIDogMDtcclxuZXhwb3J0cy50aW1lQXRQb3MgPSB0aW1lQXRQb3M7XHJcbmNvbnN0IGRldGVybWluYW50MiA9IChwMSwgcDIpID0+IChwMS54ICogcDIueSkgLSAocDEueSAqIHAyLngpO1xyXG5leHBvcnRzLmRldGVybWluYW50MiA9IGRldGVybWluYW50MjtcclxuY29uc3QgZXF1YWxzID0gKGEsIGIpID0+IGEueCA9PT0gYi54ICYmIGEueSA9PT0gYi55O1xyXG5leHBvcnRzLmVxdWFscyA9IGVxdWFscztcclxuY29uc3Qgc2NhbGUgPSAocDEsIGEpID0+ICh7IHg6IGEgKiBwMS54LCB5OiBhICogcDEueSB9KTtcclxuZXhwb3J0cy5zY2FsZSA9IHNjYWxlO1xyXG5jb25zdCBtdWx0aXBseSA9IChwMSwgcDIpID0+ICh7IHg6IHAyLnggKiBwMS54LCB5OiBwMi55ICogcDEueSB9KTtcclxuZXhwb3J0cy5tdWx0aXBseSA9IG11bHRpcGx5O1xyXG5jb25zdCBkaXZpZGUgPSAocDEsIHAyKSA9PiAoeyB4OiBwMS54IC8gcDIueCwgeTogcDEueSAvIHAyLnkgfSk7XHJcbmV4cG9ydHMuZGl2aWRlID0gZGl2aWRlO1xyXG5jb25zdCBhZGQgPSAocDEsIHAyKSA9PiAoeyB4OiBwMS54ICsgcDIueCwgeTogcDEueSArIHAyLnkgfSk7XHJcbmV4cG9ydHMuYWRkID0gYWRkO1xyXG5jb25zdCBhZGRzID0gKHAxLCBhKSA9PiAoeyB4OiBwMS54ICsgYSwgeTogcDEueSArIGEgfSk7XHJcbmV4cG9ydHMuYWRkcyA9IGFkZHM7XHJcbmNvbnN0IHN1YiA9IChwMSwgcDIpID0+ICh7IHg6IHAxLnggLSBwMi54LCB5OiBwMS55IC0gcDIueSB9KTtcclxuZXhwb3J0cy5zdWIgPSBzdWI7XHJcbmNvbnN0IGZsb29yID0gKHAxKSA9PiAoeyB4OiBNYXRoLmZsb29yKHAxLngpLCB5OiBNYXRoLmZsb29yKHAxLnkpIH0pO1xyXG5leHBvcnRzLmZsb29yID0gZmxvb3I7XHJcbmNvbnN0IGNlaWwgPSAocDEpID0+ICh7IHg6IE1hdGguY2VpbChwMS54KSwgeTogTWF0aC5jZWlsKHAxLnkpIH0pO1xyXG5leHBvcnRzLmNlaWwgPSBjZWlsO1xyXG5jb25zdCBhYnMgPSAocDEpID0+ICh7IHg6IE1hdGguYWJzKHAxLngpLCB5OiBNYXRoLmFicyhwMS55KSB9KTtcclxuZXhwb3J0cy5hYnMgPSBhYnM7XHJcbmNvbnN0IHNpZ24gPSAocDEpID0+ICh7IHg6IE1hdGguc2lnbihwMS54KSwgeTogTWF0aC5zaWduKHAxLnkpIH0pO1xyXG5leHBvcnRzLnNpZ24gPSBzaWduO1xyXG5jb25zdCBkb3QgPSAocDEsIHAyKSA9PiBwMS54ICogcDIueCArIHAxLnkgKiBwMi55O1xyXG5leHBvcnRzLmRvdCA9IGRvdDtcclxuY29uc3QgZXF1YWwgPSAocDEsIHAyKSA9PiBwMS54ID09IHAyLnggJiYgcDEueSA9PSBwMi55O1xyXG5leHBvcnRzLmVxdWFsID0gZXF1YWw7XHJcbmNvbnN0IGxlbmd0aCA9IChwMSkgPT4gTWF0aC5zcXJ0KHAxLnggKiBwMS54ICsgcDEueSAqIHAxLnkpO1xyXG5leHBvcnRzLmxlbmd0aCA9IGxlbmd0aDtcclxuY29uc3Qgbm9ybWFsaXplID0gKHAxKSA9PiBleHBvcnRzLnNjYWxlKHAxLCAxIC8gZXhwb3J0cy5sZW5ndGgocDEpKTtcclxuZXhwb3J0cy5ub3JtYWxpemUgPSBub3JtYWxpemU7XHJcbmNvbnN0IGxlcnAgPSAoYSwgYiwgdCkgPT4gYSAqICgxIC0gdCkgKyBiICogdDtcclxuZXhwb3J0cy5sZXJwID0gbGVycDtcclxuY29uc3QgbGVycDIgPSAoYSwgYiwgdCkgPT4gKHsgeDogZXhwb3J0cy5sZXJwKGEueCwgYi54LCB0KSwgeTogZXhwb3J0cy5sZXJwKGEueSwgYi55LCB0KSB9KTtcclxuZXhwb3J0cy5sZXJwMiA9IGxlcnAyO1xyXG5jb25zdCBhZGRNdXRhdGUgPSAocDEsIHAyKSA9PiB7XHJcbiAgICBwMS54ICs9IHAyLng7XHJcbiAgICBwMS55ICs9IHAyLnk7XHJcbn07XHJcbmV4cG9ydHMuYWRkTXV0YXRlID0gYWRkTXV0YXRlO1xyXG4vL3dhcm5pbmc6IG11dGF0ZXMgYVxyXG5jb25zdCB0b1ByZWNpc2lvbjIgPSAoYSwgYW1vdW50KSA9PiB7XHJcbiAgICBhLnggPSBwYXJzZUZsb2F0KGEueC50b1ByZWNpc2lvbihhbW91bnQpKTtcclxuICAgIGEueSA9IHBhcnNlRmxvYXQoYS55LnRvUHJlY2lzaW9uKGFtb3VudCkpO1xyXG4gICAgcmV0dXJuIGE7XHJcbn07XHJcbmV4cG9ydHMudG9QcmVjaXNpb24yID0gdG9QcmVjaXNpb24yO1xyXG5jb25zdCBtaW4yID0gKG9iaiwgLi4ub2JqcykgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgIHg6IG9iai54LFxyXG4gICAgICAgIHk6IG9iai55XHJcbiAgICB9O1xyXG4gICAgb2Jqcy5mb3JFYWNoKChvYmopID0+IHtcclxuICAgICAgICByZXN1bHQueCA9IE1hdGgubWluKHJlc3VsdC54LCBvYmoueCk7XHJcbiAgICAgICAgcmVzdWx0LnkgPSBNYXRoLm1pbihyZXN1bHQueSwgb2JqLnkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5leHBvcnRzLm1pbjIgPSBtaW4yO1xyXG5jb25zdCBtYXgyID0gKG9iaiwgLi4ub2JqcykgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgIHg6IG9iai54LFxyXG4gICAgICAgIHk6IG9iai55XHJcbiAgICB9O1xyXG4gICAgb2Jqcy5mb3JFYWNoKChvYmopID0+IHtcclxuICAgICAgICByZXN1bHQueCA9IE1hdGgubWF4KHJlc3VsdC54LCBvYmoueCk7XHJcbiAgICAgICAgcmVzdWx0LnkgPSBNYXRoLm1heChyZXN1bHQueSwgb2JqLnkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5leHBvcnRzLm1heDIgPSBtYXgyO1xyXG5jb25zdCBhdmcgPSAoYXJyKSA9PiB7XHJcbiAgICBjb25zdCBzdW0gPSBhcnIucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcclxuICAgICAgICBhY2MueCArPSBpdGVtLng7XHJcbiAgICAgICAgYWNjLnkgKz0gaXRlbS55O1xyXG4gICAgICAgIHJldHVybiBhY2M7XHJcbiAgICB9LCB7IHg6IDAsIHk6IDAgfSk7XHJcbiAgICBzdW0ueCAvPSBhcnIubGVuZ3RoO1xyXG4gICAgc3VtLnkgLz0gYXJyLmxlbmd0aDtcclxuICAgIHJldHVybiBzdW07XHJcbn07XHJcbmV4cG9ydHMuYXZnID0gYXZnO1xyXG5jb25zdCBpblJhbmdlID0gKHAxLCBtaW4sIG1heCkgPT4ge1xyXG4gICAgcmV0dXJuICEocDEueCA+IG1heC54IHx8IHAxLnggPCBtaW4ueCB8fCBwMS55ID4gbWF4LnkgfHwgcDEueSA8IG1pbi55KTtcclxufTtcclxuZXhwb3J0cy5pblJhbmdlID0gaW5SYW5nZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5jbGFtcCA9IHZvaWQgMDtcclxuY29uc3QgY2xhbXAgPSAodmFsLCBtaW4sIG1heCkgPT4ge1xyXG4gICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHZhbCwgbWF4KSwgbWluKTtcclxufTtcclxuZXhwb3J0cy5jbGFtcCA9IGNsYW1wO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmdldEltYWdlRGF0YSA9IHZvaWQgMDtcclxuY29uc3QgZ2V0SW1hZ2VEYXRhID0gKGltYWdlKSA9PiB7XHJcbiAgICBjb25zdCBpbWFnZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgaW1hZ2VDYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcclxuICAgIGltYWdlQ2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcclxuICAgIGNvbnN0IGltYWdlR3JhcGhpY3MgPSBpbWFnZUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgaWYgKCFpbWFnZUdyYXBoaWNzKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgY3JlYXRlIGNhbnZhcyB0byBleHRyYWN0IGltYWdlIGRhdGEnKTtcclxuICAgIH1cclxuICAgIGltYWdlR3JhcGhpY3MuY2xlYXJSZWN0KDAsIDAsIGltYWdlQ2FudmFzLndpZHRoLCBpbWFnZUNhbnZhcy5oZWlnaHQpO1xyXG4gICAgaW1hZ2VHcmFwaGljcy5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xyXG4gICAgcmV0dXJuIGltYWdlR3JhcGhpY3MuZ2V0SW1hZ2VEYXRhKDAsIDAsIGltYWdlQ2FudmFzLndpZHRoLCBpbWFnZUNhbnZhcy5oZWlnaHQpO1xyXG59O1xyXG5leHBvcnRzLmdldEltYWdlRGF0YSA9IGdldEltYWdlRGF0YTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmxvYWRJbWFnZSA9IHZvaWQgMDtcclxuY29uc3QgbG9hZEltYWdlID0gKHNyYykgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nLm9uZXJyb3IgPSAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nLnNyYyA9IHNyYztcclxuICAgIH0pO1xyXG59KTtcclxuZXhwb3J0cy5sb2FkSW1hZ2UgPSBsb2FkSW1hZ2U7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjczKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=