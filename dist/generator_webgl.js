"use strict";(self.webpackChunksampling_coverage=self.webpackChunksampling_coverage||[]).push([[57],{5077:function(e,n,t){var i=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))((function(a,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}l((i=i.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const a=t(8372),r=t(9864),o=t(7305),s=document.getElementById("game"),l=document.getElementById("image_preview"),p=document.getElementById("chooseimage"),u=document.getElementById("resolution"),g=document.getElementById("timetaken"),d=s.getContext("webgl2",{antialias:!1,premultipliedAlpha:!1}),c=()=>i(void 0,void 0,void 0,(function*(){const e=new Image,n=()=>{l.src=p.value;const n=parseInt(u.value,10);((e,n)=>{const t=Math.pow(n,3);d.canvas.width=t,d.canvas.height=t;const i=r.createProgramFromShader(d,o.generator);d.useProgram(i);const a=d.createTexture();d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,a),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!1),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,e),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST);const s=d.getUniformLocation(i,"uSampler");d.uniform1i(s,0);const l=d.getUniformLocation(i,"uResolution");d.uniform1ui(l,n);const p=d.getUniformLocation(i,"uSize");d.uniform1ui(p,t);const u=d.getUniformLocation(i,"uStep");d.uniform2fv(u,[(e.width-1)/(n-1),(e.height-1)/(n-1)]),d.clearColor(0,0,0,0),d.viewport(0,0,d.canvas.width,d.canvas.height)})(a.getImageData(e),n),(()=>{d.clear(d.COLOR_BUFFER_BIT);const e=Date.now();d.drawArrays(d.TRIANGLES,0,3),d.readPixels(0,0,1,1,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(4)),g.innerText=Date.now()-e+" ms"})()};u.onchange=n,e.onload=n,e.src=p.value}));p.onchange=c,c()},7305:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.generator=void 0;const i=t(861),a=t(1858);n.generator={version:"300 es",vertex:{head:"\n            const vec2[3] coords = vec2[3](\n                vec2(-1.0, 1.0),\n                vec2(3.0, 1.0),\n                vec2(-1.0, -3.0)\n            );\n        ",main:"\n            gl_Position = vec4(coords[gl_VertexID], 0.0, 1.0);\n        "},fragment:{dependencies:[a.Triangle,i.triangleCoverage],head:"\n            precision highp float;\n\n            uniform vec2 uStep;\n            uniform uint uResolution;\n            uniform uint uSize;\n            uniform sampler2D uSampler;\n\n            out vec4 outColor;\n        ",main:"\n            //start from the top left corner like the other solutions\n            uvec2 pixelIndex = uvec2(gl_FragCoord.x, uSize - uint(gl_FragCoord.y));\n            uint flatPixelIndex = pixelIndex.y * uSize + pixelIndex.x;\n\n            //deconstruct the 2d coord into the 3 2d triangle coords\n            uint inverseIndex = flatPixelIndex;\n            uint p3y = inverseIndex % uResolution;\n            inverseIndex /= uResolution;\n            uint p3x = inverseIndex % uResolution;\n            inverseIndex /= uResolution;\n            uint p2y = inverseIndex % uResolution;\n            inverseIndex /= uResolution;\n            uint p2x = inverseIndex % uResolution;\n            inverseIndex /= uResolution;\n            uint p1y = inverseIndex % uResolution;\n            inverseIndex /= uResolution;\n            uint p1x = inverseIndex;\n\n            Triangle triangle = Triangle(\n                vec2(p1x, p1y) * uStep,\n                vec2(p2x, p2y) * uStep,\n                vec2(p3x, p3y) * uStep\n            );\n\n            outColor = triangleCoverage(triangle, uSampler);\n        "}}},3094:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.intersectLineSquare=void 0;const i=t(8049),a=t(4673);n.intersectLineSquare={dependencies:[i.Aabb,a.inverseLerp],text:"\n        vec4 intersectLineSquare(vec2 pos, vec2 dir, Aabb bounds) {\n            return vec4(\n                inverseLerp(pos.x, dir.x, bounds.minPos.x),\n                inverseLerp(pos.x, dir.x, bounds.maxPos.x),\n                inverseLerp(pos.y, dir.y, bounds.minPos.y),\n                inverseLerp(pos.y, dir.y, bounds.maxPos.y)\n            );\n        }\n    "}},2699:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.intersectTriangleSquare=void 0;const i=t(8049),a=t(1858),r=t(136),o=t(3094);n.intersectTriangleSquare={dependencies:[a.Triangle,i.Aabb,r.sort,o.intersectLineSquare],text:"\n        vec2[12] intersectTriangleSquare(Triangle triangle, Triangle edges, Aabb bounds) {\n            vec4 t1s = sort(intersectLineSquare(triangle.p1, edges.p1, bounds));\n            vec4 t2s = sort(intersectLineSquare(triangle.p2, edges.p2, bounds));\n            vec4 t3s = sort(intersectLineSquare(triangle.p3, edges.p3, bounds));\n            \n            return vec2[12](\n                clamp(triangle.p1 + edges.p1 * t1s.x, bounds.minPos, bounds.maxPos),\n                clamp(triangle.p1 + edges.p1 * t1s.y, bounds.minPos, bounds.maxPos),\n                clamp(triangle.p1 + edges.p1 * t1s.z, bounds.minPos, bounds.maxPos),\n                clamp(triangle.p1 + edges.p1 * t1s.w, bounds.minPos, bounds.maxPos),\n\n                clamp(triangle.p2 + edges.p2 * t2s.x, bounds.minPos, bounds.maxPos),\n                clamp(triangle.p2 + edges.p2 * t2s.y, bounds.minPos, bounds.maxPos),\n                clamp(triangle.p2 + edges.p2 * t2s.z, bounds.minPos, bounds.maxPos),\n                clamp(triangle.p2 + edges.p2 * t2s.w, bounds.minPos, bounds.maxPos),\n                \n                clamp(triangle.p3 + edges.p3 * t3s.x, bounds.minPos, bounds.maxPos),\n                clamp(triangle.p3 + edges.p3 * t3s.y, bounds.minPos, bounds.maxPos),\n                clamp(triangle.p3 + edges.p3 * t3s.z, bounds.minPos, bounds.maxPos),\n                clamp(triangle.p3 + edges.p3 * t3s.w, bounds.minPos, bounds.maxPos)\n            );\n        }\n    "}},7637:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getLineEquation=void 0;const i=t(4821),a=t(641);n.getLineEquation={dependencies:[i.Line,a.LineEquation],text:"\n        LineEquation getLineEquation(Line line) {\n            vec2 direction = line.p2 - line.p1;\n\n            float gradient = direction.y / direction.x;\n            float intersect = line.p1.y - line.p1.x * gradient;\n\n            return LineEquation(gradient, intersect);\n        }\n    "}},1233:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getLineRange=void 0;const i=t(4821),a=t(4923),r=t(7637);n.getLineRange={dependencies:[i.Line,a.LineRange,r.getLineEquation],text:"\n        LineRange getLineRange(Line line) {\n            vec2 pStart;\n            vec2 pEnd;\n            \n            //TODO: make a branchless version\n            if (line.p1.y < line.p2.y) {\n                pStart = line.p1;\n                pEnd = line.p2;\n            } else if (line.p1.y > line.p2.y) {\n                pStart = line.p2;\n                pEnd = line.p1;\n            } else if (line.p1.x < line.p2.x) {\n                pStart = line.p1;\n                pEnd = line.p2;\n            } else {\n                pStart = line.p2;\n                pEnd = line.p1;\n            }\n\n            return LineRange(\n                pStart,\n                pEnd,\n                vec2(min(line.p1.x, line.p2.x), max(line.p1.x, line.p2.x)),\n                getLineEquation(line)\n            );\n        }\n    "}},6729:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.solveLineX=void 0;const i=t(1648),a=t(4821),r=t(641);n.solveLineX={dependencies:[a.Line,r.LineEquation,i.epsilon],text:"\n        float solveLineX(LineEquation equation, float y) {\n            if (abs(equation.gradient) > epsilon) {\n                return (y - equation.intersect) / equation.gradient;\n            } else {\n                return -1.0;\n            }\n        }\n    "}},1648:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.epsilon=void 0,n.epsilon={text:"\n        const float epsilon = 0.00001;\n    "}},4673:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.inverseLerp=void 0,n.inverseLerp={text:"\n        float inverseLerp(float a, float diff, float val) {\n            return clamp((val - a) / diff, 0.0, 1.0);\n        }\n    "}},136:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.sort=void 0,n.sort={text:"\n        vec4 sort(vec4 nums) {\n            float a = min(nums.x, nums.y);\n            float b = max(nums.x, nums.y);\n            float c = min(nums.z, nums.w);\n            float d = max(nums.z, nums.w);\n            float e = min(b, c);\n            float f = max(b, c);\n            float h = max(a, e);\n            float i = min(f, d);\n\n            return vec4(min(a, e), min(h, i), max(h, i), max(f, d));\n        }\n    "}},4814:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.vec2Determinant=void 0,n.vec2Determinant={text:"\n        float vec2Determinant(vec2 p1, vec2 p2) {\n            return (p1.x * p2.y) - (p1.y * p2.x);\n        }\n    "}},5190:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.rasterise=void 0;const i=t(6531),a=t(1233),r=t(6729),o=t(4821),s=t(4923),l=t(1858),p=t(9142),u=t(4321);n.rasterise={dependencies:[u.triangleMin,p.triangleMax,o.Line,s.LineRange,a.getLineRange,l.Triangle,r.solveLineX],params:[{qualifier:"in",type:"Triangle",name:"triangle"}],text:e=>`\n        vec2 minPos = triangleMin(triangle);\n        vec2 maxPos = triangleMax(triangle);\n\n        Line[3] lines = Line[3](\n            Line(triangle.p1, triangle.p2),\n            Line(triangle.p2, triangle.p3),\n            Line(triangle.p3, triangle.p1)\n        );\n\n        LineRange[3] lineRanges = LineRange[3](\n            getLineRange(lines[0]),\n            getLineRange(lines[1]), \n            getLineRange(lines[2])\n        );\n        \n        if (maxPos.y - minPos.y < 1.0) {\n            ${i.callShaderSnippet(e,["uvec3(minPos.x, maxPos.x, minPos.y)","false"])}\n            return;\n        }\n\n        int prevY = int(minPos.y);\n\n        for (int y=prevY+1; y<=int(ceil(maxPos.y)); y++) {\n            //we just need to get four numbers, the outer min and max and inner min and max values\n            ivec4 range = ivec4(-1);\n\n            for (int i=0; i<3; i++) {\n                LineRange line = lineRanges[i];\n\n                if (line.pEnd.y >= float(prevY) && line.pStart.y < float(y)) {\n                    float fromX = solveLineX(line.equation, float(prevY));\n\n                    if (fromX > -1.0) {\n                        fromX = clamp(fromX, line.xRange.x, line.xRange.y);\n                    } else {\n                        fromX = line.pStart.x;\n                    }\n\n                    float toX = solveLineX(line.equation, float(y));\n\n                    if (toX > -1.0) {\n                        toX = clamp(toX, line.xRange.x, line.xRange.y);\n                    } else {\n                        toX = line.pEnd.x;\n                    }\n\n                    ivec2 xRange = ivec2(min(fromX, toX), max(fromX, toX));\n\n                    if (range.x < 0) {\n                        //first entry\n                        range.xy = xRange;\n                    } else if ((xRange.x <= range.y + 1 && xRange.x >= range.x - 1) || (xRange.y <= range.y + 1 && xRange.y >= range.x - 1)) {\n                        //extends the first entry\n                        range.xy = ivec2(min(range.x, xRange.x), max(range.y, xRange.y));\n                    } else if (range.z < 0) {\n                        //must be a new second range, determine if we need to swap or not to keep them ordered\n                        if (xRange.x > range.y) {\n                            range.zw = xRange;\n                        } else {\n                            range = ivec4(xRange, range.xy);\n                        } \n                    } else {\n                        //extends the second range\n                        range.zw = ivec2(min(range.z, xRange.x), max(range.w, xRange.y));\n                    }\n                }\n            }\n\n            ${i.callShaderSnippet(e,["uvec3(range.x, range.y, prevY)","false"])}\n\n            //we have an inside\n            if (range.z > range.y) {\n                ${i.callShaderSnippet(e,["uvec3(range.y + 1, range.z - 1, prevY)","true"])}\n                ${i.callShaderSnippet(e,["uvec3(range.z, range.w, prevY)","false"])}\n            }\n\n            prevY = y;\n        }\n    `}},861:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.triangleCoverage=void 0;const i=t(6531),a=t(5285),r=t(2072),o=t(2699),s=t(1648),l=t(4814),p=t(8049),u=t(1858),g=t(5047),d=t(5190),c=[{qualifier:"inout",type:"vec4",name:"colour"},{qualifier:"inout",type:"int",name:"numPixels"},{qualifier:"in",type:"sampler2D",name:"texture"},{qualifier:"in",type:"Triangle",name:"triangle"},{qualifier:"in",type:"Triangle",name:"edges"}],m=[{qualifier:"in",type:"uvec3",name:"range"},{qualifier:"in",type:"bool",name:"isInside"}],v=a.createShaderSnippetInstance({snippet:d.rasterise,resultObjs:c,params:[a.createShaderSnippetInstance({resultObjs:c,snippet:{params:m,text:()=>`\n                    for (uint x=range.x; x<=range.y; x++) {\n                        ${r.snippetResult}colour += texelFetch(${r.snippetResult}texture, ivec2(x, range.z), 0);\n                        ${r.snippetResult}numPixels += 1;\n                    }\n                `}})]}),x=a.createShaderSnippetInstance({dependencies:[o.intersectTriangleSquare,l.vec2Determinant,p.Aabb],snippet:d.rasterise,resultObjs:c,params:[a.createShaderSnippetInstance({resultObjs:c,snippet:{params:m,text:()=>`\n                    if (isInside) {\n                        for (uint x=range.x; x<range.y; x++) {\n                            ${r.snippetResult}colour += texelFetch(${r.snippetResult}texture, ivec2(x, range.z), 0);\n                        }\n                    } else {\n                        //process each outer pixel separately so we have per-pixel shading\n                        uint yMax = range.z + uint(1);\n\n                        for (uint x=range.x; x<range.y; x++) {\n                            Aabb bounds = Aabb(vec2(x, range.z), vec2(x + uint(1), yMax));\n\n                            //as a test, determine the coverage of the triangle in outside cells and use as antialiasing\n                            vec2[12] polygon = intersectTriangleSquare(${r.snippetResult}triangle, ${r.snippetResult}edges, bounds);\n                            \n                            float percentCoverage = clamp(abs((\n                                vec2Determinant(polygon[0], polygon[1]) +\n                                vec2Determinant(polygon[1], polygon[2]) +\n                                vec2Determinant(polygon[2], polygon[3]) +\n                                vec2Determinant(polygon[3], polygon[4]) +\n                                vec2Determinant(polygon[4], polygon[5]) +\n                                vec2Determinant(polygon[5], polygon[6]) +\n                                vec2Determinant(polygon[6], polygon[7]) +\n                                vec2Determinant(polygon[7], polygon[8]) +\n                                vec2Determinant(polygon[8], polygon[9]) +\n                                vec2Determinant(polygon[9], polygon[10]) +\n                                vec2Determinant(polygon[10], polygon[11]) +\n                                vec2Determinant(polygon[11], polygon[0])\n                            ) / 2.0), 0.0, 1.0);\n\n                            ${r.snippetResult}colour += texelFetch(${r.snippetResult}texture, ivec2(x, range.z), 0) * percentCoverage;\n                        }\n                    }\n                `}})]});n.triangleCoverage={dependencies:[u.Triangle,g.triangleArea,v,x,s.epsilon],text:`\n        vec4 triangleCoverage(Triangle triangle, sampler2D texture) {\n            float area = triangleArea(triangle);\n\n            Triangle edges = Triangle(triangle.p2 - triangle.p1, triangle.p3 - triangle.p2, triangle.p1 - triangle.p3);\n\n            vec4 colour = vec4(0.0);\n            int numPixels = 0;\n            \n            //if the triangle is degenerate and has no area then we just average the colours the lines cover\n            if (area < 1.0) {\n                ${i.callShaderSnippet(v,["triangle"],["colour","numPixels","texture","triangle","edges"])}\n                return colour / float(numPixels);\n            }\n            \n            ${i.callShaderSnippet(x,["triangle"],["colour","numPixels","texture","triangle","edges"])}\n            return colour / area;\n        }\n    `}},8049:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Aabb=void 0,n.Aabb={text:"\n        struct Aabb {\n            vec2 minPos;\n            vec2 maxPos;\n        };\n    "}},4821:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Line=void 0,n.Line={text:"\n        struct Line {\n            vec2 p1;\n            vec2 p2;\n        };\n    "}},641:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LineEquation=void 0,n.LineEquation={text:"\n        struct LineEquation {\n            float gradient;\n            float intersect;\n        };\n    "}},4923:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LineRange=void 0,n.LineRange={text:"\n        struct LineRange {\n            vec2 pStart;\n            vec2 pEnd;\n            vec2 xRange;\n            LineEquation equation;\n        };\n    "}},1858:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Triangle=void 0,n.Triangle={text:"\n        struct Triangle {\n            vec2 p1;\n            vec2 p2;\n            vec2 p3;\n        };\n    "}},5047:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.triangleArea=void 0;const i=t(1858),a=t(4814);n.triangleArea={dependencies:[i.Triangle,a.vec2Determinant],text:"\n        float triangleArea(Triangle triangle) {\n            return abs((\n                vec2Determinant(triangle.p1, triangle.p2) +\n                vec2Determinant(triangle.p2, triangle.p3) +\n                vec2Determinant(triangle.p3, triangle.p1)\n            ) / 2.0);\n        }\n    "}},9142:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.triangleMax=void 0;const i=t(1858);n.triangleMax={dependencies:[i.Triangle],text:"\n        vec2 triangleMax(Triangle triangle) {\n            return max(max(triangle.p1, triangle.p2), triangle.p3);\n        }\n    "}},4321:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.triangleMin=void 0;const i=t(1858);n.triangleMin={dependencies:[i.Triangle],text:"\n        vec2 triangleMin(Triangle triangle) {\n            return min(min(triangle.p1, triangle.p2), triangle.p3);\n        }\n    "}},8372:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getImageData=void 0,n.getImageData=e=>{const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const t=n.getContext("2d");if(!t)throw new Error("Could not create canvas to extract image data");return t.clearRect(0,0,n.width,n.height),t.drawImage(e,0,0),t.getImageData(0,0,n.width,n.height)}},5498:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.buildShaderStage=void 0;const i=t(5941);n.buildShaderStage=(e,n)=>{var t;let a=new Set(e.dependencies||[]);const r=new Set(a);let o;const s=e=>{if(e)for(const n of e)r.has(n)?r.delete(n):o.add(n),r.add(n)};for(;a.size;){o=new Set;for(const e of a){if("snippet"in e){const n=e;s(n.snippet.dependencies),s(n.params)}s(e.dependencies)}a=o}const l=Array.from(r.values()).reverse();return`#version ${n}\n\n        ${null!==(t=e.head)&&void 0!==t?t:""}\n\n        ${l.map((e=>{const n=e;return"snippet"in n?i.defineShaderSnippet(n):n.text})).join("\n")}\n    \n        void main(void) {\n            ${e.main}\n        }\n    `}},6531:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.callShaderSnippet=void 0;const i=t(2072);n.callShaderSnippet=(e,n,t)=>{if(e.snippet.params.length!==n.length)throw new Error(`Missing params in ${e.name} call, expecting params: ${e.snippet.params.map((e=>e.name)).join(", ")}`);if(t){if(t.length!==e.resultObjs.length)throw new Error(`Missing result object in ${e.name} call, expecting results: ${e.resultObjs.map((e=>e.name)).join(", ")}`)}else t=e.resultObjs.map((e=>`${i.snippetResult}${e.name}`));return`${e.name}(${n.join(", ")}, ${t.join(", ")});`}},3795:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createProgram=void 0,n.createProgram=(e,n,t)=>{const i=e.createProgram();if(null===i)throw new Error("Could not create program");if(e.attachShader(i,n),e.attachShader(i,t),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){const n=e.getProgramInfoLog(i);throw e.deleteProgram(i),new Error(`Error linking program : ${n}`)}return i}},9864:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createProgramFromShader=void 0;const i=t(5498),a=t(3795),r=t(5549);n.createProgramFromShader=(e,n)=>{const t=i.buildShaderStage(n.vertex,n.version),o=i.buildShaderStage(n.fragment,n.version),s=r.loadShader(e,t,e.VERTEX_SHADER),l=r.loadShader(e,o,e.FRAGMENT_SHADER);return a.createProgram(e,s,l)}},5285:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createShaderSnippetInstance=void 0;let t=0;n.createShaderSnippetInstance=e=>Object.assign(Object.assign({},e),{name:"_snippet_"+t++})},5941:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.defineShaderSnippet=void 0;const i=t(2072);n.defineShaderSnippet=e=>{var n,t;const a=[...e.snippet.params,...e.resultObjs.map((e=>Object.assign(Object.assign({},e),{name:`${i.snippetResult}${e.name}`})))].map((e=>`${e.qualifier} ${e.type} ${e.name}`));return`${null!==(n=e.snippet.returnType)&&void 0!==n?n:"void"} ${e.name}(${a.join(",")}) {\n        ${e.snippet.text(...null!==(t=e.params)&&void 0!==t?t:[])}\n    }`}},5549:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.loadShader=void 0,n.loadShader=(e,n,t)=>{const i=e.createShader(t);if(null===i)throw new Error("Could not create shader");if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(i);throw e.deleteShader(i),new Error(`Error compiling shader: ${t}\n${n.split("\n").map(((e,n)=>`${n+1}:${e}`)).join("\n")}`)}return i}},2072:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.snippetResult=void 0,n.snippetResult="_result_"}},e=>{e(e.s=5077)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWEsRUFnQnJCdEwsRUFBUXNMLFdBZlcsQ0FBQzNLLEVBQUltTCxFQUFRM0UsS0FDNUIsTUFBTTJCLEVBQVNuSSxFQUFHb0wsYUFBYTVFLEdBQy9CLEdBQWUsT0FBWDJCLEVBQ0EsTUFBTSxJQUFJTCxNQUFNLDJCQUtwQixHQUhBOUgsRUFBR3FMLGFBQWFsRCxFQUFRZ0QsR0FDeEJuTCxFQUFHc0wsY0FBY25ELElBQ0FuSSxFQUFHdUwsbUJBQW1CcEQsRUFBUW5JLEVBQUd3TCxnQkFDbkMsQ0FDWCxNQUFNckIsRUFBZW5LLEVBQUd5TCxpQkFBaUJ0RCxHQUV6QyxNQURBbkksRUFBRzBMLGFBQWF2RCxHQUNWLElBQUlMLE1BQU0sMkJBQTJCcUMsTUFBaUJnQixFQUFPUSxNQUFNLE1BQU12QyxLQUFJLENBQUN3QyxFQUFLQyxJQUFVLEdBQUdBLEVBQVEsS0FBS0QsTUFBT3JDLEtBQUssU0FFbkksT0FBT3BCLEksYUNmWGhKLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFWCxPQUFPLElBQ3REVyxFQUFRbUksbUJBQWdCLEVBQ3hCbkksRUFBUW1JLGNBQWdCLGEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kZW1vcy9nZW5lcmF0b3JXZWJnbC50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9zaGFkZXJzL2dlbmVyYXRvci50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9zaGFkZXJzL2ludGVyc2VjdC9pbnRlcnNlY3RMaW5lU3F1YXJlLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3NoYWRlcnMvaW50ZXJzZWN0L2ludGVyc2VjdFRyaWFuZ2xlU3F1YXJlLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3NoYWRlcnMvbGluZS9nZXRMaW5lRXF1YXRpb24udHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvc2hhZGVycy9saW5lL2dldExpbmVSYW5nZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9zaGFkZXJzL2xpbmUvc29sdmVMaW5lWC50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9zaGFkZXJzL21hdGhzL2Vwc2lsb24udHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvc2hhZGVycy9tYXRocy9pbnZlcnNlTGVycC50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9zaGFkZXJzL21hdGhzL3NvcnQudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvc2hhZGVycy9tYXRocy92ZWMyRGV0ZXJtaW5hbnQudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvc2hhZGVycy9yYXN0ZXJpc2UvcmFzdGVyaXNlLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3NoYWRlcnMvcmFzdGVyaXNlL3RyaWFuZ2xlQ292ZXJhZ2UudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvc2hhZGVycy9zdHJ1Y3RzL0FhYmIudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvc2hhZGVycy9zdHJ1Y3RzL0xpbmUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvc2hhZGVycy9zdHJ1Y3RzL0xpbmVFcXVhdGlvbi50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9zaGFkZXJzL3N0cnVjdHMvTGluZVJhbmdlLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3NoYWRlcnMvc3RydWN0cy9UcmlhbmdsZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9zaGFkZXJzL3RyaWFuZ2xlL3RyaWFuZ2xlQXJlYS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9zaGFkZXJzL3RyaWFuZ2xlL3RyaWFuZ2xlTWF4LnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3NoYWRlcnMvdHJpYW5nbGUvdHJpYW5nbGVNaW4udHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvdXRpbHMvZ2V0SW1hZ2VEYXRhLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3dlYmdsL2J1aWxkU2hhZGVyU3RhZ2UudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvd2ViZ2wvY2FsbFNoYWRlclNuaXBwZXQudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvd2ViZ2wvY3JlYXRlUHJvZ3JhbS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy93ZWJnbC9jcmVhdGVQcm9ncmFtRnJvbVNoYWRlci50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy93ZWJnbC9jcmVhdGVTaGFkZXJTbmlwcGV0SW5zdGFuY2UudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvd2ViZ2wvZGVmaW5lU2hhZGVyU25pcHBldC50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy93ZWJnbC9sb2FkU2hhZGVyLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3dlYmdsL3NuaXBwZXRSZXN1bHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBnZXRJbWFnZURhdGFfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9nZXRJbWFnZURhdGFcIik7XHJcbmNvbnN0IGNyZWF0ZVByb2dyYW1Gcm9tU2hhZGVyXzEgPSByZXF1aXJlKFwiLi4vd2ViZ2wvY3JlYXRlUHJvZ3JhbUZyb21TaGFkZXJcIik7XHJcbmNvbnN0IGdlbmVyYXRvcl8xID0gcmVxdWlyZShcIi4uL3NoYWRlcnMvZ2VuZXJhdG9yXCIpO1xyXG5jb25zdCBnYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lXCIpO1xyXG5jb25zdCBpbWFnZVByZXZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlX3ByZXZpZXdcIik7XHJcbmNvbnN0IGltYWdlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNob29zZWltYWdlXCIpO1xyXG5jb25zdCByZXNvbHV0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNvbHV0aW9uXCIpO1xyXG5jb25zdCB0aW1ldGFrZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpbWV0YWtlblwiKTtcclxuY29uc3QgZ2wgPSBnYW1lLmdldENvbnRleHQoJ3dlYmdsMicsIHsgYW50aWFsaWFzOiBmYWxzZSwgcHJlbXVsdGlwbGllZEFscGhhOiBmYWxzZSB9KTtcclxuY29uc3QgbG9hZCA9IChpbWFnZURhdGEsIG51bUl0ZXJhdGlvbnMpID0+IHtcclxuICAgIGNvbnN0IHNpemUgPSBNYXRoLnBvdyhudW1JdGVyYXRpb25zLCAzKTtcclxuICAgIGdsLmNhbnZhcy53aWR0aCA9IHNpemU7XHJcbiAgICBnbC5jYW52YXMuaGVpZ2h0ID0gc2l6ZTtcclxuICAgIGNvbnN0IHNoYWRlclByb2dyYW0gPSBjcmVhdGVQcm9ncmFtRnJvbVNoYWRlcl8xLmNyZWF0ZVByb2dyYW1Gcm9tU2hhZGVyKGdsLCBnZW5lcmF0b3JfMS5nZW5lcmF0b3IpO1xyXG4gICAgZ2wudXNlUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcclxuICAgIC8vcGFzcyBvdXIgdGV4dHVyZSBhbmQgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgYXMgdW5pZm9ybXMgdG8gb3VyIHNoYWRlcnNcclxuICAgIGNvbnN0IGltYWdlVGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xyXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW1hZ2VUZXh0dXJlKTtcclxuICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsIGZhbHNlKTtcclxuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgaW1hZ2VEYXRhKTtcclxuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcclxuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcclxuICAgIGNvbnN0IGltYWdlVGV4dHVyZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIFwidVNhbXBsZXJcIik7XHJcbiAgICBnbC51bmlmb3JtMWkoaW1hZ2VUZXh0dXJlTG9jYXRpb24sIDApO1xyXG4gICAgY29uc3QgcmVzb2x1dGlvbkxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIFwidVJlc29sdXRpb25cIik7XHJcbiAgICBnbC51bmlmb3JtMXVpKHJlc29sdXRpb25Mb2NhdGlvbiwgbnVtSXRlcmF0aW9ucyk7XHJcbiAgICBjb25zdCBzYW1wbGVyU2l6ZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIFwidVNpemVcIik7XHJcbiAgICBnbC51bmlmb3JtMXVpKHNhbXBsZXJTaXplTG9jYXRpb24sIHNpemUpO1xyXG4gICAgY29uc3Qgc3RlcExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIFwidVN0ZXBcIik7XHJcbiAgICBnbC51bmlmb3JtMmZ2KHN0ZXBMb2NhdGlvbiwgWyhpbWFnZURhdGEud2lkdGggLSAxKSAvIChudW1JdGVyYXRpb25zIC0gMSksIChpbWFnZURhdGEuaGVpZ2h0IC0gMSkgLyAobnVtSXRlcmF0aW9ucyAtIDEpXSk7XHJcbiAgICBnbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDAuMCk7XHJcbiAgICBnbC52aWV3cG9ydCgwLCAwLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xyXG59O1xyXG5jb25zdCBkcmF3ID0gKCkgPT4ge1xyXG4gICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIDMpO1xyXG4gICAgZ2wucmVhZFBpeGVscygwLCAwLCAxLCAxLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheSg0KSk7XHJcbiAgICB0aW1ldGFrZW4uaW5uZXJUZXh0ID0gYCR7KERhdGUubm93KCkgLSBzdGFydFRpbWUpfSBtc2A7XHJcbn07XHJcbmNvbnN0IHN0YXJ0ID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgY29uc3QgY3JlYXRlTWFwID0gKCkgPT4ge1xyXG4gICAgICAgIGltYWdlUHJldmlldy5zcmMgPSBpbWFnZUlucHV0LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IG51bUl0ZXJhdGlvbnMgPSBwYXJzZUludChyZXNvbHV0aW9uLnZhbHVlLCAxMCk7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gZ2V0SW1hZ2VEYXRhXzEuZ2V0SW1hZ2VEYXRhKGltYWdlKTtcclxuICAgICAgICBsb2FkKGltYWdlRGF0YSwgbnVtSXRlcmF0aW9ucyk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIHJlc29sdXRpb24ub25jaGFuZ2UgPSBjcmVhdGVNYXA7XHJcbiAgICBpbWFnZS5vbmxvYWQgPSBjcmVhdGVNYXA7XHJcbiAgICBpbWFnZS5zcmMgPSBpbWFnZUlucHV0LnZhbHVlO1xyXG59KTtcclxuaW1hZ2VJbnB1dC5vbmNoYW5nZSA9IHN0YXJ0O1xyXG5zdGFydCgpO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmdlbmVyYXRvciA9IHZvaWQgMDtcclxuY29uc3QgdHJpYW5nbGVDb3ZlcmFnZV8xID0gcmVxdWlyZShcIi4vcmFzdGVyaXNlL3RyaWFuZ2xlQ292ZXJhZ2VcIik7XHJcbmNvbnN0IFRyaWFuZ2xlXzEgPSByZXF1aXJlKFwiLi9zdHJ1Y3RzL1RyaWFuZ2xlXCIpO1xyXG5leHBvcnRzLmdlbmVyYXRvciA9IHtcclxuICAgIHZlcnNpb246ICczMDAgZXMnLFxyXG4gICAgdmVydGV4OiB7XHJcbiAgICAgICAgaGVhZDogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgICAgIGNvbnN0IHZlYzJbM10gY29vcmRzID0gdmVjMlszXShcclxuICAgICAgICAgICAgICAgIHZlYzIoLTEuMCwgMS4wKSxcclxuICAgICAgICAgICAgICAgIHZlYzIoMy4wLCAxLjApLFxyXG4gICAgICAgICAgICAgICAgdmVjMigtMS4wLCAtMy4wKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIGAsXHJcbiAgICAgICAgbWFpbjogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChjb29yZHNbZ2xfVmVydGV4SURdLCAwLjAsIDEuMCk7XHJcbiAgICAgICAgYFxyXG4gICAgfSxcclxuICAgIGZyYWdtZW50OiB7XHJcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBbVHJpYW5nbGVfMS5UcmlhbmdsZSwgdHJpYW5nbGVDb3ZlcmFnZV8xLnRyaWFuZ2xlQ292ZXJhZ2VdLFxyXG4gICAgICAgIGhlYWQ6IC8qIGdsc2wgKi8gYFxyXG4gICAgICAgICAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XHJcblxyXG4gICAgICAgICAgICB1bmlmb3JtIHZlYzIgdVN0ZXA7XHJcbiAgICAgICAgICAgIHVuaWZvcm0gdWludCB1UmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgdW5pZm9ybSB1aW50IHVTaXplO1xyXG4gICAgICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcclxuXHJcbiAgICAgICAgICAgIG91dCB2ZWM0IG91dENvbG9yO1xyXG4gICAgICAgIGAsXHJcbiAgICAgICAgbWFpbjogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgICAgIC8vc3RhcnQgZnJvbSB0aGUgdG9wIGxlZnQgY29ybmVyIGxpa2UgdGhlIG90aGVyIHNvbHV0aW9uc1xyXG4gICAgICAgICAgICB1dmVjMiBwaXhlbEluZGV4ID0gdXZlYzIoZ2xfRnJhZ0Nvb3JkLngsIHVTaXplIC0gdWludChnbF9GcmFnQ29vcmQueSkpO1xyXG4gICAgICAgICAgICB1aW50IGZsYXRQaXhlbEluZGV4ID0gcGl4ZWxJbmRleC55ICogdVNpemUgKyBwaXhlbEluZGV4Lng7XHJcblxyXG4gICAgICAgICAgICAvL2RlY29uc3RydWN0IHRoZSAyZCBjb29yZCBpbnRvIHRoZSAzIDJkIHRyaWFuZ2xlIGNvb3Jkc1xyXG4gICAgICAgICAgICB1aW50IGludmVyc2VJbmRleCA9IGZsYXRQaXhlbEluZGV4O1xyXG4gICAgICAgICAgICB1aW50IHAzeSA9IGludmVyc2VJbmRleCAlIHVSZXNvbHV0aW9uO1xyXG4gICAgICAgICAgICBpbnZlcnNlSW5kZXggLz0gdVJlc29sdXRpb247XHJcbiAgICAgICAgICAgIHVpbnQgcDN4ID0gaW52ZXJzZUluZGV4ICUgdVJlc29sdXRpb247XHJcbiAgICAgICAgICAgIGludmVyc2VJbmRleCAvPSB1UmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgdWludCBwMnkgPSBpbnZlcnNlSW5kZXggJSB1UmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgaW52ZXJzZUluZGV4IC89IHVSZXNvbHV0aW9uO1xyXG4gICAgICAgICAgICB1aW50IHAyeCA9IGludmVyc2VJbmRleCAlIHVSZXNvbHV0aW9uO1xyXG4gICAgICAgICAgICBpbnZlcnNlSW5kZXggLz0gdVJlc29sdXRpb247XHJcbiAgICAgICAgICAgIHVpbnQgcDF5ID0gaW52ZXJzZUluZGV4ICUgdVJlc29sdXRpb247XHJcbiAgICAgICAgICAgIGludmVyc2VJbmRleCAvPSB1UmVzb2x1dGlvbjtcclxuICAgICAgICAgICAgdWludCBwMXggPSBpbnZlcnNlSW5kZXg7XHJcblxyXG4gICAgICAgICAgICBUcmlhbmdsZSB0cmlhbmdsZSA9IFRyaWFuZ2xlKFxyXG4gICAgICAgICAgICAgICAgdmVjMihwMXgsIHAxeSkgKiB1U3RlcCxcclxuICAgICAgICAgICAgICAgIHZlYzIocDJ4LCBwMnkpICogdVN0ZXAsXHJcbiAgICAgICAgICAgICAgICB2ZWMyKHAzeCwgcDN5KSAqIHVTdGVwXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBvdXRDb2xvciA9IHRyaWFuZ2xlQ292ZXJhZ2UodHJpYW5nbGUsIHVTYW1wbGVyKTtcclxuICAgICAgICBgXHJcbiAgICB9XHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuaW50ZXJzZWN0TGluZVNxdWFyZSA9IHZvaWQgMDtcclxuY29uc3QgQWFiYl8xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvQWFiYlwiKTtcclxuY29uc3QgaW52ZXJzZUxlcnBfMSA9IHJlcXVpcmUoXCIuLi9tYXRocy9pbnZlcnNlTGVycFwiKTtcclxuZXhwb3J0cy5pbnRlcnNlY3RMaW5lU3F1YXJlID0ge1xyXG4gICAgZGVwZW5kZW5jaWVzOiBbQWFiYl8xLkFhYmIsIGludmVyc2VMZXJwXzEuaW52ZXJzZUxlcnBdLFxyXG4gICAgdGV4dDogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgdmVjNCBpbnRlcnNlY3RMaW5lU3F1YXJlKHZlYzIgcG9zLCB2ZWMyIGRpciwgQWFiYiBib3VuZHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlYzQoXHJcbiAgICAgICAgICAgICAgICBpbnZlcnNlTGVycChwb3MueCwgZGlyLngsIGJvdW5kcy5taW5Qb3MueCksXHJcbiAgICAgICAgICAgICAgICBpbnZlcnNlTGVycChwb3MueCwgZGlyLngsIGJvdW5kcy5tYXhQb3MueCksXHJcbiAgICAgICAgICAgICAgICBpbnZlcnNlTGVycChwb3MueSwgZGlyLnksIGJvdW5kcy5taW5Qb3MueSksXHJcbiAgICAgICAgICAgICAgICBpbnZlcnNlTGVycChwb3MueSwgZGlyLnksIGJvdW5kcy5tYXhQb3MueSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuaW50ZXJzZWN0VHJpYW5nbGVTcXVhcmUgPSB2b2lkIDA7XHJcbmNvbnN0IEFhYmJfMSA9IHJlcXVpcmUoXCIuLi9zdHJ1Y3RzL0FhYmJcIik7XHJcbmNvbnN0IFRyaWFuZ2xlXzEgPSByZXF1aXJlKFwiLi4vc3RydWN0cy9UcmlhbmdsZVwiKTtcclxuY29uc3Qgc29ydF8xID0gcmVxdWlyZShcIi4uL21hdGhzL3NvcnRcIik7XHJcbmNvbnN0IGludGVyc2VjdExpbmVTcXVhcmVfMSA9IHJlcXVpcmUoXCIuL2ludGVyc2VjdExpbmVTcXVhcmVcIik7XHJcbmV4cG9ydHMuaW50ZXJzZWN0VHJpYW5nbGVTcXVhcmUgPSB7XHJcbiAgICBkZXBlbmRlbmNpZXM6IFtUcmlhbmdsZV8xLlRyaWFuZ2xlLCBBYWJiXzEuQWFiYiwgc29ydF8xLnNvcnQsIGludGVyc2VjdExpbmVTcXVhcmVfMS5pbnRlcnNlY3RMaW5lU3F1YXJlXSxcclxuICAgIHRleHQ6IC8qIGdsc2wgKi8gYFxyXG4gICAgICAgIHZlYzJbMTJdIGludGVyc2VjdFRyaWFuZ2xlU3F1YXJlKFRyaWFuZ2xlIHRyaWFuZ2xlLCBUcmlhbmdsZSBlZGdlcywgQWFiYiBib3VuZHMpIHtcclxuICAgICAgICAgICAgdmVjNCB0MXMgPSBzb3J0KGludGVyc2VjdExpbmVTcXVhcmUodHJpYW5nbGUucDEsIGVkZ2VzLnAxLCBib3VuZHMpKTtcclxuICAgICAgICAgICAgdmVjNCB0MnMgPSBzb3J0KGludGVyc2VjdExpbmVTcXVhcmUodHJpYW5nbGUucDIsIGVkZ2VzLnAyLCBib3VuZHMpKTtcclxuICAgICAgICAgICAgdmVjNCB0M3MgPSBzb3J0KGludGVyc2VjdExpbmVTcXVhcmUodHJpYW5nbGUucDMsIGVkZ2VzLnAzLCBib3VuZHMpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB2ZWMyWzEyXShcclxuICAgICAgICAgICAgICAgIGNsYW1wKHRyaWFuZ2xlLnAxICsgZWRnZXMucDEgKiB0MXMueCwgYm91bmRzLm1pblBvcywgYm91bmRzLm1heFBvcyksXHJcbiAgICAgICAgICAgICAgICBjbGFtcCh0cmlhbmdsZS5wMSArIGVkZ2VzLnAxICogdDFzLnksIGJvdW5kcy5taW5Qb3MsIGJvdW5kcy5tYXhQb3MpLFxyXG4gICAgICAgICAgICAgICAgY2xhbXAodHJpYW5nbGUucDEgKyBlZGdlcy5wMSAqIHQxcy56LCBib3VuZHMubWluUG9zLCBib3VuZHMubWF4UG9zKSxcclxuICAgICAgICAgICAgICAgIGNsYW1wKHRyaWFuZ2xlLnAxICsgZWRnZXMucDEgKiB0MXMudywgYm91bmRzLm1pblBvcywgYm91bmRzLm1heFBvcyksXHJcblxyXG4gICAgICAgICAgICAgICAgY2xhbXAodHJpYW5nbGUucDIgKyBlZGdlcy5wMiAqIHQycy54LCBib3VuZHMubWluUG9zLCBib3VuZHMubWF4UG9zKSxcclxuICAgICAgICAgICAgICAgIGNsYW1wKHRyaWFuZ2xlLnAyICsgZWRnZXMucDIgKiB0MnMueSwgYm91bmRzLm1pblBvcywgYm91bmRzLm1heFBvcyksXHJcbiAgICAgICAgICAgICAgICBjbGFtcCh0cmlhbmdsZS5wMiArIGVkZ2VzLnAyICogdDJzLnosIGJvdW5kcy5taW5Qb3MsIGJvdW5kcy5tYXhQb3MpLFxyXG4gICAgICAgICAgICAgICAgY2xhbXAodHJpYW5nbGUucDIgKyBlZGdlcy5wMiAqIHQycy53LCBib3VuZHMubWluUG9zLCBib3VuZHMubWF4UG9zKSxcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY2xhbXAodHJpYW5nbGUucDMgKyBlZGdlcy5wMyAqIHQzcy54LCBib3VuZHMubWluUG9zLCBib3VuZHMubWF4UG9zKSxcclxuICAgICAgICAgICAgICAgIGNsYW1wKHRyaWFuZ2xlLnAzICsgZWRnZXMucDMgKiB0M3MueSwgYm91bmRzLm1pblBvcywgYm91bmRzLm1heFBvcyksXHJcbiAgICAgICAgICAgICAgICBjbGFtcCh0cmlhbmdsZS5wMyArIGVkZ2VzLnAzICogdDNzLnosIGJvdW5kcy5taW5Qb3MsIGJvdW5kcy5tYXhQb3MpLFxyXG4gICAgICAgICAgICAgICAgY2xhbXAodHJpYW5nbGUucDMgKyBlZGdlcy5wMyAqIHQzcy53LCBib3VuZHMubWluUG9zLCBib3VuZHMubWF4UG9zKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIGBcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5nZXRMaW5lRXF1YXRpb24gPSB2b2lkIDA7XHJcbmNvbnN0IExpbmVfMSA9IHJlcXVpcmUoXCIuLi9zdHJ1Y3RzL0xpbmVcIik7XHJcbmNvbnN0IExpbmVFcXVhdGlvbl8xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvTGluZUVxdWF0aW9uXCIpO1xyXG5leHBvcnRzLmdldExpbmVFcXVhdGlvbiA9IHtcclxuICAgIGRlcGVuZGVuY2llczogW0xpbmVfMS5MaW5lLCBMaW5lRXF1YXRpb25fMS5MaW5lRXF1YXRpb25dLFxyXG4gICAgdGV4dDogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgTGluZUVxdWF0aW9uIGdldExpbmVFcXVhdGlvbihMaW5lIGxpbmUpIHtcclxuICAgICAgICAgICAgdmVjMiBkaXJlY3Rpb24gPSBsaW5lLnAyIC0gbGluZS5wMTtcclxuXHJcbiAgICAgICAgICAgIGZsb2F0IGdyYWRpZW50ID0gZGlyZWN0aW9uLnkgLyBkaXJlY3Rpb24ueDtcclxuICAgICAgICAgICAgZmxvYXQgaW50ZXJzZWN0ID0gbGluZS5wMS55IC0gbGluZS5wMS54ICogZ3JhZGllbnQ7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gTGluZUVxdWF0aW9uKGdyYWRpZW50LCBpbnRlcnNlY3QpO1xyXG4gICAgICAgIH1cclxuICAgIGBcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5nZXRMaW5lUmFuZ2UgPSB2b2lkIDA7XHJcbmNvbnN0IExpbmVfMSA9IHJlcXVpcmUoXCIuLi9zdHJ1Y3RzL0xpbmVcIik7XHJcbmNvbnN0IExpbmVSYW5nZV8xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvTGluZVJhbmdlXCIpO1xyXG5jb25zdCBnZXRMaW5lRXF1YXRpb25fMSA9IHJlcXVpcmUoXCIuL2dldExpbmVFcXVhdGlvblwiKTtcclxuZXhwb3J0cy5nZXRMaW5lUmFuZ2UgPSB7XHJcbiAgICBkZXBlbmRlbmNpZXM6IFtMaW5lXzEuTGluZSwgTGluZVJhbmdlXzEuTGluZVJhbmdlLCBnZXRMaW5lRXF1YXRpb25fMS5nZXRMaW5lRXF1YXRpb25dLFxyXG4gICAgdGV4dDogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgTGluZVJhbmdlIGdldExpbmVSYW5nZShMaW5lIGxpbmUpIHtcclxuICAgICAgICAgICAgdmVjMiBwU3RhcnQ7XHJcbiAgICAgICAgICAgIHZlYzIgcEVuZDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vVE9ETzogbWFrZSBhIGJyYW5jaGxlc3MgdmVyc2lvblxyXG4gICAgICAgICAgICBpZiAobGluZS5wMS55IDwgbGluZS5wMi55KSB7XHJcbiAgICAgICAgICAgICAgICBwU3RhcnQgPSBsaW5lLnAxO1xyXG4gICAgICAgICAgICAgICAgcEVuZCA9IGxpbmUucDI7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5wMS55ID4gbGluZS5wMi55KSB7XHJcbiAgICAgICAgICAgICAgICBwU3RhcnQgPSBsaW5lLnAyO1xyXG4gICAgICAgICAgICAgICAgcEVuZCA9IGxpbmUucDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5wMS54IDwgbGluZS5wMi54KSB7XHJcbiAgICAgICAgICAgICAgICBwU3RhcnQgPSBsaW5lLnAxO1xyXG4gICAgICAgICAgICAgICAgcEVuZCA9IGxpbmUucDI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwU3RhcnQgPSBsaW5lLnAyO1xyXG4gICAgICAgICAgICAgICAgcEVuZCA9IGxpbmUucDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBMaW5lUmFuZ2UoXHJcbiAgICAgICAgICAgICAgICBwU3RhcnQsXHJcbiAgICAgICAgICAgICAgICBwRW5kLFxyXG4gICAgICAgICAgICAgICAgdmVjMihtaW4obGluZS5wMS54LCBsaW5lLnAyLngpLCBtYXgobGluZS5wMS54LCBsaW5lLnAyLngpKSxcclxuICAgICAgICAgICAgICAgIGdldExpbmVFcXVhdGlvbihsaW5lKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIGBcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5zb2x2ZUxpbmVYID0gdm9pZCAwO1xyXG5jb25zdCBlcHNpbG9uXzEgPSByZXF1aXJlKFwiLi4vbWF0aHMvZXBzaWxvblwiKTtcclxuY29uc3QgTGluZV8xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvTGluZVwiKTtcclxuY29uc3QgTGluZUVxdWF0aW9uXzEgPSByZXF1aXJlKFwiLi4vc3RydWN0cy9MaW5lRXF1YXRpb25cIik7XHJcbmV4cG9ydHMuc29sdmVMaW5lWCA9IHtcclxuICAgIGRlcGVuZGVuY2llczogW0xpbmVfMS5MaW5lLCBMaW5lRXF1YXRpb25fMS5MaW5lRXF1YXRpb24sIGVwc2lsb25fMS5lcHNpbG9uXSxcclxuICAgIHRleHQ6IC8qIGdsc2wgKi8gYFxyXG4gICAgICAgIGZsb2F0IHNvbHZlTGluZVgoTGluZUVxdWF0aW9uIGVxdWF0aW9uLCBmbG9hdCB5KSB7XHJcbiAgICAgICAgICAgIGlmIChhYnMoZXF1YXRpb24uZ3JhZGllbnQpID4gZXBzaWxvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh5IC0gZXF1YXRpb24uaW50ZXJzZWN0KSAvIGVxdWF0aW9uLmdyYWRpZW50O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xLjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZXBzaWxvbiA9IHZvaWQgMDtcclxuZXhwb3J0cy5lcHNpbG9uID0ge1xyXG4gICAgdGV4dDogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgY29uc3QgZmxvYXQgZXBzaWxvbiA9IDAuMDAwMDE7XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuaW52ZXJzZUxlcnAgPSB2b2lkIDA7XHJcbmV4cG9ydHMuaW52ZXJzZUxlcnAgPSB7XHJcbiAgICB0ZXh0OiAvKiBnbHNsICovIGBcclxuICAgICAgICBmbG9hdCBpbnZlcnNlTGVycChmbG9hdCBhLCBmbG9hdCBkaWZmLCBmbG9hdCB2YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNsYW1wKCh2YWwgLSBhKSAvIGRpZmYsIDAuMCwgMS4wKTtcclxuICAgICAgICB9XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuc29ydCA9IHZvaWQgMDtcclxuZXhwb3J0cy5zb3J0ID0ge1xyXG4gICAgdGV4dDogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgdmVjNCBzb3J0KHZlYzQgbnVtcykge1xyXG4gICAgICAgICAgICBmbG9hdCBhID0gbWluKG51bXMueCwgbnVtcy55KTtcclxuICAgICAgICAgICAgZmxvYXQgYiA9IG1heChudW1zLngsIG51bXMueSk7XHJcbiAgICAgICAgICAgIGZsb2F0IGMgPSBtaW4obnVtcy56LCBudW1zLncpO1xyXG4gICAgICAgICAgICBmbG9hdCBkID0gbWF4KG51bXMueiwgbnVtcy53KTtcclxuICAgICAgICAgICAgZmxvYXQgZSA9IG1pbihiLCBjKTtcclxuICAgICAgICAgICAgZmxvYXQgZiA9IG1heChiLCBjKTtcclxuICAgICAgICAgICAgZmxvYXQgaCA9IG1heChhLCBlKTtcclxuICAgICAgICAgICAgZmxvYXQgaSA9IG1pbihmLCBkKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2ZWM0KG1pbihhLCBlKSwgbWluKGgsIGkpLCBtYXgoaCwgaSksIG1heChmLCBkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgYFxyXG59O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnZlYzJEZXRlcm1pbmFudCA9IHZvaWQgMDtcclxuZXhwb3J0cy52ZWMyRGV0ZXJtaW5hbnQgPSB7XHJcbiAgICB0ZXh0OiAvKiBnbHNsICovIGBcclxuICAgICAgICBmbG9hdCB2ZWMyRGV0ZXJtaW5hbnQodmVjMiBwMSwgdmVjMiBwMikge1xyXG4gICAgICAgICAgICByZXR1cm4gKHAxLnggKiBwMi55KSAtIChwMS55ICogcDIueCk7XHJcbiAgICAgICAgfVxyXG4gICAgYFxyXG59O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnJhc3RlcmlzZSA9IHZvaWQgMDtcclxuY29uc3QgY2FsbFNoYWRlclNuaXBwZXRfMSA9IHJlcXVpcmUoXCIuLi8uLi93ZWJnbC9jYWxsU2hhZGVyU25pcHBldFwiKTtcclxuY29uc3QgZ2V0TGluZVJhbmdlXzEgPSByZXF1aXJlKFwiLi4vbGluZS9nZXRMaW5lUmFuZ2VcIik7XHJcbmNvbnN0IHNvbHZlTGluZVhfMSA9IHJlcXVpcmUoXCIuLi9saW5lL3NvbHZlTGluZVhcIik7XHJcbmNvbnN0IExpbmVfMSA9IHJlcXVpcmUoXCIuLi9zdHJ1Y3RzL0xpbmVcIik7XHJcbmNvbnN0IExpbmVSYW5nZV8xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvTGluZVJhbmdlXCIpO1xyXG5jb25zdCBUcmlhbmdsZV8xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvVHJpYW5nbGVcIik7XHJcbmNvbnN0IHRyaWFuZ2xlTWF4XzEgPSByZXF1aXJlKFwiLi4vdHJpYW5nbGUvdHJpYW5nbGVNYXhcIik7XHJcbmNvbnN0IHRyaWFuZ2xlTWluXzEgPSByZXF1aXJlKFwiLi4vdHJpYW5nbGUvdHJpYW5nbGVNaW5cIik7XHJcbi8vbm90ZTogdGhpcyBpcyBhIGNvbnNlcnZhdGl2ZSByYXN0ZXJpc2VyXHJcbmV4cG9ydHMucmFzdGVyaXNlID0ge1xyXG4gICAgZGVwZW5kZW5jaWVzOiBbdHJpYW5nbGVNaW5fMS50cmlhbmdsZU1pbiwgdHJpYW5nbGVNYXhfMS50cmlhbmdsZU1heCwgTGluZV8xLkxpbmUsIExpbmVSYW5nZV8xLkxpbmVSYW5nZSwgZ2V0TGluZVJhbmdlXzEuZ2V0TGluZVJhbmdlLCBUcmlhbmdsZV8xLlRyaWFuZ2xlLCBzb2x2ZUxpbmVYXzEuc29sdmVMaW5lWF0sXHJcbiAgICBwYXJhbXM6IFtcclxuICAgICAgICB7IHF1YWxpZmllcjogJ2luJywgdHlwZTogJ1RyaWFuZ2xlJywgbmFtZTogJ3RyaWFuZ2xlJyB9XHJcbiAgICBdLFxyXG4gICAgdGV4dDogKGNiKSA9PiAvKiBnbHNsICovIGBcclxuICAgICAgICB2ZWMyIG1pblBvcyA9IHRyaWFuZ2xlTWluKHRyaWFuZ2xlKTtcclxuICAgICAgICB2ZWMyIG1heFBvcyA9IHRyaWFuZ2xlTWF4KHRyaWFuZ2xlKTtcclxuXHJcbiAgICAgICAgTGluZVszXSBsaW5lcyA9IExpbmVbM10oXHJcbiAgICAgICAgICAgIExpbmUodHJpYW5nbGUucDEsIHRyaWFuZ2xlLnAyKSxcclxuICAgICAgICAgICAgTGluZSh0cmlhbmdsZS5wMiwgdHJpYW5nbGUucDMpLFxyXG4gICAgICAgICAgICBMaW5lKHRyaWFuZ2xlLnAzLCB0cmlhbmdsZS5wMSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBMaW5lUmFuZ2VbM10gbGluZVJhbmdlcyA9IExpbmVSYW5nZVszXShcclxuICAgICAgICAgICAgZ2V0TGluZVJhbmdlKGxpbmVzWzBdKSxcclxuICAgICAgICAgICAgZ2V0TGluZVJhbmdlKGxpbmVzWzFdKSwgXHJcbiAgICAgICAgICAgIGdldExpbmVSYW5nZShsaW5lc1syXSlcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChtYXhQb3MueSAtIG1pblBvcy55IDwgMS4wKSB7XHJcbiAgICAgICAgICAgICR7Y2FsbFNoYWRlclNuaXBwZXRfMS5jYWxsU2hhZGVyU25pcHBldChjYiwgWyd1dmVjMyhtaW5Qb3MueCwgbWF4UG9zLngsIG1pblBvcy55KScsICdmYWxzZSddKX1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50IHByZXZZID0gaW50KG1pblBvcy55KTtcclxuXHJcbiAgICAgICAgZm9yIChpbnQgeT1wcmV2WSsxOyB5PD1pbnQoY2VpbChtYXhQb3MueSkpOyB5KyspIHtcclxuICAgICAgICAgICAgLy93ZSBqdXN0IG5lZWQgdG8gZ2V0IGZvdXIgbnVtYmVycywgdGhlIG91dGVyIG1pbiBhbmQgbWF4IGFuZCBpbm5lciBtaW4gYW5kIG1heCB2YWx1ZXNcclxuICAgICAgICAgICAgaXZlYzQgcmFuZ2UgPSBpdmVjNCgtMSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGludCBpPTA7IGk8MzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBMaW5lUmFuZ2UgbGluZSA9IGxpbmVSYW5nZXNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUucEVuZC55ID49IGZsb2F0KHByZXZZKSAmJiBsaW5lLnBTdGFydC55IDwgZmxvYXQoeSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbG9hdCBmcm9tWCA9IHNvbHZlTGluZVgobGluZS5lcXVhdGlvbiwgZmxvYXQocHJldlkpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyb21YID4gLTEuMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tWCA9IGNsYW1wKGZyb21YLCBsaW5lLnhSYW5nZS54LCBsaW5lLnhSYW5nZS55KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tWCA9IGxpbmUucFN0YXJ0Lng7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmbG9hdCB0b1ggPSBzb2x2ZUxpbmVYKGxpbmUuZXF1YXRpb24sIGZsb2F0KHkpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvWCA+IC0xLjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9YID0gY2xhbXAodG9YLCBsaW5lLnhSYW5nZS54LCBsaW5lLnhSYW5nZS55KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b1ggPSBsaW5lLnBFbmQueDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl2ZWMyIHhSYW5nZSA9IGl2ZWMyKG1pbihmcm9tWCwgdG9YKSwgbWF4KGZyb21YLCB0b1gpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlyc3QgZW50cnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UueHkgPSB4UmFuZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoeFJhbmdlLnggPD0gcmFuZ2UueSArIDEgJiYgeFJhbmdlLnggPj0gcmFuZ2UueCAtIDEpIHx8ICh4UmFuZ2UueSA8PSByYW5nZS55ICsgMSAmJiB4UmFuZ2UueSA+PSByYW5nZS54IC0gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9leHRlbmRzIHRoZSBmaXJzdCBlbnRyeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS54eSA9IGl2ZWMyKG1pbihyYW5nZS54LCB4UmFuZ2UueCksIG1heChyYW5nZS55LCB4UmFuZ2UueSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UueiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tdXN0IGJlIGEgbmV3IHNlY29uZCByYW5nZSwgZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gc3dhcCBvciBub3QgdG8ga2VlcCB0aGVtIG9yZGVyZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhSYW5nZS54ID4gcmFuZ2UueSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuencgPSB4UmFuZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZSA9IGl2ZWM0KHhSYW5nZSwgcmFuZ2UueHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZXh0ZW5kcyB0aGUgc2Vjb25kIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnp3ID0gaXZlYzIobWluKHJhbmdlLnosIHhSYW5nZS54KSwgbWF4KHJhbmdlLncsIHhSYW5nZS55KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAke2NhbGxTaGFkZXJTbmlwcGV0XzEuY2FsbFNoYWRlclNuaXBwZXQoY2IsIFsndXZlYzMocmFuZ2UueCwgcmFuZ2UueSwgcHJldlkpJywgJ2ZhbHNlJ10pfVxyXG5cclxuICAgICAgICAgICAgLy93ZSBoYXZlIGFuIGluc2lkZVxyXG4gICAgICAgICAgICBpZiAocmFuZ2UueiA+IHJhbmdlLnkpIHtcclxuICAgICAgICAgICAgICAgICR7Y2FsbFNoYWRlclNuaXBwZXRfMS5jYWxsU2hhZGVyU25pcHBldChjYiwgWyd1dmVjMyhyYW5nZS55ICsgMSwgcmFuZ2UueiAtIDEsIHByZXZZKScsICd0cnVlJ10pfVxyXG4gICAgICAgICAgICAgICAgJHtjYWxsU2hhZGVyU25pcHBldF8xLmNhbGxTaGFkZXJTbmlwcGV0KGNiLCBbJ3V2ZWMzKHJhbmdlLnosIHJhbmdlLncsIHByZXZZKScsICdmYWxzZSddKX1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHJldlkgPSB5O1xyXG4gICAgICAgIH1cclxuICAgIGBcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy50cmlhbmdsZUNvdmVyYWdlID0gdm9pZCAwO1xyXG5jb25zdCBjYWxsU2hhZGVyU25pcHBldF8xID0gcmVxdWlyZShcIi4uLy4uL3dlYmdsL2NhbGxTaGFkZXJTbmlwcGV0XCIpO1xyXG5jb25zdCBjcmVhdGVTaGFkZXJTbmlwcGV0SW5zdGFuY2VfMSA9IHJlcXVpcmUoXCIuLi8uLi93ZWJnbC9jcmVhdGVTaGFkZXJTbmlwcGV0SW5zdGFuY2VcIik7XHJcbmNvbnN0IHNuaXBwZXRSZXN1bHRfMSA9IHJlcXVpcmUoXCIuLi8uLi93ZWJnbC9zbmlwcGV0UmVzdWx0XCIpO1xyXG5jb25zdCBpbnRlcnNlY3RUcmlhbmdsZVNxdWFyZV8xID0gcmVxdWlyZShcIi4uL2ludGVyc2VjdC9pbnRlcnNlY3RUcmlhbmdsZVNxdWFyZVwiKTtcclxuY29uc3QgZXBzaWxvbl8xID0gcmVxdWlyZShcIi4uL21hdGhzL2Vwc2lsb25cIik7XHJcbmNvbnN0IHZlYzJEZXRlcm1pbmFudF8xID0gcmVxdWlyZShcIi4uL21hdGhzL3ZlYzJEZXRlcm1pbmFudFwiKTtcclxuY29uc3QgQWFiYl8xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvQWFiYlwiKTtcclxuY29uc3QgVHJpYW5nbGVfMSA9IHJlcXVpcmUoXCIuLi9zdHJ1Y3RzL1RyaWFuZ2xlXCIpO1xyXG5jb25zdCB0cmlhbmdsZUFyZWFfMSA9IHJlcXVpcmUoXCIuLi90cmlhbmdsZS90cmlhbmdsZUFyZWFcIik7XHJcbmNvbnN0IHJhc3RlcmlzZV8xID0gcmVxdWlyZShcIi4vcmFzdGVyaXNlXCIpO1xyXG5jb25zdCByYXN0ZXJpc2VSZXN1bHQgPSBbXHJcbiAgICB7IHF1YWxpZmllcjogJ2lub3V0JywgdHlwZTogXCJ2ZWM0XCIsIG5hbWU6IFwiY29sb3VyXCIgfSxcclxuICAgIHsgcXVhbGlmaWVyOiAnaW5vdXQnLCB0eXBlOiBcImludFwiLCBuYW1lOiBcIm51bVBpeGVsc1wiIH0sXHJcbiAgICB7IHF1YWxpZmllcjogJ2luJywgdHlwZTogXCJzYW1wbGVyMkRcIiwgbmFtZTogXCJ0ZXh0dXJlXCIgfSxcclxuICAgIHsgcXVhbGlmaWVyOiAnaW4nLCB0eXBlOiBcIlRyaWFuZ2xlXCIsIG5hbWU6IFwidHJpYW5nbGVcIiB9LFxyXG4gICAgeyBxdWFsaWZpZXI6ICdpbicsIHR5cGU6IFwiVHJpYW5nbGVcIiwgbmFtZTogXCJlZGdlc1wiIH1cclxuXTtcclxuY29uc3QgcmFzdGVyaXNlQ2FsbGJhY2tQYXJhbXMgPSBbXHJcbiAgICB7IHF1YWxpZmllcjogJ2luJywgdHlwZTogJ3V2ZWMzJywgbmFtZTogJ3JhbmdlJyB9LFxyXG4gICAgeyBxdWFsaWZpZXI6ICdpbicsIHR5cGU6ICdib29sJywgbmFtZTogJ2lzSW5zaWRlJyB9XHJcbl07XHJcbmNvbnN0IHJhc3RlcmlzZUxpbmVzID0gY3JlYXRlU2hhZGVyU25pcHBldEluc3RhbmNlXzEuY3JlYXRlU2hhZGVyU25pcHBldEluc3RhbmNlKHtcclxuICAgIHNuaXBwZXQ6IHJhc3RlcmlzZV8xLnJhc3RlcmlzZSxcclxuICAgIHJlc3VsdE9ianM6IHJhc3RlcmlzZVJlc3VsdCxcclxuICAgIHBhcmFtczogW1xyXG4gICAgICAgIGNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZV8xLmNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZSh7XHJcbiAgICAgICAgICAgIHJlc3VsdE9ianM6IHJhc3RlcmlzZVJlc3VsdCxcclxuICAgICAgICAgICAgc25pcHBldDoge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiByYXN0ZXJpc2VDYWxsYmFja1BhcmFtcyxcclxuICAgICAgICAgICAgICAgIHRleHQ6ICgpID0+IC8qIGdsc2wgKi8gYFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodWludCB4PXJhbmdlLng7IHg8PXJhbmdlLnk7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAke3NuaXBwZXRSZXN1bHRfMS5zbmlwcGV0UmVzdWx0fWNvbG91ciArPSB0ZXhlbEZldGNoKCR7c25pcHBldFJlc3VsdF8xLnNuaXBwZXRSZXN1bHR9dGV4dHVyZSwgaXZlYzIoeCwgcmFuZ2UueiksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAke3NuaXBwZXRSZXN1bHRfMS5zbmlwcGV0UmVzdWx0fW51bVBpeGVscyArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICBdXHJcbn0pO1xyXG5jb25zdCByYXN0ZXJpc2VUcmlhbmdsZSA9IGNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZV8xLmNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZSh7XHJcbiAgICBkZXBlbmRlbmNpZXM6IFtpbnRlcnNlY3RUcmlhbmdsZVNxdWFyZV8xLmludGVyc2VjdFRyaWFuZ2xlU3F1YXJlLCB2ZWMyRGV0ZXJtaW5hbnRfMS52ZWMyRGV0ZXJtaW5hbnQsIEFhYmJfMS5BYWJiXSxcclxuICAgIHNuaXBwZXQ6IHJhc3RlcmlzZV8xLnJhc3RlcmlzZSxcclxuICAgIHJlc3VsdE9ianM6IHJhc3RlcmlzZVJlc3VsdCxcclxuICAgIHBhcmFtczogW1xyXG4gICAgICAgIGNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZV8xLmNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZSh7XHJcbiAgICAgICAgICAgIHJlc3VsdE9ianM6IHJhc3RlcmlzZVJlc3VsdCxcclxuICAgICAgICAgICAgc25pcHBldDoge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiByYXN0ZXJpc2VDYWxsYmFja1BhcmFtcyxcclxuICAgICAgICAgICAgICAgIHRleHQ6ICgpID0+IC8qIGdsc2wgKi8gYFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0luc2lkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHVpbnQgeD1yYW5nZS54OyB4PHJhbmdlLnk7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzbmlwcGV0UmVzdWx0XzEuc25pcHBldFJlc3VsdH1jb2xvdXIgKz0gdGV4ZWxGZXRjaCgke3NuaXBwZXRSZXN1bHRfMS5zbmlwcGV0UmVzdWx0fXRleHR1cmUsIGl2ZWMyKHgsIHJhbmdlLnopLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJvY2VzcyBlYWNoIG91dGVyIHBpeGVsIHNlcGFyYXRlbHkgc28gd2UgaGF2ZSBwZXItcGl4ZWwgc2hhZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1aW50IHlNYXggPSByYW5nZS56ICsgdWludCgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodWludCB4PXJhbmdlLng7IHg8cmFuZ2UueTsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBYWJiIGJvdW5kcyA9IEFhYmIodmVjMih4LCByYW5nZS56KSwgdmVjMih4ICsgdWludCgxKSwgeU1heCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYXMgYSB0ZXN0LCBkZXRlcm1pbmUgdGhlIGNvdmVyYWdlIG9mIHRoZSB0cmlhbmdsZSBpbiBvdXRzaWRlIGNlbGxzIGFuZCB1c2UgYXMgYW50aWFsaWFzaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyWzEyXSBwb2x5Z29uID0gaW50ZXJzZWN0VHJpYW5nbGVTcXVhcmUoJHtzbmlwcGV0UmVzdWx0XzEuc25pcHBldFJlc3VsdH10cmlhbmdsZSwgJHtzbmlwcGV0UmVzdWx0XzEuc25pcHBldFJlc3VsdH1lZGdlcywgYm91bmRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgcGVyY2VudENvdmVyYWdlID0gY2xhbXAoYWJzKChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyRGV0ZXJtaW5hbnQocG9seWdvblswXSwgcG9seWdvblsxXSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzJEZXRlcm1pbmFudChwb2x5Z29uWzFdLCBwb2x5Z29uWzJdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMkRldGVybWluYW50KHBvbHlnb25bMl0sIHBvbHlnb25bM10pICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyRGV0ZXJtaW5hbnQocG9seWdvblszXSwgcG9seWdvbls0XSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzJEZXRlcm1pbmFudChwb2x5Z29uWzRdLCBwb2x5Z29uWzVdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMkRldGVybWluYW50KHBvbHlnb25bNV0sIHBvbHlnb25bNl0pICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyRGV0ZXJtaW5hbnQocG9seWdvbls2XSwgcG9seWdvbls3XSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlYzJEZXRlcm1pbmFudChwb2x5Z29uWzddLCBwb2x5Z29uWzhdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMkRldGVybWluYW50KHBvbHlnb25bOF0sIHBvbHlnb25bOV0pICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyRGV0ZXJtaW5hbnQocG9seWdvbls5XSwgcG9seWdvblsxMF0pICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWMyRGV0ZXJtaW5hbnQocG9seWdvblsxMF0sIHBvbHlnb25bMTFdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVjMkRldGVybWluYW50KHBvbHlnb25bMTFdLCBwb2x5Z29uWzBdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAvIDIuMCksIDAuMCwgMS4wKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3NuaXBwZXRSZXN1bHRfMS5zbmlwcGV0UmVzdWx0fWNvbG91ciArPSB0ZXhlbEZldGNoKCR7c25pcHBldFJlc3VsdF8xLnNuaXBwZXRSZXN1bHR9dGV4dHVyZSwgaXZlYzIoeCwgcmFuZ2UueiksIDApICogcGVyY2VudENvdmVyYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcbiAgICBdXHJcbn0pO1xyXG5leHBvcnRzLnRyaWFuZ2xlQ292ZXJhZ2UgPSB7XHJcbiAgICBkZXBlbmRlbmNpZXM6IFtUcmlhbmdsZV8xLlRyaWFuZ2xlLCB0cmlhbmdsZUFyZWFfMS50cmlhbmdsZUFyZWEsIHJhc3RlcmlzZUxpbmVzLCByYXN0ZXJpc2VUcmlhbmdsZSwgZXBzaWxvbl8xLmVwc2lsb25dLFxyXG4gICAgdGV4dDogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgdmVjNCB0cmlhbmdsZUNvdmVyYWdlKFRyaWFuZ2xlIHRyaWFuZ2xlLCBzYW1wbGVyMkQgdGV4dHVyZSkge1xyXG4gICAgICAgICAgICBmbG9hdCBhcmVhID0gdHJpYW5nbGVBcmVhKHRyaWFuZ2xlKTtcclxuXHJcbiAgICAgICAgICAgIFRyaWFuZ2xlIGVkZ2VzID0gVHJpYW5nbGUodHJpYW5nbGUucDIgLSB0cmlhbmdsZS5wMSwgdHJpYW5nbGUucDMgLSB0cmlhbmdsZS5wMiwgdHJpYW5nbGUucDEgLSB0cmlhbmdsZS5wMyk7XHJcblxyXG4gICAgICAgICAgICB2ZWM0IGNvbG91ciA9IHZlYzQoMC4wKTtcclxuICAgICAgICAgICAgaW50IG51bVBpeGVscyA9IDA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL2lmIHRoZSB0cmlhbmdsZSBpcyBkZWdlbmVyYXRlIGFuZCBoYXMgbm8gYXJlYSB0aGVuIHdlIGp1c3QgYXZlcmFnZSB0aGUgY29sb3VycyB0aGUgbGluZXMgY292ZXJcclxuICAgICAgICAgICAgaWYgKGFyZWEgPCAxLjApIHtcclxuICAgICAgICAgICAgICAgICR7Y2FsbFNoYWRlclNuaXBwZXRfMS5jYWxsU2hhZGVyU25pcHBldChyYXN0ZXJpc2VMaW5lcywgWyd0cmlhbmdsZSddLCBbXCJjb2xvdXJcIiwgXCJudW1QaXhlbHNcIiwgXCJ0ZXh0dXJlXCIsIFwidHJpYW5nbGVcIiwgXCJlZGdlc1wiXSl9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyIC8gZmxvYXQobnVtUGl4ZWxzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHtjYWxsU2hhZGVyU25pcHBldF8xLmNhbGxTaGFkZXJTbmlwcGV0KHJhc3RlcmlzZVRyaWFuZ2xlLCBbJ3RyaWFuZ2xlJ10sIFtcImNvbG91clwiLCBcIm51bVBpeGVsc1wiLCBcInRleHR1cmVcIiwgXCJ0cmlhbmdsZVwiLCBcImVkZ2VzXCJdKX1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ciAvIGFyZWE7XHJcbiAgICAgICAgfVxyXG4gICAgYFxyXG59O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkFhYmIgPSB2b2lkIDA7XHJcbmV4cG9ydHMuQWFiYiA9IHtcclxuICAgIHRleHQ6IC8qIGdsc2wgKi8gYFxyXG4gICAgICAgIHN0cnVjdCBBYWJiIHtcclxuICAgICAgICAgICAgdmVjMiBtaW5Qb3M7XHJcbiAgICAgICAgICAgIHZlYzIgbWF4UG9zO1xyXG4gICAgICAgIH07XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuTGluZSA9IHZvaWQgMDtcclxuZXhwb3J0cy5MaW5lID0ge1xyXG4gICAgdGV4dDogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgc3RydWN0IExpbmUge1xyXG4gICAgICAgICAgICB2ZWMyIHAxO1xyXG4gICAgICAgICAgICB2ZWMyIHAyO1xyXG4gICAgICAgIH07XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuTGluZUVxdWF0aW9uID0gdm9pZCAwO1xyXG5leHBvcnRzLkxpbmVFcXVhdGlvbiA9IHtcclxuICAgIHRleHQ6IC8qIGdsc2wgKi8gYFxyXG4gICAgICAgIHN0cnVjdCBMaW5lRXF1YXRpb24ge1xyXG4gICAgICAgICAgICBmbG9hdCBncmFkaWVudDtcclxuICAgICAgICAgICAgZmxvYXQgaW50ZXJzZWN0O1xyXG4gICAgICAgIH07XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuTGluZVJhbmdlID0gdm9pZCAwO1xyXG5leHBvcnRzLkxpbmVSYW5nZSA9IHtcclxuICAgIHRleHQ6IC8qIGdsc2wgKi8gYFxyXG4gICAgICAgIHN0cnVjdCBMaW5lUmFuZ2Uge1xyXG4gICAgICAgICAgICB2ZWMyIHBTdGFydDtcclxuICAgICAgICAgICAgdmVjMiBwRW5kO1xyXG4gICAgICAgICAgICB2ZWMyIHhSYW5nZTtcclxuICAgICAgICAgICAgTGluZUVxdWF0aW9uIGVxdWF0aW9uO1xyXG4gICAgICAgIH07XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuVHJpYW5nbGUgPSB2b2lkIDA7XHJcbmV4cG9ydHMuVHJpYW5nbGUgPSB7XHJcbiAgICB0ZXh0OiAvKiBnbHNsICovIGBcclxuICAgICAgICBzdHJ1Y3QgVHJpYW5nbGUge1xyXG4gICAgICAgICAgICB2ZWMyIHAxO1xyXG4gICAgICAgICAgICB2ZWMyIHAyO1xyXG4gICAgICAgICAgICB2ZWMyIHAzO1xyXG4gICAgICAgIH07XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMudHJpYW5nbGVBcmVhID0gdm9pZCAwO1xyXG5jb25zdCBUcmlhbmdsZV8xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvVHJpYW5nbGVcIik7XHJcbmNvbnN0IHZlYzJEZXRlcm1pbmFudF8xID0gcmVxdWlyZShcIi4uL21hdGhzL3ZlYzJEZXRlcm1pbmFudFwiKTtcclxuZXhwb3J0cy50cmlhbmdsZUFyZWEgPSB7XHJcbiAgICBkZXBlbmRlbmNpZXM6IFtUcmlhbmdsZV8xLlRyaWFuZ2xlLCB2ZWMyRGV0ZXJtaW5hbnRfMS52ZWMyRGV0ZXJtaW5hbnRdLFxyXG4gICAgdGV4dDogLyogZ2xzbCAqLyBgXHJcbiAgICAgICAgZmxvYXQgdHJpYW5nbGVBcmVhKFRyaWFuZ2xlIHRyaWFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhYnMoKFxyXG4gICAgICAgICAgICAgICAgdmVjMkRldGVybWluYW50KHRyaWFuZ2xlLnAxLCB0cmlhbmdsZS5wMikgK1xyXG4gICAgICAgICAgICAgICAgdmVjMkRldGVybWluYW50KHRyaWFuZ2xlLnAyLCB0cmlhbmdsZS5wMykgK1xyXG4gICAgICAgICAgICAgICAgdmVjMkRldGVybWluYW50KHRyaWFuZ2xlLnAzLCB0cmlhbmdsZS5wMSlcclxuICAgICAgICAgICAgKSAvIDIuMCk7XHJcbiAgICAgICAgfVxyXG4gICAgYFxyXG59O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnRyaWFuZ2xlTWF4ID0gdm9pZCAwO1xyXG5jb25zdCBUcmlhbmdsZV8xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvVHJpYW5nbGVcIik7XHJcbmV4cG9ydHMudHJpYW5nbGVNYXggPSB7XHJcbiAgICBkZXBlbmRlbmNpZXM6IFtUcmlhbmdsZV8xLlRyaWFuZ2xlXSxcclxuICAgIHRleHQ6IC8qIGdsc2wgKi8gYFxyXG4gICAgICAgIHZlYzIgdHJpYW5nbGVNYXgoVHJpYW5nbGUgdHJpYW5nbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1heChtYXgodHJpYW5nbGUucDEsIHRyaWFuZ2xlLnAyKSwgdHJpYW5nbGUucDMpO1xyXG4gICAgICAgIH1cclxuICAgIGBcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy50cmlhbmdsZU1pbiA9IHZvaWQgMDtcclxuY29uc3QgVHJpYW5nbGVfMSA9IHJlcXVpcmUoXCIuLi9zdHJ1Y3RzL1RyaWFuZ2xlXCIpO1xyXG5leHBvcnRzLnRyaWFuZ2xlTWluID0ge1xyXG4gICAgZGVwZW5kZW5jaWVzOiBbVHJpYW5nbGVfMS5UcmlhbmdsZV0sXHJcbiAgICB0ZXh0OiAvKiBnbHNsICovIGBcclxuICAgICAgICB2ZWMyIHRyaWFuZ2xlTWluKFRyaWFuZ2xlIHRyaWFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtaW4obWluKHRyaWFuZ2xlLnAxLCB0cmlhbmdsZS5wMiksIHRyaWFuZ2xlLnAzKTtcclxuICAgICAgICB9XHJcbiAgICBgXHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZ2V0SW1hZ2VEYXRhID0gdm9pZCAwO1xyXG5jb25zdCBnZXRJbWFnZURhdGEgPSAoaW1hZ2UpID0+IHtcclxuICAgIGNvbnN0IGltYWdlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICBpbWFnZUNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xyXG4gICAgaW1hZ2VDYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG4gICAgY29uc3QgaW1hZ2VHcmFwaGljcyA9IGltYWdlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICBpZiAoIWltYWdlR3JhcGhpY3MpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBjcmVhdGUgY2FudmFzIHRvIGV4dHJhY3QgaW1hZ2UgZGF0YScpO1xyXG4gICAgfVxyXG4gICAgaW1hZ2VHcmFwaGljcy5jbGVhclJlY3QoMCwgMCwgaW1hZ2VDYW52YXMud2lkdGgsIGltYWdlQ2FudmFzLmhlaWdodCk7XHJcbiAgICBpbWFnZUdyYXBoaWNzLmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgICByZXR1cm4gaW1hZ2VHcmFwaGljcy5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2VDYW52YXMud2lkdGgsIGltYWdlQ2FudmFzLmhlaWdodCk7XHJcbn07XHJcbmV4cG9ydHMuZ2V0SW1hZ2VEYXRhID0gZ2V0SW1hZ2VEYXRhO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmJ1aWxkU2hhZGVyU3RhZ2UgPSB2b2lkIDA7XHJcbmNvbnN0IGRlZmluZVNoYWRlclNuaXBwZXRfMSA9IHJlcXVpcmUoXCIuL2RlZmluZVNoYWRlclNuaXBwZXRcIik7XHJcbmNvbnN0IGJ1aWxkU2hhZGVyU3RhZ2UgPSAoc2hhZGVyLCB2ZXJzaW9uKSA9PiB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBsZXQgdGVzdERlcGVuZGVuY2llcyA9IG5ldyBTZXQoc2hhZGVyLmRlcGVuZGVuY2llcyB8fCBbXSk7XHJcbiAgICBjb25zdCBhbGxEZXBlbmRlbmNpZXMgPSBuZXcgU2V0KHRlc3REZXBlbmRlbmNpZXMpO1xyXG4gICAgbGV0IG5leHRTZXQ7XHJcbiAgICBjb25zdCBhZGREZXBlbmRlbmNpZXMgPSAoZGVwZW5kZW5jaWVzKSA9PiB7XHJcbiAgICAgICAgaWYgKGRlcGVuZGVuY2llcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YmRlcGVuZGVuY3kgb2YgZGVwZW5kZW5jaWVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWxsRGVwZW5kZW5jaWVzLmhhcyhzdWJkZXBlbmRlbmN5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbERlcGVuZGVuY2llcy5kZWxldGUoc3ViZGVwZW5kZW5jeSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0U2V0LmFkZChzdWJkZXBlbmRlbmN5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFsbERlcGVuZGVuY2llcy5hZGQoc3ViZGVwZW5kZW5jeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgd2hpbGUgKHRlc3REZXBlbmRlbmNpZXMuc2l6ZSkge1xyXG4gICAgICAgIG5leHRTZXQgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBkZXBlbmRlbmN5IG9mIHRlc3REZXBlbmRlbmNpZXMpIHtcclxuICAgICAgICAgICAgaWYgKCdzbmlwcGV0JyBpbiBkZXBlbmRlbmN5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGRlcGVuZGVuY3k7XHJcbiAgICAgICAgICAgICAgICBhZGREZXBlbmRlbmNpZXMoaW5zdGFuY2Uuc25pcHBldC5kZXBlbmRlbmNpZXMpO1xyXG4gICAgICAgICAgICAgICAgYWRkRGVwZW5kZW5jaWVzKGluc3RhbmNlLnBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWRkRGVwZW5kZW5jaWVzKGRlcGVuZGVuY3kuZGVwZW5kZW5jaWVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGVzdERlcGVuZGVuY2llcyA9IG5leHRTZXQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSBBcnJheS5mcm9tKGFsbERlcGVuZGVuY2llcy52YWx1ZXMoKSkucmV2ZXJzZSgpO1xyXG4gICAgcmV0dXJuIGAjdmVyc2lvbiAke3ZlcnNpb259XHJcblxyXG4gICAgICAgICR7KF9hID0gc2hhZGVyLmhlYWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnfVxyXG5cclxuICAgICAgICAke2RlcGVuZGVuY2llcy5tYXAoZGVwZW5kZW5jeSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGVwID0gZGVwZW5kZW5jeTtcclxuICAgICAgICBpZiAoJ3NuaXBwZXQnIGluIGRlcCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lU2hhZGVyU25pcHBldF8xLmRlZmluZVNoYWRlclNuaXBwZXQoZGVwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZXAudGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9KS5qb2luKCdcXG4nKX1cclxuICAgIFxyXG4gICAgICAgIHZvaWQgbWFpbih2b2lkKSB7XHJcbiAgICAgICAgICAgICR7c2hhZGVyLm1haW59XHJcbiAgICAgICAgfVxyXG4gICAgYDtcclxufTtcclxuZXhwb3J0cy5idWlsZFNoYWRlclN0YWdlID0gYnVpbGRTaGFkZXJTdGFnZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5jYWxsU2hhZGVyU25pcHBldCA9IHZvaWQgMDtcclxuY29uc3Qgc25pcHBldFJlc3VsdF8xID0gcmVxdWlyZShcIi4vc25pcHBldFJlc3VsdFwiKTtcclxuY29uc3QgY2FsbFNoYWRlclNuaXBwZXQgPSAoaW5zdGFuY2UsIHBhcmFtcywgcmVzdWx0T2JqcykgPT4ge1xyXG4gICAgaWYgKGluc3RhbmNlLnNuaXBwZXQucGFyYW1zLmxlbmd0aCAhPT0gcGFyYW1zLmxlbmd0aCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBwYXJhbXMgaW4gJHtpbnN0YW5jZS5uYW1lfSBjYWxsLCBleHBlY3RpbmcgcGFyYW1zOiAke2luc3RhbmNlLnNuaXBwZXQucGFyYW1zLm1hcChwYXJhbSA9PiBwYXJhbS5uYW1lKS5qb2luKCcsICcpfWApO1xyXG4gICAgfVxyXG4gICAgLy9hbGwgY2Igc2hvdWxkIGZvcndhcmQgdGhlIHJlc3VsdCBvYmplY3RzIGJ5IGRlZmF1bHQgaWYgdW5zcGVjaWZpZWQgc28gZnVydGhlciBjYWxsYmFja3MgY2FuIGFjY2VzcyB0aGUgcmVzdWx0IGRhdGFcclxuICAgIGlmIChyZXN1bHRPYmpzKSB7XHJcbiAgICAgICAgaWYgKHJlc3VsdE9ianMubGVuZ3RoICE9PSBpbnN0YW5jZS5yZXN1bHRPYmpzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgcmVzdWx0IG9iamVjdCBpbiAke2luc3RhbmNlLm5hbWV9IGNhbGwsIGV4cGVjdGluZyByZXN1bHRzOiAke2luc3RhbmNlLnJlc3VsdE9ianMubWFwKHJlc3VsdE9iaiA9PiByZXN1bHRPYmoubmFtZSkuam9pbignLCAnKX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXN1bHRPYmpzID0gaW5zdGFuY2UucmVzdWx0T2Jqcy5tYXAocmVzdWx0T2JqID0+IGAke3NuaXBwZXRSZXN1bHRfMS5zbmlwcGV0UmVzdWx0fSR7cmVzdWx0T2JqLm5hbWV9YCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYCR7aW5zdGFuY2UubmFtZX0oJHtwYXJhbXMuam9pbignLCAnKX0sICR7cmVzdWx0T2Jqcy5qb2luKCcsICcpfSk7YDtcclxufTtcclxuZXhwb3J0cy5jYWxsU2hhZGVyU25pcHBldCA9IGNhbGxTaGFkZXJTbmlwcGV0O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmNyZWF0ZVByb2dyYW0gPSB2b2lkIDA7XHJcbmNvbnN0IGNyZWF0ZVByb2dyYW0gPSAoZ2wsIHZlcnRTaGFkZXIsIGZyYWdTaGFkZXIpID0+IHtcclxuICAgIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICBpZiAocHJvZ3JhbSA9PT0gbnVsbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGNyZWF0ZSBwcm9ncmFtJyk7XHJcbiAgICB9XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydFNoYWRlcik7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ1NoYWRlcik7XHJcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIGNvbnN0IGxpbmtlZCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xyXG4gICAgaWYgKCFsaW5rZWQpIHtcclxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKTtcclxuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgbGlua2luZyBwcm9ncmFtIDogJHtlcnJvck1lc3NhZ2V9YCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJvZ3JhbTtcclxufTtcclxuZXhwb3J0cy5jcmVhdGVQcm9ncmFtID0gY3JlYXRlUHJvZ3JhbTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5jcmVhdGVQcm9ncmFtRnJvbVNoYWRlciA9IHZvaWQgMDtcclxuY29uc3QgYnVpbGRTaGFkZXJTdGFnZV8xID0gcmVxdWlyZShcIi4vYnVpbGRTaGFkZXJTdGFnZVwiKTtcclxuY29uc3QgY3JlYXRlUHJvZ3JhbV8xID0gcmVxdWlyZShcIi4vY3JlYXRlUHJvZ3JhbVwiKTtcclxuY29uc3QgbG9hZFNoYWRlcl8xID0gcmVxdWlyZShcIi4vbG9hZFNoYWRlclwiKTtcclxuY29uc3QgY3JlYXRlUHJvZ3JhbUZyb21TaGFkZXIgPSAoZ2wsIHNoYWRlcikgPT4ge1xyXG4gICAgY29uc3QgdmVydFNvdXJjZSA9IGJ1aWxkU2hhZGVyU3RhZ2VfMS5idWlsZFNoYWRlclN0YWdlKHNoYWRlci52ZXJ0ZXgsIHNoYWRlci52ZXJzaW9uKTtcclxuICAgIGNvbnN0IGZyYWdTb3VyY2UgPSBidWlsZFNoYWRlclN0YWdlXzEuYnVpbGRTaGFkZXJTdGFnZShzaGFkZXIuZnJhZ21lbnQsIHNoYWRlci52ZXJzaW9uKTtcclxuICAgIGNvbnN0IHZlcnRTaGFkZXIgPSBsb2FkU2hhZGVyXzEubG9hZFNoYWRlcihnbCwgdmVydFNvdXJjZSwgZ2wuVkVSVEVYX1NIQURFUik7XHJcbiAgICBjb25zdCBmcmFnU2hhZGVyID0gbG9hZFNoYWRlcl8xLmxvYWRTaGFkZXIoZ2wsIGZyYWdTb3VyY2UsIGdsLkZSQUdNRU5UX1NIQURFUik7XHJcbiAgICByZXR1cm4gY3JlYXRlUHJvZ3JhbV8xLmNyZWF0ZVByb2dyYW0oZ2wsIHZlcnRTaGFkZXIsIGZyYWdTaGFkZXIpO1xyXG59O1xyXG5leHBvcnRzLmNyZWF0ZVByb2dyYW1Gcm9tU2hhZGVyID0gY3JlYXRlUHJvZ3JhbUZyb21TaGFkZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuY3JlYXRlU2hhZGVyU25pcHBldEluc3RhbmNlID0gdm9pZCAwO1xyXG5sZXQgdW5pcXVlTmFtZSA9IDA7XHJcbmNvbnN0IGNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xyXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5zdGFuY2UpLCB7IG5hbWU6IGBfc25pcHBldF8ke3VuaXF1ZU5hbWUrK31gIH0pO1xyXG59O1xyXG5leHBvcnRzLmNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZSA9IGNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5kZWZpbmVTaGFkZXJTbmlwcGV0ID0gdm9pZCAwO1xyXG5jb25zdCBzbmlwcGV0UmVzdWx0XzEgPSByZXF1aXJlKFwiLi9zbmlwcGV0UmVzdWx0XCIpO1xyXG5jb25zdCBkZWZpbmVTaGFkZXJTbmlwcGV0ID0gKGluc3RhbmNlKSA9PiB7XHJcbiAgICB2YXIgX2EsIF9iO1xyXG4gICAgY29uc3QgZnVuY1BhcmFtcyA9IFtcclxuICAgICAgICAuLi5pbnN0YW5jZS5zbmlwcGV0LnBhcmFtcyxcclxuICAgICAgICAuLi5pbnN0YW5jZS5yZXN1bHRPYmpzLm1hcChwYXJhbSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJhbSksIHsgbmFtZTogYCR7c25pcHBldFJlc3VsdF8xLnNuaXBwZXRSZXN1bHR9JHtwYXJhbS5uYW1lfWAgfSkpKVxyXG4gICAgXS5tYXAocGFyYW0gPT4gYCR7cGFyYW0ucXVhbGlmaWVyfSAke3BhcmFtLnR5cGV9ICR7cGFyYW0ubmFtZX1gKTtcclxuICAgIHJldHVybiBgJHsoX2EgPSBpbnN0YW5jZS5zbmlwcGV0LnJldHVyblR5cGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICd2b2lkJ30gJHtpbnN0YW5jZS5uYW1lfSgke2Z1bmNQYXJhbXMuam9pbignLCcpfSkge1xyXG4gICAgICAgICR7aW5zdGFuY2Uuc25pcHBldC50ZXh0KC4uLigoX2IgPSBpbnN0YW5jZS5wYXJhbXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdKSl9XHJcbiAgICB9YDtcclxufTtcclxuZXhwb3J0cy5kZWZpbmVTaGFkZXJTbmlwcGV0ID0gZGVmaW5lU2hhZGVyU25pcHBldDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5sb2FkU2hhZGVyID0gdm9pZCAwO1xyXG5jb25zdCBsb2FkU2hhZGVyID0gKGdsLCBzb3VyY2UsIHR5cGUpID0+IHtcclxuICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICAgIGlmIChzaGFkZXIgPT09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBjcmVhdGUgc2hhZGVyJyk7XHJcbiAgICB9XHJcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgY29uc3QgY29tcGlsZWQgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XHJcbiAgICBpZiAoIWNvbXBpbGVkKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xyXG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgY29tcGlsaW5nIHNoYWRlcjogJHtlcnJvck1lc3NhZ2V9XFxuJHtzb3VyY2Uuc3BsaXQoJ1xcbicpLm1hcCgoc3RyLCBpbmRleCkgPT4gYCR7aW5kZXggKyAxfToke3N0cn1gKS5qb2luKCdcXG4nKX1gKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzaGFkZXI7XHJcbn07XHJcbmV4cG9ydHMubG9hZFNoYWRlciA9IGxvYWRTaGFkZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuc25pcHBldFJlc3VsdCA9IHZvaWQgMDtcclxuZXhwb3J0cy5zbmlwcGV0UmVzdWx0ID0gJ19yZXN1bHRfJztcclxuIl0sIm5hbWVzIjpbIl9fYXdhaXRlciIsInRoaXMiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwiZ2V0SW1hZ2VEYXRhXzEiLCJjcmVhdGVQcm9ncmFtRnJvbVNoYWRlcl8xIiwiZ2VuZXJhdG9yXzEiLCJnYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImltYWdlUHJldmlldyIsImltYWdlSW5wdXQiLCJyZXNvbHV0aW9uIiwidGltZXRha2VuIiwiZ2wiLCJnZXRDb250ZXh0IiwiYW50aWFsaWFzIiwicHJlbXVsdGlwbGllZEFscGhhIiwic3RhcnQiLCJpbWFnZSIsIkltYWdlIiwiY3JlYXRlTWFwIiwic3JjIiwibnVtSXRlcmF0aW9ucyIsInBhcnNlSW50IiwiaW1hZ2VEYXRhIiwic2l6ZSIsIk1hdGgiLCJwb3ciLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsInNoYWRlclByb2dyYW0iLCJjcmVhdGVQcm9ncmFtRnJvbVNoYWRlciIsInVzZVByb2dyYW0iLCJpbWFnZVRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwidGV4SW1hZ2UyRCIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJpbWFnZVRleHR1cmVMb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInVuaWZvcm0xaSIsInJlc29sdXRpb25Mb2NhdGlvbiIsInVuaWZvcm0xdWkiLCJzYW1wbGVyU2l6ZUxvY2F0aW9uIiwic3RlcExvY2F0aW9uIiwidW5pZm9ybTJmdiIsImNsZWFyQ29sb3IiLCJ2aWV3cG9ydCIsImxvYWQiLCJnZXRJbWFnZURhdGEiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiZHJhd0FycmF5cyIsIlRSSUFOR0xFUyIsInJlYWRQaXhlbHMiLCJVaW50OEFycmF5IiwiaW5uZXJUZXh0IiwiZHJhdyIsIm9uY2hhbmdlIiwib25sb2FkIiwidHJpYW5nbGVDb3ZlcmFnZV8xIiwiVHJpYW5nbGVfMSIsInZlcnNpb24iLCJ2ZXJ0ZXgiLCJoZWFkIiwibWFpbiIsImZyYWdtZW50IiwiZGVwZW5kZW5jaWVzIiwiVHJpYW5nbGUiLCJ0cmlhbmdsZUNvdmVyYWdlIiwiaW50ZXJzZWN0TGluZVNxdWFyZSIsIkFhYmJfMSIsImludmVyc2VMZXJwXzEiLCJBYWJiIiwiaW52ZXJzZUxlcnAiLCJ0ZXh0IiwiaW50ZXJzZWN0VHJpYW5nbGVTcXVhcmUiLCJzb3J0XzEiLCJpbnRlcnNlY3RMaW5lU3F1YXJlXzEiLCJzb3J0IiwiZ2V0TGluZUVxdWF0aW9uIiwiTGluZV8xIiwiTGluZUVxdWF0aW9uXzEiLCJMaW5lIiwiTGluZUVxdWF0aW9uIiwiZ2V0TGluZVJhbmdlIiwiTGluZVJhbmdlXzEiLCJnZXRMaW5lRXF1YXRpb25fMSIsIkxpbmVSYW5nZSIsInNvbHZlTGluZVgiLCJlcHNpbG9uXzEiLCJlcHNpbG9uIiwidmVjMkRldGVybWluYW50IiwicmFzdGVyaXNlIiwiY2FsbFNoYWRlclNuaXBwZXRfMSIsImdldExpbmVSYW5nZV8xIiwic29sdmVMaW5lWF8xIiwidHJpYW5nbGVNYXhfMSIsInRyaWFuZ2xlTWluXzEiLCJ0cmlhbmdsZU1pbiIsInRyaWFuZ2xlTWF4IiwicGFyYW1zIiwicXVhbGlmaWVyIiwidHlwZSIsIm5hbWUiLCJjYiIsImNhbGxTaGFkZXJTbmlwcGV0IiwiY3JlYXRlU2hhZGVyU25pcHBldEluc3RhbmNlXzEiLCJzbmlwcGV0UmVzdWx0XzEiLCJpbnRlcnNlY3RUcmlhbmdsZVNxdWFyZV8xIiwidmVjMkRldGVybWluYW50XzEiLCJ0cmlhbmdsZUFyZWFfMSIsInJhc3RlcmlzZV8xIiwicmFzdGVyaXNlUmVzdWx0IiwicmFzdGVyaXNlQ2FsbGJhY2tQYXJhbXMiLCJyYXN0ZXJpc2VMaW5lcyIsImNyZWF0ZVNoYWRlclNuaXBwZXRJbnN0YW5jZSIsInNuaXBwZXQiLCJyZXN1bHRPYmpzIiwic25pcHBldFJlc3VsdCIsInJhc3RlcmlzZVRyaWFuZ2xlIiwidHJpYW5nbGVBcmVhIiwiaW1hZ2VDYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiaW1hZ2VHcmFwaGljcyIsIkVycm9yIiwiY2xlYXJSZWN0IiwiZHJhd0ltYWdlIiwiYnVpbGRTaGFkZXJTdGFnZSIsImRlZmluZVNoYWRlclNuaXBwZXRfMSIsInNoYWRlciIsIl9hIiwidGVzdERlcGVuZGVuY2llcyIsIlNldCIsImFsbERlcGVuZGVuY2llcyIsIm5leHRTZXQiLCJhZGREZXBlbmRlbmNpZXMiLCJzdWJkZXBlbmRlbmN5IiwiaGFzIiwiZGVsZXRlIiwiYWRkIiwiZGVwZW5kZW5jeSIsImluc3RhbmNlIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwicmV2ZXJzZSIsIm1hcCIsImRlcCIsImRlZmluZVNoYWRlclNuaXBwZXQiLCJqb2luIiwibGVuZ3RoIiwicGFyYW0iLCJyZXN1bHRPYmoiLCJjcmVhdGVQcm9ncmFtIiwidmVydFNoYWRlciIsImZyYWdTaGFkZXIiLCJwcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJlcnJvck1lc3NhZ2UiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJidWlsZFNoYWRlclN0YWdlXzEiLCJjcmVhdGVQcm9ncmFtXzEiLCJsb2FkU2hhZGVyXzEiLCJ2ZXJ0U291cmNlIiwiZnJhZ1NvdXJjZSIsImxvYWRTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiRlJBR01FTlRfU0hBREVSIiwidW5pcXVlTmFtZSIsImFzc2lnbiIsIl9iIiwiZnVuY1BhcmFtcyIsInJldHVyblR5cGUiLCJzb3VyY2UiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwic3BsaXQiLCJzdHIiLCJpbmRleCJdLCJzb3VyY2VSb290IjoiIn0=