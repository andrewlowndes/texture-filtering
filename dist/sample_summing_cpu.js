"use strict";(self.webpackChunksampling_coverage=self.webpackChunksampling_coverage||[]).push([[110],{3776:(e,t,a)=>{const o=a(2086),l=a(5676),u=a(975),d=a(7787),r=a(6374),c=a(8372),M=a(3345),n=document.getElementById("game"),i=document.getElementById("image"),s=document.getElementById("method"),g=document.getElementById("chooseimage"),h=document.getElementById("scale"),f=document.getElementById("xoffset"),m=document.getElementById("yoffset"),v=document.getElementById("scalevalue"),P=document.getElementById("xoffsetvalue"),x=document.getElementById("yoffsetvalue"),p=document.getElementById("timetaken"),w=n.getContext("2d");let y=.33,_=0,b=0;const I=()=>{const e=c.getImageData(i),t=r.createSummedTexture(e),a=d.createRenderer((()=>{h.value=v.value=y.toString(),f.value=P.value=_.toString(),m.value=x.value=b.toString(),((e,t)=>{w.clearRect(0,0,n.width,n.height);const a=w.getImageData(0,0,n.width,n.height);let d;switch(s.value){case"summed":d=(a,o,u,d)=>l.averageSummed(e,t,a,o,u,d);break;case"naive":d=(e,a,l,u)=>o.averageNaive(t,e,a,l,u);break;case"none":d=(e,a)=>u.getPixel(t,e,a);break;default:throw new Error("Unknown method")}const r=Date.now(),c=n.height-1,i=n.width-1;for(let e=Math.max(0,b);e<Math.min(n.height*y+b,n.height);e++)for(let t=Math.max(0,_);t<Math.min(n.width*y+_,n.width);t++){const o=M.clamp((t-_)/y,0,i),l=M.clamp((e-b)/y,0,c),r=M.clamp((t+1-_)/y,0,i),n=M.clamp((e+1-b)/y,0,c);u.setPixel(a,t,e,d(o,l,r,n))}w.putImageData(a,0,0),p.innerText=Date.now()-r+" ms"})(t,e)}));h.oninput=()=>{y=parseFloat(h.value),a()},f.oninput=()=>{_=parseFloat(f.value),a()},m.oninput=()=>{b=parseFloat(m.value),a()},v.onchange=()=>{y=parseFloat(v.value),a()},P.onchange=()=>{_=parseFloat(P.value),a()},x.onchange=()=>{b=parseFloat(x.value),a()},s.oninput=a,a()},E=()=>{i.src=g.value,i.complete?I():i.onload=I};g.onchange=()=>{E()},E()},2086:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.averageNaive=void 0;const o=a(9078),l=a(5062),u=a(8027),d=a(975);t.averageNaive=(e,t,a,r,c)=>{const M=Math.floor(t),n=Math.floor(a),i=Math.floor(r),s=Math.floor(c);if(M==i&&n==s)return l.floor4Mutate(d.getPixel(e,M,n));const g=r-t,h=c-a,f=1/(g*h),m=Math.ceil(t),v=Math.ceil(a),P=Math.floor(r),x=Math.floor(c),p=m-t,w=v-a,y=r-P,_=c-x,b=[0,0,0,0];if(M==i){w&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,n),g*w)),_&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,s),g*_));const t=[0,0,0,0];for(let a=v;a<x;a++)o.add4Mutate(t,d.getPixel(e,M,a));return o.add4Mutate(b,u.scale4Mutate(t,g)),l.floor4Mutate(u.scale4Mutate(b,f))}if(n==s){p&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,n),h*p)),y&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,s),h*y));const t=[0,0,0,0];for(let a=m;a<P;a++)o.add4Mutate(t,d.getPixel(e,a,n));return o.add4Mutate(b,u.scale4Mutate(t,h)),l.floor4Mutate(u.scale4Mutate(b,f))}if(w&&(p&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,n),p*w)),y&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,n),y*w))),_&&(p&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,s),p*_)),y&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,s),y*_))),w){const t=[0,0,0,0];for(let a=m;a<P;a++)o.add4Mutate(t,d.getPixel(e,a,n));o.add4Mutate(b,u.scale4Mutate(t,w))}if(p){const t=[0,0,0,0];for(let a=v;a<x;a++)o.add4Mutate(t,d.getPixel(e,M,a));o.add4Mutate(b,u.scale4Mutate(t,p))}if(_){const t=[0,0,0,0];for(let a=m;a<P;a++)o.add4Mutate(t,d.getPixel(e,a,s));o.add4Mutate(b,u.scale4Mutate(t,_))}if(y){const t=[0,0,0,0];for(let a=v;a<x;a++)o.add4Mutate(t,d.getPixel(e,i,a));o.add4Mutate(b,u.scale4Mutate(t,y))}for(let t=m;t<P;t++)for(let a=v;a<x;a++)o.add4Mutate(b,d.getPixel(e,t,a));return l.floor4Mutate(u.scale4Mutate(b,f))}},5676:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.averageSummed=void 0;const o=a(9078),l=a(5062),u=a(8027),d=a(6196),r=a(975),c=(e,t,a)=>{try{const o=t>=0&&a>=0?e[a][t]:[0,0,0,0];if(void 0===o)throw Error("No summed texture value");return o}catch(e){throw console.error(t,a),e}},M=(e,t,a,l,u)=>{const r=[0,0,0,0];try{o.add4Mutate(r,c(e,l,u)),d.subtract4Mutate(r,c(e,t,u)),d.subtract4Mutate(r,c(e,l,a)),o.add4Mutate(r,c(e,t,a))}catch(o){throw console.error([r,c(e,l,u),c(e,t,u),c(e,l,a),c(e,t,a)]),o}return r};t.averageSummed=(e,t,a,d,c,n)=>{const i=Math.floor(a),s=Math.floor(d),g=Math.floor(c),h=Math.floor(n);if(i==g&&s==h)return l.floor4Mutate(r.getPixel(t,i,s));const f=c-a,m=n-d,v=1/(f*m),P=Math.ceil(a),x=Math.ceil(d),p=Math.floor(c),w=Math.floor(n),y=P-a,_=x-d,b=c-p,I=n-w,E=[0,0,0,0];return i==g?(_&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,s),f*_)),I&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,h),f*I)),o.add4Mutate(E,u.scale4Mutate(M(e,i-1,x-1,i,w-1),f)),l.floor4Mutate(u.scale4Mutate(E,v))):s==h?(y&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,s),m*y)),b&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,h),m*b)),o.add4Mutate(E,u.scale4Mutate(M(e,P-1,s-1,p-1,s),m)),l.floor4Mutate(u.scale4Mutate(E,v))):(_&&(y&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,s),y*_)),b&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,s),b*_))),I&&(y&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,h),y*I)),b&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,h),b*I))),_&&o.add4Mutate(E,u.scale4Mutate(M(e,P-1,s-1,p-1,s),_)),y&&o.add4Mutate(E,u.scale4Mutate(M(e,i-1,x-1,i,w-1),y)),I&&o.add4Mutate(E,u.scale4Mutate(M(e,P-1,h-1,p-1,h),I)),b&&o.add4Mutate(E,u.scale4Mutate(M(e,g-1,x-1,g,w-1),b)),o.add4Mutate(E,M(e,P-1,x-1,p-1,w-1)),l.floor4Mutate(u.scale4Mutate(E,v)))}},975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setPixel=t.getPixel=void 0,t.getPixel=(e,t,a)=>{const o=4*(e.width*Math.floor(a)+Math.floor(t));return e.data.slice(o,o+4)},t.setPixel=(e,t,a,o)=>{e.data.set(o,4*(Math.floor(a)*e.width+Math.floor(t)))}},7787:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderer=void 0,t.createRenderer=(e,t)=>{let a=!1;return()=>{a||(a=!0,requestAnimationFrame((()=>{e(),a=!1,null==t||t()})))}}},6374:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSummedTexture=void 0;const o=a(9078),l=a(6196);t.createSummedTexture=e=>{const t=new Array(e.height);for(let a=0,u=0;u<e.height;u++){t[u]=new Array(e.width);for(let d=0;d<e.width;d++,a+=4){const r=new Uint32Array(e.data.slice(a,a+4));d>0&&o.add4Mutate(r,t[u][d-1]),u>0&&o.add4Mutate(r,t[u-1][d]),d>0&&u>0&&l.subtract4Mutate(r,t[u-1][d-1]),t[u][d]=r}}return t}},3345:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lerp=t.timeAtPos=t.clamp=t.fract=t.negFract=t.EPSILON=void 0,t.EPSILON=1e-6,t.negFract=e=>1-e+Math.floor(e),t.fract=e=>e-Math.floor(e),t.clamp=(e,t,a)=>Math.max(Math.min(e,a),t),t.timeAtPos=(e,a,o)=>a?t.clamp((o-e)/a,0,1):0,t.lerp=(e,t,a)=>e*(1-a)+t*a},9078:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.add4Mutate=void 0,t.add4Mutate=(e,t)=>(e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],e)},5062:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.floor4Mutate=void 0,t.floor4Mutate=e=>(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),e[3]=Math.floor(e[3]),e)},8372:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getImageData=void 0,t.getImageData=e=>{const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const a=t.getContext("2d");if(!a)throw new Error("Could not create canvas to extract image data");return a.clearRect(0,0,t.width,t.height),a.drawImage(e,0,0),a.getImageData(0,0,t.width,t.height)}},8027:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scale4Mutate=void 0,t.scale4Mutate=(e,t)=>(e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e)},6196:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subtract4Mutate=void 0,t.subtract4Mutate=(e,t)=>(e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e[3]-=t[3],e)}},e=>{e(e.s=3776)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBTVMsRUFDUlQsRUFBRSxJQUFNUyxFQUNEVCxJLGFDUFgxRCxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRXpDLE9BQU8sSUFDdER5QyxFQUFRc0MscUJBQWtCLEVBUTFCdEMsRUFBUXNDLGdCQVBnQixDQUFDa0IsRUFBR0ksS0FDeEJKLEVBQUUsSUFBTUksRUFBRSxHQUNWSixFQUFFLElBQU1JLEVBQUUsR0FDVkosRUFBRSxJQUFNSSxFQUFFLEdBQ1ZKLEVBQUUsSUFBTUksRUFBRSxHQUNISixLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZGVtb3Mvc2FtcGxlU3VtbWluZ0NwdS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kcmF3L2F2ZXJhZ2VOYWl2ZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kcmF3L2F2ZXJhZ2VTdW1tZWQudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZHJhdy9jYW52YXMudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZHJhdy9jcmVhdGVSZW5kZXJlci50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kcmF3L2NyZWF0ZVN1bW1lZFRleHR1cmUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvbWF0aHMvY29tbW9uLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3V0aWxzL2FkZDRNdXRhdGUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvdXRpbHMvZmxvb3I0TXV0YXRlLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3V0aWxzL2dldEltYWdlRGF0YS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy91dGlscy9zY2FsZTRNdXRhdGUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvdXRpbHMvc3VidHJhY3Q0TXV0YXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGF2ZXJhZ2VOYWl2ZV8xID0gcmVxdWlyZShcIi4uL2RyYXcvYXZlcmFnZU5haXZlXCIpO1xyXG5jb25zdCBhdmVyYWdlU3VtbWVkXzEgPSByZXF1aXJlKFwiLi4vZHJhdy9hdmVyYWdlU3VtbWVkXCIpO1xyXG5jb25zdCBjYW52YXNfMSA9IHJlcXVpcmUoXCIuLi9kcmF3L2NhbnZhc1wiKTtcclxuY29uc3QgY3JlYXRlUmVuZGVyZXJfMSA9IHJlcXVpcmUoXCIuLi9kcmF3L2NyZWF0ZVJlbmRlcmVyXCIpO1xyXG5jb25zdCBjcmVhdGVTdW1tZWRUZXh0dXJlXzEgPSByZXF1aXJlKFwiLi4vZHJhdy9jcmVhdGVTdW1tZWRUZXh0dXJlXCIpO1xyXG5jb25zdCBnZXRJbWFnZURhdGFfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9nZXRJbWFnZURhdGFcIik7XHJcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL21hdGhzL2NvbW1vblwiKTtcclxuY29uc3QgZ2FtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lJyk7XHJcbmNvbnN0IGltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlJyk7XHJcbmNvbnN0IG1ldGhvZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXRob2QnKTtcclxuY29uc3QgaW1hZ2VJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaG9vc2VpbWFnZScpO1xyXG5jb25zdCBzY2FsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjYWxlJyk7XHJcbmNvbnN0IHhvZmZzZXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4b2Zmc2V0Jyk7XHJcbmNvbnN0IHlvZmZzZXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd5b2Zmc2V0Jyk7XHJcbmNvbnN0IHNjYWxlVmFsdWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2FsZXZhbHVlJyk7XHJcbmNvbnN0IHhvZmZzZXRWYWx1ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hvZmZzZXR2YWx1ZScpO1xyXG5jb25zdCB5b2Zmc2V0VmFsdWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd5b2Zmc2V0dmFsdWUnKTtcclxuY29uc3QgdGltZXRha2VuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWV0YWtlbicpO1xyXG5jb25zdCBnID0gZ2FtZS5nZXRDb250ZXh0KCcyZCcpO1xyXG5sZXQgc2NhbGUgPSAwLjMzO1xyXG5sZXQgeG9mZnNldCA9IDA7XHJcbmxldCB5b2Zmc2V0ID0gMDtcclxuY29uc3QgZHJhd0ltYWdlID0gKHN1bW1lZFRleHR1cmUsIGltYWdlRGF0YSkgPT4ge1xyXG4gICAgLy9ub3cgcmVuZGVyIGEgc2NhbGVkIGRvd24gc2l6ZSBvZiB0aGUgdGV4dHVyZSBvbiB0aGUgY2FudmFzIChwZXItcGl4ZWwpIHVzaW5nIHRoZSBzYW1wbGUgc3VtbWluZyBhcHByb2FjaFxyXG4gICAgZy5jbGVhclJlY3QoMCwgMCwgZ2FtZS53aWR0aCwgZ2FtZS5oZWlnaHQpO1xyXG4gICAgY29uc3QgY2FudmFzSW1hZ2UgPSBnLmdldEltYWdlRGF0YSgwLCAwLCBnYW1lLndpZHRoLCBnYW1lLmhlaWdodCk7XHJcbiAgICBsZXQgcGl4ZWxGdW5jO1xyXG4gICAgc3dpdGNoIChtZXRob2QudmFsdWUpIHtcclxuICAgICAgICBjYXNlICdzdW1tZWQnOlxyXG4gICAgICAgICAgICBwaXhlbEZ1bmMgPSAoeCwgeSwgeDIsIHkyKSA9PiBhdmVyYWdlU3VtbWVkXzEuYXZlcmFnZVN1bW1lZChzdW1tZWRUZXh0dXJlLCBpbWFnZURhdGEsIHgsIHksIHgyLCB5Mik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ25haXZlJzpcclxuICAgICAgICAgICAgcGl4ZWxGdW5jID0gKHgsIHksIHgyLCB5MikgPT4gYXZlcmFnZU5haXZlXzEuYXZlcmFnZU5haXZlKGltYWdlRGF0YSwgeCwgeSwgeDIsIHkyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnbm9uZSc6XHJcbiAgICAgICAgICAgIHBpeGVsRnVuYyA9ICh4LCB5KSA9PiBjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHgsIHkpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbWV0aG9kJyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgY29uc3QgbWF4WSA9IGdhbWUuaGVpZ2h0IC0gMTtcclxuICAgIGNvbnN0IG1heFggPSBnYW1lLndpZHRoIC0gMTtcclxuICAgIGZvciAobGV0IHkgPSBNYXRoLm1heCgwLCB5b2Zmc2V0KTsgeSA8IE1hdGgubWluKGdhbWUuaGVpZ2h0ICogc2NhbGUgKyB5b2Zmc2V0LCBnYW1lLmhlaWdodCk7IHkrKykge1xyXG4gICAgICAgIGZvciAobGV0IHggPSBNYXRoLm1heCgwLCB4b2Zmc2V0KTsgeCA8IE1hdGgubWluKGdhbWUud2lkdGggKiBzY2FsZSArIHhvZmZzZXQsIGdhbWUud2lkdGgpOyB4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgcGxvdFggPSBjb21tb25fMS5jbGFtcCgoeCAtIHhvZmZzZXQpIC8gc2NhbGUsIDAsIG1heFgpO1xyXG4gICAgICAgICAgICBjb25zdCBwbG90WSA9IGNvbW1vbl8xLmNsYW1wKCh5IC0geW9mZnNldCkgLyBzY2FsZSwgMCwgbWF4WSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsb3RYMiA9IGNvbW1vbl8xLmNsYW1wKCh4ICsgMSAtIHhvZmZzZXQpIC8gc2NhbGUsIDAsIG1heFgpO1xyXG4gICAgICAgICAgICBjb25zdCBwbG90WTIgPSBjb21tb25fMS5jbGFtcCgoeSArIDEgLSB5b2Zmc2V0KSAvIHNjYWxlLCAwLCBtYXhZKTtcclxuICAgICAgICAgICAgY2FudmFzXzEuc2V0UGl4ZWwoY2FudmFzSW1hZ2UsIHgsIHksIHBpeGVsRnVuYyhwbG90WCwgcGxvdFksIHBsb3RYMiwgcGxvdFkyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZy5wdXRJbWFnZURhdGEoY2FudmFzSW1hZ2UsIDAsIDApO1xyXG4gICAgdGltZXRha2VuLmlubmVyVGV4dCA9IGAke0RhdGUubm93KCkgLSBzdGFydFRpbWV9IG1zYDtcclxufTtcclxuY29uc3Qgc3RhcnQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBpbWFnZURhdGEgPSBnZXRJbWFnZURhdGFfMS5nZXRJbWFnZURhdGEoaW1hZ2UpO1xyXG4gICAgY29uc3Qgc3VtbWVkVGV4dHVyZSA9IGNyZWF0ZVN1bW1lZFRleHR1cmVfMS5jcmVhdGVTdW1tZWRUZXh0dXJlKGltYWdlRGF0YSk7XHJcbiAgICBjb25zdCBkcmF3ID0gY3JlYXRlUmVuZGVyZXJfMS5jcmVhdGVSZW5kZXJlcigoKSA9PiB7XHJcbiAgICAgICAgc2NhbGVJbnB1dC52YWx1ZSA9IHNjYWxlVmFsdWVJbnB1dC52YWx1ZSA9IHNjYWxlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgeG9mZnNldElucHV0LnZhbHVlID0geG9mZnNldFZhbHVlSW5wdXQudmFsdWUgPSB4b2Zmc2V0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgeW9mZnNldElucHV0LnZhbHVlID0geW9mZnNldFZhbHVlSW5wdXQudmFsdWUgPSB5b2Zmc2V0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgZHJhd0ltYWdlKHN1bW1lZFRleHR1cmUsIGltYWdlRGF0YSk7XHJcbiAgICB9KTtcclxuICAgIHNjYWxlSW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoc2NhbGVJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIHhvZmZzZXRJbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIHhvZmZzZXQgPSBwYXJzZUZsb2F0KHhvZmZzZXRJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIHlvZmZzZXRJbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIHlvZmZzZXQgPSBwYXJzZUZsb2F0KHlvZmZzZXRJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIHNjYWxlVmFsdWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoc2NhbGVWYWx1ZUlucHV0LnZhbHVlKTtcclxuICAgICAgICBkcmF3KCk7XHJcbiAgICB9O1xyXG4gICAgeG9mZnNldFZhbHVlSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgeG9mZnNldCA9IHBhcnNlRmxvYXQoeG9mZnNldFZhbHVlSW5wdXQudmFsdWUpO1xyXG4gICAgICAgIGRyYXcoKTtcclxuICAgIH07XHJcbiAgICB5b2Zmc2V0VmFsdWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICB5b2Zmc2V0ID0gcGFyc2VGbG9hdCh5b2Zmc2V0VmFsdWVJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIG1ldGhvZC5vbmlucHV0ID0gZHJhdztcclxuICAgIGRyYXcoKTtcclxufTtcclxuY29uc3QgbG9hZEltYWdlID0gKCkgPT4ge1xyXG4gICAgaW1hZ2Uuc3JjID0gaW1hZ2VJbnB1dC52YWx1ZTtcclxuICAgIGlmIChpbWFnZS5jb21wbGV0ZSkge1xyXG4gICAgICAgIHN0YXJ0KCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBzdGFydDtcclxuICAgIH1cclxufTtcclxuaW1hZ2VJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGxvYWRJbWFnZSgpO1xyXG59O1xyXG5sb2FkSW1hZ2UoKTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5hdmVyYWdlTmFpdmUgPSB2b2lkIDA7XHJcbmNvbnN0IGFkZDRNdXRhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9hZGQ0TXV0YXRlXCIpO1xyXG5jb25zdCBmbG9vcjRNdXRhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9mbG9vcjRNdXRhdGVcIik7XHJcbmNvbnN0IHNjYWxlNE11dGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL3NjYWxlNE11dGF0ZVwiKTtcclxuY29uc3QgY2FudmFzXzEgPSByZXF1aXJlKFwiLi9jYW52YXNcIik7XHJcbmNvbnN0IGF2ZXJhZ2VOYWl2ZSA9IChpbWFnZURhdGEsIHgsIHksIHgyLCB5MikgPT4ge1xyXG4gICAgY29uc3Qgc3RhcnRDZWxsWCA9IE1hdGguZmxvb3IoeCk7XHJcbiAgICBjb25zdCBzdGFydENlbGxZID0gTWF0aC5mbG9vcih5KTtcclxuICAgIGNvbnN0IGVuZENlbGxYID0gTWF0aC5mbG9vcih4Mik7XHJcbiAgICBjb25zdCBlbmRDZWxsWSA9IE1hdGguZmxvb3IoeTIpO1xyXG4gICAgLy9yYW5nZSBjb250YWluZWQgaW4gb25lIHBpeGVsXHJcbiAgICBpZiAoc3RhcnRDZWxsWCA9PSBlbmRDZWxsWCAmJiBzdGFydENlbGxZID09IGVuZENlbGxZKSB7XHJcbiAgICAgICAgcmV0dXJuIGZsb29yNE11dGF0ZV8xLmZsb29yNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIHN0YXJ0Q2VsbFkpKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHdpZHRoID0geDIgLSB4O1xyXG4gICAgY29uc3QgaGVpZ2h0ID0geTIgLSB5O1xyXG4gICAgY29uc3QgcGl4ZWxBcmVhID0gd2lkdGggKiBoZWlnaHQ7XHJcbiAgICBjb25zdCBjb2xvdXJOb3JtYWxpc2VyID0gMSAvIHBpeGVsQXJlYTtcclxuICAgIGNvbnN0IGlubmVyQ2VsbFggPSBNYXRoLmNlaWwoeCk7XHJcbiAgICBjb25zdCBpbm5lckNlbGxZID0gTWF0aC5jZWlsKHkpO1xyXG4gICAgY29uc3QgaW5uZXJDZWxsWDIgPSBNYXRoLmZsb29yKHgyKTtcclxuICAgIGNvbnN0IGlubmVyQ2VsbFkyID0gTWF0aC5mbG9vcih5Mik7XHJcbiAgICBjb25zdCBsZWZ0RGlmZiA9IGlubmVyQ2VsbFggLSB4O1xyXG4gICAgY29uc3QgdG9wRGlmZiA9IGlubmVyQ2VsbFkgLSB5O1xyXG4gICAgY29uc3QgcmlnaHREaWZmID0geDIgLSBpbm5lckNlbGxYMjtcclxuICAgIGNvbnN0IGJvdHRvbURpZmYgPSB5MiAtIGlubmVyQ2VsbFkyO1xyXG4gICAgY29uc3QgY29sb3VyID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgLy9wZXJoYXBzIHdlIHNob3VsZCBiZSBibGVuZGluZyBhbm90aGVyIHdheSAoYWxwaGEpIGluc3RlYWQgb2YgYWRkaW5nP1xyXG4gICAgLy9zaW5nbGUgaG9yaXpvbnRhbCBzdHJpcFxyXG4gICAgaWYgKHN0YXJ0Q2VsbFggPT0gZW5kQ2VsbFgpIHtcclxuICAgICAgICBpZiAodG9wRGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIHN0YXJ0Q2VsbFkpLCB3aWR0aCAqIHRvcERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvdHRvbURpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBlbmRDZWxsWCwgZW5kQ2VsbFkpLCB3aWR0aCAqIGJvdHRvbURpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbWlkQ29sb3VyID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgICAgIGZvciAobGV0IGogPSBpbm5lckNlbGxZOyBqIDwgaW5uZXJDZWxsWTI7IGorKykge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShtaWRDb2xvdXIsIGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgaikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShtaWRDb2xvdXIsIHdpZHRoKSk7XHJcbiAgICAgICAgcmV0dXJuIGZsb29yNE11dGF0ZV8xLmZsb29yNE11dGF0ZShzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY29sb3VyLCBjb2xvdXJOb3JtYWxpc2VyKSk7XHJcbiAgICB9XHJcbiAgICAvL3NpbmdsZSB2ZXJ0aWNhbCBzdHJpcFxyXG4gICAgaWYgKHN0YXJ0Q2VsbFkgPT0gZW5kQ2VsbFkpIHtcclxuICAgICAgICBpZiAobGVmdERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBzdGFydENlbGxZKSwgaGVpZ2h0ICogbGVmdERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJpZ2h0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGVuZENlbGxYLCBlbmRDZWxsWSksIGhlaWdodCAqIHJpZ2h0RGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtaWRDb2xvdXIgPSBbMCwgMCwgMCwgMF07XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGlubmVyQ2VsbFg7IGkgPCBpbm5lckNlbGxYMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKG1pZENvbG91ciwgY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBpLCBzdGFydENlbGxZKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKG1pZENvbG91ciwgaGVpZ2h0KSk7XHJcbiAgICAgICAgcmV0dXJuIGZsb29yNE11dGF0ZV8xLmZsb29yNE11dGF0ZShzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY29sb3VyLCBjb2xvdXJOb3JtYWxpc2VyKSk7XHJcbiAgICB9XHJcbiAgICAvL2Nvcm5lciBjZWxsc1xyXG4gICAgaWYgKHRvcERpZmYpIHtcclxuICAgICAgICBpZiAobGVmdERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBzdGFydENlbGxZKSwgbGVmdERpZmYgKiB0b3BEaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyaWdodERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBlbmRDZWxsWCwgc3RhcnRDZWxsWSksIHJpZ2h0RGlmZiAqIHRvcERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYm90dG9tRGlmZikge1xyXG4gICAgICAgIGlmIChsZWZ0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIGVuZENlbGxZKSwgbGVmdERpZmYgKiBib3R0b21EaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyaWdodERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBlbmRDZWxsWCwgZW5kQ2VsbFkpLCByaWdodERpZmYgKiBib3R0b21EaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9mcmFjdGlvbmFsIHN0cmlwc1xyXG4gICAgaWYgKHRvcERpZmYpIHtcclxuICAgICAgICBjb25zdCB0b3BDb2xvdXIgPSBbMCwgMCwgMCwgMF07XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGlubmVyQ2VsbFg7IGkgPCBpbm5lckNlbGxYMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKHRvcENvbG91ciwgY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBpLCBzdGFydENlbGxZKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKHRvcENvbG91ciwgdG9wRGlmZikpO1xyXG4gICAgfVxyXG4gICAgaWYgKGxlZnREaWZmKSB7XHJcbiAgICAgICAgY29uc3QgbGVmdENvbG91ciA9IFswLCAwLCAwLCAwXTtcclxuICAgICAgICBmb3IgKGxldCBqID0gaW5uZXJDZWxsWTsgaiA8IGlubmVyQ2VsbFkyOyBqKyspIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUobGVmdENvbG91ciwgY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBqKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGxlZnRDb2xvdXIsIGxlZnREaWZmKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYm90dG9tRGlmZikge1xyXG4gICAgICAgIGNvbnN0IGJvdHRvbUNvbG91ciA9IFswLCAwLCAwLCAwXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gaW5uZXJDZWxsWDsgaSA8IGlubmVyQ2VsbFgyOyBpKyspIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoYm90dG9tQ29sb3VyLCBjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGksIGVuZENlbGxZKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGJvdHRvbUNvbG91ciwgYm90dG9tRGlmZikpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJpZ2h0RGlmZikge1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0Q29sb3VyID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgICAgIGZvciAobGV0IGogPSBpbm5lckNlbGxZOyBqIDwgaW5uZXJDZWxsWTI7IGorKykge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShyaWdodENvbG91ciwgY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBlbmRDZWxsWCwgaikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShyaWdodENvbG91ciwgcmlnaHREaWZmKSk7XHJcbiAgICB9XHJcbiAgICAvL2lubmVyIHBhcnRzXHJcbiAgICBmb3IgKGxldCBpID0gaW5uZXJDZWxsWDsgaSA8IGlubmVyQ2VsbFgyOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gaW5uZXJDZWxsWTsgaiA8IGlubmVyQ2VsbFkyOyBqKyspIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGksIGopKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL25vdyB3ZSBoYXZlIGFuIGFjY3VtdWxhdGl2ZSBwaXhlbCB2YWx1ZSB0aGF0IGNvdmVycyB0aGUgd2hvbGUgYXJlYSBzbyBqdXN0IGF2ZXJhZ2UgaXRcclxuICAgIHJldHVybiBmbG9vcjRNdXRhdGVfMS5mbG9vcjRNdXRhdGUoc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNvbG91ciwgY29sb3VyTm9ybWFsaXNlcikpO1xyXG59O1xyXG5leHBvcnRzLmF2ZXJhZ2VOYWl2ZSA9IGF2ZXJhZ2VOYWl2ZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5hdmVyYWdlU3VtbWVkID0gdm9pZCAwO1xyXG5jb25zdCBhZGQ0TXV0YXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvYWRkNE11dGF0ZVwiKTtcclxuY29uc3QgZmxvb3I0TXV0YXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZmxvb3I0TXV0YXRlXCIpO1xyXG5jb25zdCBzY2FsZTRNdXRhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9zY2FsZTRNdXRhdGVcIik7XHJcbmNvbnN0IHN1YnRyYWN0NE11dGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL3N1YnRyYWN0NE11dGF0ZVwiKTtcclxuY29uc3QgY2FudmFzXzEgPSByZXF1aXJlKFwiLi9jYW52YXNcIik7XHJcbmNvbnN0IGdldFN1bW1lZFRleHR1cmVWYWwgPSAoc3VtbWVkVGV4dHVyZSwgeCwgeSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSB4ID49IDAgJiYgeSA+PSAwID8gc3VtbWVkVGV4dHVyZVt5XVt4XSA6IFswLCAwLCAwLCAwXTtcclxuICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ05vIHN1bW1lZCB0ZXh0dXJlIHZhbHVlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcih4LCB5KTtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGdldFN1bW1lZEFyZWEgPSAoc3VtbWVkVGV4dHVyZSwgeCwgeSwgeDIsIHkyKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBbMCwgMCwgMCwgMF07XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKHJlc3VsdCwgZ2V0U3VtbWVkVGV4dHVyZVZhbChzdW1tZWRUZXh0dXJlLCB4MiwgeTIpKTtcclxuICAgICAgICBzdWJ0cmFjdDRNdXRhdGVfMS5zdWJ0cmFjdDRNdXRhdGUocmVzdWx0LCBnZXRTdW1tZWRUZXh0dXJlVmFsKHN1bW1lZFRleHR1cmUsIHgsIHkyKSk7XHJcbiAgICAgICAgc3VidHJhY3Q0TXV0YXRlXzEuc3VidHJhY3Q0TXV0YXRlKHJlc3VsdCwgZ2V0U3VtbWVkVGV4dHVyZVZhbChzdW1tZWRUZXh0dXJlLCB4MiwgeSkpO1xyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKHJlc3VsdCwgZ2V0U3VtbWVkVGV4dHVyZVZhbChzdW1tZWRUZXh0dXJlLCB4LCB5KSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihbXHJcbiAgICAgICAgICAgIHJlc3VsdCxcclxuICAgICAgICAgICAgZ2V0U3VtbWVkVGV4dHVyZVZhbChzdW1tZWRUZXh0dXJlLCB4MiwgeTIpLFxyXG4gICAgICAgICAgICBnZXRTdW1tZWRUZXh0dXJlVmFsKHN1bW1lZFRleHR1cmUsIHgsIHkyKSxcclxuICAgICAgICAgICAgZ2V0U3VtbWVkVGV4dHVyZVZhbChzdW1tZWRUZXh0dXJlLCB4MiwgeSksXHJcbiAgICAgICAgICAgIGdldFN1bW1lZFRleHR1cmVWYWwoc3VtbWVkVGV4dHVyZSwgeCwgeSlcclxuICAgICAgICBdKTtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG4vL3Jlc3VsdHMgaW4gdXAgdG8gMjQgdGV4dHVyZSBsb29rdXBzIGJhc2VkIG9uIGNvbXBsZXhpdHkgb2YgcmFuZ2UsIHdoYXRldmVyIHNpemUgdGhlIGltYWdlIGlzXHJcbmNvbnN0IGF2ZXJhZ2VTdW1tZWQgPSAoc3VtbWVkVGV4dHVyZSwgaW1hZ2VEYXRhLCB4LCB5LCB4MiwgeTIpID0+IHtcclxuICAgIGNvbnN0IHN0YXJ0Q2VsbFggPSBNYXRoLmZsb29yKHgpO1xyXG4gICAgY29uc3Qgc3RhcnRDZWxsWSA9IE1hdGguZmxvb3IoeSk7XHJcbiAgICBjb25zdCBlbmRDZWxsWCA9IE1hdGguZmxvb3IoeDIpO1xyXG4gICAgY29uc3QgZW5kQ2VsbFkgPSBNYXRoLmZsb29yKHkyKTtcclxuICAgIC8vcmFuZ2UgY29udGFpbmVkIGluIG9uZSBwaXhlbFxyXG4gICAgaWYgKHN0YXJ0Q2VsbFggPT0gZW5kQ2VsbFggJiYgc3RhcnRDZWxsWSA9PSBlbmRDZWxsWSkge1xyXG4gICAgICAgIHJldHVybiBmbG9vcjRNdXRhdGVfMS5mbG9vcjRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBzdGFydENlbGxZKSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB3aWR0aCA9IHgyIC0geDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHkyIC0geTtcclxuICAgIGNvbnN0IHBpeGVsQXJlYSA9IHdpZHRoICogaGVpZ2h0O1xyXG4gICAgY29uc3QgY29sb3VyTm9ybWFsaXNlciA9IDEgLyBwaXhlbEFyZWE7XHJcbiAgICBjb25zdCBpbm5lckNlbGxYID0gTWF0aC5jZWlsKHgpO1xyXG4gICAgY29uc3QgaW5uZXJDZWxsWSA9IE1hdGguY2VpbCh5KTtcclxuICAgIGNvbnN0IGlubmVyQ2VsbFgyID0gTWF0aC5mbG9vcih4Mik7XHJcbiAgICBjb25zdCBpbm5lckNlbGxZMiA9IE1hdGguZmxvb3IoeTIpO1xyXG4gICAgY29uc3QgbGVmdERpZmYgPSBpbm5lckNlbGxYIC0geDtcclxuICAgIGNvbnN0IHRvcERpZmYgPSBpbm5lckNlbGxZIC0geTtcclxuICAgIGNvbnN0IHJpZ2h0RGlmZiA9IHgyIC0gaW5uZXJDZWxsWDI7XHJcbiAgICBjb25zdCBib3R0b21EaWZmID0geTIgLSBpbm5lckNlbGxZMjtcclxuICAgIGNvbnN0IGNvbG91ciA9IFswLCAwLCAwLCAwXTtcclxuICAgIC8vc2luZ2xlIGhvcml6b250YWwgc3RyaXBcclxuICAgIGlmIChzdGFydENlbGxYID09IGVuZENlbGxYKSB7XHJcbiAgICAgICAgaWYgKHRvcERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBzdGFydENlbGxZKSwgd2lkdGggKiB0b3BEaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChib3R0b21EaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgZW5kQ2VsbFgsIGVuZENlbGxZKSwgd2lkdGggKiBib3R0b21EaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGdldFN1bW1lZEFyZWEoc3VtbWVkVGV4dHVyZSwgc3RhcnRDZWxsWCAtIDEsIGlubmVyQ2VsbFkgLSAxLCBzdGFydENlbGxYLCBpbm5lckNlbGxZMiAtIDEpLCB3aWR0aCkpO1xyXG4gICAgICAgIHJldHVybiBmbG9vcjRNdXRhdGVfMS5mbG9vcjRNdXRhdGUoc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNvbG91ciwgY29sb3VyTm9ybWFsaXNlcikpO1xyXG4gICAgfVxyXG4gICAgLy9zaW5nbGUgdmVydGljYWwgc3RyaXBcclxuICAgIGlmIChzdGFydENlbGxZID09IGVuZENlbGxZKSB7XHJcbiAgICAgICAgaWYgKGxlZnREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgc3RhcnRDZWxsWSksIGhlaWdodCAqIGxlZnREaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyaWdodERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBlbmRDZWxsWCwgZW5kQ2VsbFkpLCBoZWlnaHQgKiByaWdodERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoZ2V0U3VtbWVkQXJlYShzdW1tZWRUZXh0dXJlLCBpbm5lckNlbGxYIC0gMSwgc3RhcnRDZWxsWSAtIDEsIGlubmVyQ2VsbFgyIC0gMSwgc3RhcnRDZWxsWSksIGhlaWdodCkpO1xyXG4gICAgICAgIHJldHVybiBmbG9vcjRNdXRhdGVfMS5mbG9vcjRNdXRhdGUoc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNvbG91ciwgY29sb3VyTm9ybWFsaXNlcikpO1xyXG4gICAgfVxyXG4gICAgLy9jb3JuZXIgY2VsbHNcclxuICAgIGlmICh0b3BEaWZmKSB7XHJcbiAgICAgICAgaWYgKGxlZnREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgc3RhcnRDZWxsWSksIGxlZnREaWZmICogdG9wRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmlnaHREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgZW5kQ2VsbFgsIHN0YXJ0Q2VsbFkpLCByaWdodERpZmYgKiB0b3BEaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGJvdHRvbURpZmYpIHtcclxuICAgICAgICBpZiAobGVmdERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBlbmRDZWxsWSksIGxlZnREaWZmICogYm90dG9tRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmlnaHREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgZW5kQ2VsbFgsIGVuZENlbGxZKSwgcmlnaHREaWZmICogYm90dG9tRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vZnJhY3Rpb25hbCBzdHJpcHNcclxuICAgIGlmICh0b3BEaWZmKSB7XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoZ2V0U3VtbWVkQXJlYShzdW1tZWRUZXh0dXJlLCBpbm5lckNlbGxYIC0gMSwgc3RhcnRDZWxsWSAtIDEsIGlubmVyQ2VsbFgyIC0gMSwgc3RhcnRDZWxsWSksIHRvcERpZmYpKTtcclxuICAgIH1cclxuICAgIGlmIChsZWZ0RGlmZikge1xyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGdldFN1bW1lZEFyZWEoc3VtbWVkVGV4dHVyZSwgc3RhcnRDZWxsWCAtIDEsIGlubmVyQ2VsbFkgLSAxLCBzdGFydENlbGxYLCBpbm5lckNlbGxZMiAtIDEpLCBsZWZ0RGlmZikpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJvdHRvbURpZmYpIHtcclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShnZXRTdW1tZWRBcmVhKHN1bW1lZFRleHR1cmUsIGlubmVyQ2VsbFggLSAxLCBlbmRDZWxsWSAtIDEsIGlubmVyQ2VsbFgyIC0gMSwgZW5kQ2VsbFkpLCBib3R0b21EaWZmKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocmlnaHREaWZmKSB7XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoZ2V0U3VtbWVkQXJlYShzdW1tZWRUZXh0dXJlLCBlbmRDZWxsWCAtIDEsIGlubmVyQ2VsbFkgLSAxLCBlbmRDZWxsWCwgaW5uZXJDZWxsWTIgLSAxKSwgcmlnaHREaWZmKSk7XHJcbiAgICB9XHJcbiAgICAvL2lubmVyIHBhcnRzXHJcbiAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIGdldFN1bW1lZEFyZWEoc3VtbWVkVGV4dHVyZSwgaW5uZXJDZWxsWCAtIDEsIGlubmVyQ2VsbFkgLSAxLCBpbm5lckNlbGxYMiAtIDEsIGlubmVyQ2VsbFkyIC0gMSkpO1xyXG4gICAgLy9ub3cgd2UgaGF2ZSBhbiBhY2N1bXVsYXRpdmUgcGl4ZWwgdmFsdWUgdGhhdCBjb3ZlcnMgdGhlIHdob2xlIGFyZWEgc28ganVzdCBhdmVyYWdlIGl0XHJcbiAgICByZXR1cm4gZmxvb3I0TXV0YXRlXzEuZmxvb3I0TXV0YXRlKHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjb2xvdXIsIGNvbG91ck5vcm1hbGlzZXIpKTtcclxufTtcclxuZXhwb3J0cy5hdmVyYWdlU3VtbWVkID0gYXZlcmFnZVN1bW1lZDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5zZXRQaXhlbCA9IGV4cG9ydHMuZ2V0UGl4ZWwgPSB2b2lkIDA7XHJcbmNvbnN0IGdldFBpeGVsID0gKGltYWdlRGF0YSwgeCwgeSkgPT4ge1xyXG4gICAgY29uc3Qgc2FtcGxlSW5kZXggPSAoaW1hZ2VEYXRhLndpZHRoICogTWF0aC5mbG9vcih5KSArIE1hdGguZmxvb3IoeCkpICogNDtcclxuICAgIHJldHVybiBpbWFnZURhdGEuZGF0YS5zbGljZShzYW1wbGVJbmRleCwgc2FtcGxlSW5kZXggKyA0KTtcclxufTtcclxuZXhwb3J0cy5nZXRQaXhlbCA9IGdldFBpeGVsO1xyXG5jb25zdCBzZXRQaXhlbCA9IChpbWFnZURhdGEsIHgsIHksIHJnYmEpID0+IHtcclxuICAgIGltYWdlRGF0YS5kYXRhLnNldChyZ2JhLCAoTWF0aC5mbG9vcih5KSAqIGltYWdlRGF0YS53aWR0aCArIE1hdGguZmxvb3IoeCkpICogNCk7XHJcbn07XHJcbmV4cG9ydHMuc2V0UGl4ZWwgPSBzZXRQaXhlbDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5jcmVhdGVSZW5kZXJlciA9IHZvaWQgMDtcclxuY29uc3QgY3JlYXRlUmVuZGVyZXIgPSAocmVuZGVyRnVuYywgYWZ0ZXJSZW5kZXJGdW5jKSA9PiB7XHJcbiAgICBsZXQgZHJhd2luZyA9IGZhbHNlO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBpZiAoIWRyYXdpbmcpIHtcclxuICAgICAgICAgICAgZHJhd2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJGdW5jKCk7XHJcbiAgICAgICAgICAgICAgICBkcmF3aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBhZnRlclJlbmRlckZ1bmMgPT09IG51bGwgfHwgYWZ0ZXJSZW5kZXJGdW5jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZnRlclJlbmRlckZ1bmMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcclxuZXhwb3J0cy5jcmVhdGVSZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmNyZWF0ZVN1bW1lZFRleHR1cmUgPSB2b2lkIDA7XHJcbmNvbnN0IGFkZDRNdXRhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9hZGQ0TXV0YXRlXCIpO1xyXG5jb25zdCBzdWJ0cmFjdDRNdXRhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9zdWJ0cmFjdDRNdXRhdGVcIik7XHJcbmNvbnN0IGNyZWF0ZVN1bW1lZFRleHR1cmUgPSAoaW1hZ2VEYXRhKSA9PiB7XHJcbiAgICBjb25zdCBzdW1tZWRUZXh0dXJlID0gbmV3IEFycmF5KGltYWdlRGF0YS5oZWlnaHQpO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIHkgPSAwOyB5IDwgaW1hZ2VEYXRhLmhlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgc3VtbWVkVGV4dHVyZVt5XSA9IG5ldyBBcnJheShpbWFnZURhdGEud2lkdGgpO1xyXG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgaW1hZ2VEYXRhLndpZHRoOyB4KyssIGkgKz0gNCkge1xyXG4gICAgICAgICAgICBjb25zdCBwaXggPSBuZXcgVWludDMyQXJyYXkoaW1hZ2VEYXRhLmRhdGEuc2xpY2UoaSwgaSArIDQpKTtcclxuICAgICAgICAgICAgaWYgKHggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShwaXgsIHN1bW1lZFRleHR1cmVbeV1beCAtIDFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoeSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKHBpeCwgc3VtbWVkVGV4dHVyZVt5IC0gMV1beF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh4ID4gMCAmJiB5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc3VidHJhY3Q0TXV0YXRlXzEuc3VidHJhY3Q0TXV0YXRlKHBpeCwgc3VtbWVkVGV4dHVyZVt5IC0gMV1beCAtIDFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdW1tZWRUZXh0dXJlW3ldW3hdID0gcGl4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzdW1tZWRUZXh0dXJlO1xyXG59O1xyXG5leHBvcnRzLmNyZWF0ZVN1bW1lZFRleHR1cmUgPSBjcmVhdGVTdW1tZWRUZXh0dXJlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmxlcnAgPSBleHBvcnRzLnRpbWVBdFBvcyA9IGV4cG9ydHMuY2xhbXAgPSBleHBvcnRzLmZyYWN0ID0gZXhwb3J0cy5uZWdGcmFjdCA9IGV4cG9ydHMuRVBTSUxPTiA9IHZvaWQgMDtcclxuZXhwb3J0cy5FUFNJTE9OID0gMC4wMDAwMDE7XHJcbmNvbnN0IG5lZ0ZyYWN0ID0gKHgpID0+IDEuMCAtIHggKyBNYXRoLmZsb29yKHgpO1xyXG5leHBvcnRzLm5lZ0ZyYWN0ID0gbmVnRnJhY3Q7XHJcbmNvbnN0IGZyYWN0ID0gKHgpID0+IHggLSBNYXRoLmZsb29yKHgpO1xyXG5leHBvcnRzLmZyYWN0ID0gZnJhY3Q7XHJcbmNvbnN0IGNsYW1wID0gKGEsIG1pbiwgbWF4KSA9PiBNYXRoLm1heChNYXRoLm1pbihhLCBtYXgpLCBtaW4pO1xyXG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XHJcbmNvbnN0IHRpbWVBdFBvcyA9IChzdGFydFBvcywgZGlyLCBuZXdQb3MpID0+IGRpciA/IGV4cG9ydHMuY2xhbXAoKG5ld1BvcyAtIHN0YXJ0UG9zKSAvIGRpciwgMCwgMSkgOiAwO1xyXG5leHBvcnRzLnRpbWVBdFBvcyA9IHRpbWVBdFBvcztcclxuY29uc3QgbGVycCA9IChhLCBiLCB0KSA9PiBhICogKDEgLSB0KSArIGIgKiB0O1xyXG5leHBvcnRzLmxlcnAgPSBsZXJwO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmFkZDRNdXRhdGUgPSB2b2lkIDA7XHJcbmNvbnN0IGFkZDRNdXRhdGUgPSAoYSwgYikgPT4ge1xyXG4gICAgYVswXSArPSBiWzBdO1xyXG4gICAgYVsxXSArPSBiWzFdO1xyXG4gICAgYVsyXSArPSBiWzJdO1xyXG4gICAgYVszXSArPSBiWzNdO1xyXG4gICAgcmV0dXJuIGE7XHJcbn07XHJcbmV4cG9ydHMuYWRkNE11dGF0ZSA9IGFkZDRNdXRhdGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZmxvb3I0TXV0YXRlID0gdm9pZCAwO1xyXG5jb25zdCBmbG9vcjRNdXRhdGUgPSAoYSkgPT4ge1xyXG4gICAgYVswXSA9IE1hdGguZmxvb3IoYVswXSk7XHJcbiAgICBhWzFdID0gTWF0aC5mbG9vcihhWzFdKTtcclxuICAgIGFbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xyXG4gICAgYVszXSA9IE1hdGguZmxvb3IoYVszXSk7XHJcbiAgICByZXR1cm4gYTtcclxufTtcclxuZXhwb3J0cy5mbG9vcjRNdXRhdGUgPSBmbG9vcjRNdXRhdGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZ2V0SW1hZ2VEYXRhID0gdm9pZCAwO1xyXG5jb25zdCBnZXRJbWFnZURhdGEgPSAoaW1hZ2UpID0+IHtcclxuICAgIGNvbnN0IGltYWdlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICBpbWFnZUNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xyXG4gICAgaW1hZ2VDYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG4gICAgY29uc3QgaW1hZ2VHcmFwaGljcyA9IGltYWdlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICBpZiAoIWltYWdlR3JhcGhpY3MpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBjcmVhdGUgY2FudmFzIHRvIGV4dHJhY3QgaW1hZ2UgZGF0YScpO1xyXG4gICAgfVxyXG4gICAgaW1hZ2VHcmFwaGljcy5jbGVhclJlY3QoMCwgMCwgaW1hZ2VDYW52YXMud2lkdGgsIGltYWdlQ2FudmFzLmhlaWdodCk7XHJcbiAgICBpbWFnZUdyYXBoaWNzLmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgICByZXR1cm4gaW1hZ2VHcmFwaGljcy5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2VDYW52YXMud2lkdGgsIGltYWdlQ2FudmFzLmhlaWdodCk7XHJcbn07XHJcbmV4cG9ydHMuZ2V0SW1hZ2VEYXRhID0gZ2V0SW1hZ2VEYXRhO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnNjYWxlNE11dGF0ZSA9IHZvaWQgMDtcclxuY29uc3Qgc2NhbGU0TXV0YXRlID0gKGEsIG1hZykgPT4ge1xyXG4gICAgYVswXSAqPSBtYWc7XHJcbiAgICBhWzFdICo9IG1hZztcclxuICAgIGFbMl0gKj0gbWFnO1xyXG4gICAgYVszXSAqPSBtYWc7XHJcbiAgICByZXR1cm4gYTtcclxufTtcclxuZXhwb3J0cy5zY2FsZTRNdXRhdGUgPSBzY2FsZTRNdXRhdGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuc3VidHJhY3Q0TXV0YXRlID0gdm9pZCAwO1xyXG5jb25zdCBzdWJ0cmFjdDRNdXRhdGUgPSAoYSwgYikgPT4ge1xyXG4gICAgYVswXSAtPSBiWzBdO1xyXG4gICAgYVsxXSAtPSBiWzFdO1xyXG4gICAgYVsyXSAtPSBiWzJdO1xyXG4gICAgYVszXSAtPSBiWzNdO1xyXG4gICAgcmV0dXJuIGE7XHJcbn07XHJcbmV4cG9ydHMuc3VidHJhY3Q0TXV0YXRlID0gc3VidHJhY3Q0TXV0YXRlO1xyXG4iXSwibmFtZXMiOlsiYXZlcmFnZU5haXZlXzEiLCJhdmVyYWdlU3VtbWVkXzEiLCJjYW52YXNfMSIsImNyZWF0ZVJlbmRlcmVyXzEiLCJjcmVhdGVTdW1tZWRUZXh0dXJlXzEiLCJnZXRJbWFnZURhdGFfMSIsImNvbW1vbl8xIiwiZ2FtZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbWFnZSIsIm1ldGhvZCIsImltYWdlSW5wdXQiLCJzY2FsZUlucHV0IiwieG9mZnNldElucHV0IiwieW9mZnNldElucHV0Iiwic2NhbGVWYWx1ZUlucHV0IiwieG9mZnNldFZhbHVlSW5wdXQiLCJ5b2Zmc2V0VmFsdWVJbnB1dCIsInRpbWV0YWtlbiIsImciLCJnZXRDb250ZXh0Iiwic2NhbGUiLCJ4b2Zmc2V0IiwieW9mZnNldCIsInN0YXJ0IiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwic3VtbWVkVGV4dHVyZSIsImNyZWF0ZVN1bW1lZFRleHR1cmUiLCJkcmF3IiwiY3JlYXRlUmVuZGVyZXIiLCJ2YWx1ZSIsInRvU3RyaW5nIiwiY2xlYXJSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJjYW52YXNJbWFnZSIsInBpeGVsRnVuYyIsIngiLCJ5IiwieDIiLCJ5MiIsImF2ZXJhZ2VTdW1tZWQiLCJhdmVyYWdlTmFpdmUiLCJnZXRQaXhlbCIsIkVycm9yIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsIm1heFkiLCJtYXhYIiwiTWF0aCIsIm1heCIsIm1pbiIsInBsb3RYIiwiY2xhbXAiLCJwbG90WSIsInBsb3RYMiIsInBsb3RZMiIsInNldFBpeGVsIiwicHV0SW1hZ2VEYXRhIiwiaW5uZXJUZXh0IiwiZHJhd0ltYWdlIiwib25pbnB1dCIsInBhcnNlRmxvYXQiLCJvbmNoYW5nZSIsImxvYWRJbWFnZSIsInNyYyIsImNvbXBsZXRlIiwib25sb2FkIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwiYWRkNE11dGF0ZV8xIiwiZmxvb3I0TXV0YXRlXzEiLCJzY2FsZTRNdXRhdGVfMSIsInN0YXJ0Q2VsbFgiLCJmbG9vciIsInN0YXJ0Q2VsbFkiLCJlbmRDZWxsWCIsImVuZENlbGxZIiwiZmxvb3I0TXV0YXRlIiwiY29sb3VyTm9ybWFsaXNlciIsImlubmVyQ2VsbFgiLCJjZWlsIiwiaW5uZXJDZWxsWSIsImlubmVyQ2VsbFgyIiwiaW5uZXJDZWxsWTIiLCJsZWZ0RGlmZiIsInRvcERpZmYiLCJyaWdodERpZmYiLCJib3R0b21EaWZmIiwiY29sb3VyIiwiYWRkNE11dGF0ZSIsInNjYWxlNE11dGF0ZSIsIm1pZENvbG91ciIsImoiLCJpIiwidG9wQ29sb3VyIiwibGVmdENvbG91ciIsImJvdHRvbUNvbG91ciIsInJpZ2h0Q29sb3VyIiwic3VidHJhY3Q0TXV0YXRlXzEiLCJnZXRTdW1tZWRUZXh0dXJlVmFsIiwicmVzdWx0IiwidW5kZWZpbmVkIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZ2V0U3VtbWVkQXJlYSIsInN1YnRyYWN0NE11dGF0ZSIsInNhbXBsZUluZGV4IiwiZGF0YSIsInNsaWNlIiwicmdiYSIsInNldCIsInJlbmRlckZ1bmMiLCJhZnRlclJlbmRlckZ1bmMiLCJkcmF3aW5nIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiQXJyYXkiLCJwaXgiLCJVaW50MzJBcnJheSIsImxlcnAiLCJ0aW1lQXRQb3MiLCJmcmFjdCIsIm5lZ0ZyYWN0IiwiRVBTSUxPTiIsImEiLCJzdGFydFBvcyIsImRpciIsIm5ld1BvcyIsImIiLCJ0IiwiaW1hZ2VDYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiaW1hZ2VHcmFwaGljcyIsIm1hZyJdLCJzb3VyY2VSb290IjoiIn0=