(()=>{"use strict";var e={86:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.averageNaive=void 0;const o=a(78),l=a(62),u=a(27),d=a(975);t.averageNaive=(e,t,a,r,c)=>{const M=Math.floor(t),n=Math.floor(a),i=Math.floor(r),s=Math.floor(c);if(M==i&&n==s)return l.floor4Mutate(d.getPixel(e,M,n));const g=r-t,h=c-a,f=1/(g*h),m=Math.ceil(t),v=Math.ceil(a),x=Math.floor(r),P=Math.floor(c),p=m-t,y=v-a,w=r-x,_=c-P,b=[0,0,0,0];if(M==i){y&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,n),g*y)),_&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,s),g*_));const t=[0,0,0,0];for(let a=v;a<P;a++)o.add4Mutate(t,d.getPixel(e,M,a));return o.add4Mutate(b,u.scale4Mutate(t,g)),l.floor4Mutate(u.scale4Mutate(b,f))}if(n==s){p&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,n),h*p)),w&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,s),h*w));const t=[0,0,0,0];for(let a=m;a<x;a++)o.add4Mutate(t,d.getPixel(e,a,n));return o.add4Mutate(b,u.scale4Mutate(t,h)),l.floor4Mutate(u.scale4Mutate(b,f))}if(y&&(p&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,n),p*y)),w&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,n),w*y))),_&&(p&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,s),p*_)),w&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,s),w*_))),y){const t=[0,0,0,0];for(let a=m;a<x;a++)o.add4Mutate(t,d.getPixel(e,a,n));o.add4Mutate(b,u.scale4Mutate(t,y))}if(p){const t=[0,0,0,0];for(let a=v;a<P;a++)o.add4Mutate(t,d.getPixel(e,M,a));o.add4Mutate(b,u.scale4Mutate(t,p))}if(_){const t=[0,0,0,0];for(let a=m;a<x;a++)o.add4Mutate(t,d.getPixel(e,a,s));o.add4Mutate(b,u.scale4Mutate(t,_))}if(w){const t=[0,0,0,0];for(let a=v;a<P;a++)o.add4Mutate(t,d.getPixel(e,i,a));o.add4Mutate(b,u.scale4Mutate(t,w))}for(let t=m;t<x;t++)for(let a=v;a<P;a++)o.add4Mutate(b,d.getPixel(e,t,a));return l.floor4Mutate(u.scale4Mutate(b,f))}},676:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.averageSummed=void 0;const o=a(78),l=a(62),u=a(27),d=a(196),r=a(975),c=(e,t,a)=>{try{const o=t>=0&&a>=0?e[a][t]:[0,0,0,0];if(void 0===o)throw Error("No summed texture value");return o}catch(e){throw console.error(t,a),e}},M=(e,t,a,l,u)=>{const r=[0,0,0,0];try{o.add4Mutate(r,c(e,l,u)),d.subtract4Mutate(r,c(e,t,u)),d.subtract4Mutate(r,c(e,l,a)),o.add4Mutate(r,c(e,t,a))}catch(o){throw console.error([r,c(e,l,u),c(e,t,u),c(e,l,a),c(e,t,a)]),o}return r};t.averageSummed=(e,t,a,d,c,n)=>{const i=Math.floor(a),s=Math.floor(d),g=Math.floor(c),h=Math.floor(n);if(i==g&&s==h)return l.floor4Mutate(r.getPixel(t,i,s));const f=c-a,m=n-d,v=1/(f*m),x=Math.ceil(a),P=Math.ceil(d),p=Math.floor(c),y=Math.floor(n),w=x-a,_=P-d,b=c-p,I=n-y,E=[0,0,0,0];return i==g?(_&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,s),f*_)),I&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,h),f*I)),o.add4Mutate(E,u.scale4Mutate(M(e,i-1,P-1,i,y-1),f)),l.floor4Mutate(u.scale4Mutate(E,v))):s==h?(w&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,s),m*w)),b&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,h),m*b)),o.add4Mutate(E,u.scale4Mutate(M(e,x-1,s-1,p-1,s),m)),l.floor4Mutate(u.scale4Mutate(E,v))):(_&&(w&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,s),w*_)),b&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,s),b*_))),I&&(w&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,h),w*I)),b&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,h),b*I))),_&&o.add4Mutate(E,u.scale4Mutate(M(e,x-1,s-1,p-1,s),_)),w&&o.add4Mutate(E,u.scale4Mutate(M(e,i-1,P-1,i,y-1),w)),I&&o.add4Mutate(E,u.scale4Mutate(M(e,x-1,h-1,p-1,h),I)),b&&o.add4Mutate(E,u.scale4Mutate(M(e,g-1,P-1,g,y-1),b)),o.add4Mutate(E,M(e,x-1,P-1,p-1,y-1)),l.floor4Mutate(u.scale4Mutate(E,v)))}},975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setPixel=t.getPixel=void 0,t.getPixel=(e,t,a)=>{const o=4*(e.width*Math.floor(a)+Math.floor(t));return e.data.slice(o,o+4)},t.setPixel=(e,t,a,o)=>{e.data.set(o,4*(Math.floor(a)*e.width+Math.floor(t)))}},787:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderer=void 0,t.createRenderer=(e,t)=>{let a=!1;return()=>{a||(a=!0,requestAnimationFrame((()=>{e(),a=!1,null==t||t()})))}}},374:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSummedTexture=void 0;const o=a(78),l=a(196);t.createSummedTexture=e=>{const t=new Array(e.height);for(let a=0,u=0;u<e.height;u++){t[u]=new Array(e.width);for(let d=0;d<e.width;d++,a+=4){const r=new Uint32Array(e.data.slice(a,a+4));d>0&&o.add4Mutate(r,t[u][d-1]),u>0&&o.add4Mutate(r,t[u-1][d]),d>0&&u>0&&l.subtract4Mutate(r,t[u-1][d-1]),t[u][d]=r}}return t}},78:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.add4Mutate=void 0,t.add4Mutate=(e,t)=>(e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],e)},586:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=void 0,t.clamp=(e,t,a)=>Math.max(Math.min(e,a),t)},62:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.floor4Mutate=void 0,t.floor4Mutate=e=>(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),e[3]=Math.floor(e[3]),e)},372:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getImageData=void 0,t.getImageData=e=>{const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const a=t.getContext("2d");if(!a)throw new Error("Could not create canvas to extract image data");return a.clearRect(0,0,t.width,t.height),a.drawImage(e,0,0),a.getImageData(0,0,t.width,t.height)}},27:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scale4Mutate=void 0,t.scale4Mutate=(e,t)=>(e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e)},196:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subtract4Mutate=void 0,t.subtract4Mutate=(e,t)=>(e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e[3]-=t[3],e)}},t={};function a(o){var l=t[o];if(void 0!==l)return l.exports;var u=t[o]={exports:{}};return e[o](u,u.exports,a),u.exports}(()=>{const e=a(86),t=a(676),o=a(975),l=a(787),u=a(374),d=a(586),r=a(372),c=document.getElementById("game"),M=document.getElementById("image"),n=document.getElementById("method"),i=document.getElementById("chooseimage"),s=document.getElementById("scale"),g=document.getElementById("xoffset"),h=document.getElementById("yoffset"),f=document.getElementById("scalevalue"),m=document.getElementById("xoffsetvalue"),v=document.getElementById("yoffsetvalue"),x=document.getElementById("timetaken"),P=c.getContext("2d");let p=.33,y=0,w=0;const _=()=>{const a=r.getImageData(M),i=u.createSummedTexture(a),_=l.createRenderer((()=>{s.value=f.value=p.toString(),g.value=m.value=y.toString(),h.value=v.value=w.toString(),((a,l)=>{P.clearRect(0,0,c.width,c.height);const u=P.getImageData(0,0,c.width,c.height);let r;switch(n.value){case"summed":r=(e,o,u,d)=>t.averageSummed(a,l,e,o,u,d);break;case"naive":r=(t,a,o,u)=>e.averageNaive(l,t,a,o,u);break;case"none":r=(e,t)=>o.getPixel(l,e,t);break;default:throw new Error("Unknown method")}const M=Date.now(),i=c.height-1,s=c.width-1;for(let e=Math.max(0,w);e<Math.min(c.height*p+w,c.height);e++)for(let t=Math.max(0,y);t<Math.min(c.width*p+y,c.width);t++){const a=d.clamp((t-y)/p,0,s),l=d.clamp((e-w)/p,0,i),c=d.clamp((t+1-y)/p,0,s),M=d.clamp((e+1-w)/p,0,i);o.setPixel(u,t,e,r(a,l,c,M))}P.putImageData(u,0,0),x.innerText=Date.now()-M+" ms"})(i,a)}));s.oninput=()=>{p=parseFloat(s.value),_()},g.oninput=()=>{y=parseFloat(g.value),_()},h.oninput=()=>{w=parseFloat(h.value),_()},f.onchange=()=>{p=parseFloat(f.value),_()},m.onchange=()=>{y=parseFloat(m.value),_()},v.onchange=()=>{w=parseFloat(v.value),_()},n.oninput=_,_()},b=()=>{M.src=i.value,M.complete?_():M.onload=_};i.onchange=()=>{b()},b()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kcmF3L2F2ZXJhZ2VOYWl2ZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kcmF3L2F2ZXJhZ2VTdW1tZWQudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZHJhdy9jYW52YXMudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZHJhdy9jcmVhdGVSZW5kZXJlci50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kcmF3L2NyZWF0ZVN1bW1lZFRleHR1cmUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvdXRpbHMvYWRkNE11dGF0ZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy91dGlscy9jbGFtcC50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy91dGlscy9mbG9vcjRNdXRhdGUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvdXRpbHMvZ2V0SW1hZ2VEYXRhLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3V0aWxzL3NjYWxlNE11dGF0ZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy91dGlscy9zdWJ0cmFjdDRNdXRhdGUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZGVtb3Mvc2FtcGxlU3VtbWluZ0NwdS50cyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImF2ZXJhZ2VOYWl2ZSIsImFkZDRNdXRhdGVfMSIsImZsb29yNE11dGF0ZV8xIiwic2NhbGU0TXV0YXRlXzEiLCJjYW52YXNfMSIsImltYWdlRGF0YSIsIngiLCJ5IiwieDIiLCJ5MiIsInN0YXJ0Q2VsbFgiLCJNYXRoIiwiZmxvb3IiLCJzdGFydENlbGxZIiwiZW5kQ2VsbFgiLCJlbmRDZWxsWSIsImZsb29yNE11dGF0ZSIsImdldFBpeGVsIiwid2lkdGgiLCJoZWlnaHQiLCJjb2xvdXJOb3JtYWxpc2VyIiwiaW5uZXJDZWxsWCIsImNlaWwiLCJpbm5lckNlbGxZIiwiaW5uZXJDZWxsWDIiLCJpbm5lckNlbGxZMiIsImxlZnREaWZmIiwidG9wRGlmZiIsInJpZ2h0RGlmZiIsImJvdHRvbURpZmYiLCJjb2xvdXIiLCJhZGQ0TXV0YXRlIiwic2NhbGU0TXV0YXRlIiwibWlkQ29sb3VyIiwiaiIsImkiLCJ0b3BDb2xvdXIiLCJsZWZ0Q29sb3VyIiwiYm90dG9tQ29sb3VyIiwicmlnaHRDb2xvdXIiLCJhdmVyYWdlU3VtbWVkIiwic3VidHJhY3Q0TXV0YXRlXzEiLCJnZXRTdW1tZWRUZXh0dXJlVmFsIiwic3VtbWVkVGV4dHVyZSIsInJlc3VsdCIsInVuZGVmaW5lZCIsIkVycm9yIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZ2V0U3VtbWVkQXJlYSIsInN1YnRyYWN0NE11dGF0ZSIsInNldFBpeGVsIiwic2FtcGxlSW5kZXgiLCJkYXRhIiwic2xpY2UiLCJyZ2JhIiwic2V0IiwiY3JlYXRlUmVuZGVyZXIiLCJyZW5kZXJGdW5jIiwiYWZ0ZXJSZW5kZXJGdW5jIiwiZHJhd2luZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNyZWF0ZVN1bW1lZFRleHR1cmUiLCJBcnJheSIsInBpeCIsIlVpbnQzMkFycmF5IiwiYSIsImIiLCJjbGFtcCIsInZhbCIsIm1pbiIsIm1heCIsImdldEltYWdlRGF0YSIsImltYWdlIiwiaW1hZ2VDYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbWFnZUdyYXBoaWNzIiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsIm1hZyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJhdmVyYWdlTmFpdmVfMSIsImF2ZXJhZ2VTdW1tZWRfMSIsImNyZWF0ZVJlbmRlcmVyXzEiLCJjcmVhdGVTdW1tZWRUZXh0dXJlXzEiLCJjbGFtcF8xIiwiZ2V0SW1hZ2VEYXRhXzEiLCJnYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJtZXRob2QiLCJpbWFnZUlucHV0Iiwic2NhbGVJbnB1dCIsInhvZmZzZXRJbnB1dCIsInlvZmZzZXRJbnB1dCIsInNjYWxlVmFsdWVJbnB1dCIsInhvZmZzZXRWYWx1ZUlucHV0IiwieW9mZnNldFZhbHVlSW5wdXQiLCJ0aW1ldGFrZW4iLCJnIiwic2NhbGUiLCJ4b2Zmc2V0IiwieW9mZnNldCIsInN0YXJ0IiwiZHJhdyIsInRvU3RyaW5nIiwiY2FudmFzSW1hZ2UiLCJwaXhlbEZ1bmMiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwibWF4WSIsIm1heFgiLCJwbG90WCIsInBsb3RZIiwicGxvdFgyIiwicGxvdFkyIiwicHV0SW1hZ2VEYXRhIiwiaW5uZXJUZXh0Iiwib25pbnB1dCIsInBhcnNlRmxvYXQiLCJvbmNoYW5nZSIsImxvYWRJbWFnZSIsInNyYyIsImNvbXBsZXRlIiwib25sb2FkIl0sIm1hcHBpbmdzIjoidUNBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RERCxFQUFRRSxrQkFBZSxFQUN2QixNQUFNQyxFQUFlLEVBQVEsSUFDdkJDLEVBQWlCLEVBQVEsSUFDekJDLEVBQWlCLEVBQVEsSUFDekJDLEVBQVcsRUFBUSxLQTZHekJOLEVBQVFFLGFBNUdhLENBQUNLLEVBQVdDLEVBQUdDLEVBQUdDLEVBQUlDLEtBQ3ZDLE1BQU1DLEVBQWFDLEtBQUtDLE1BQU1OLEdBQ3hCTyxFQUFhRixLQUFLQyxNQUFNTCxHQUN4Qk8sRUFBV0gsS0FBS0MsTUFBTUosR0FDdEJPLEVBQVdKLEtBQUtDLE1BQU1ILEdB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TUFFN0I4RixFQUFXMkIsUUFBVSxLQUNqQm5CLEVBQVFvQixXQUFXNUIsRUFBV3BHLE9BQzlCZ0gsS0FFSlgsRUFBYTBCLFFBQVUsS0FDbkJsQixFQUFVbUIsV0FBVzNCLEVBQWFyRyxPQUNsQ2dILEtBRUpWLEVBQWF5QixRQUFVLEtBQ25CakIsRUFBVWtCLFdBQVcxQixFQUFhdEcsT0FDbENnSCxLQUVKVCxFQUFnQjBCLFNBQVcsS0FDdkJyQixFQUFRb0IsV0FBV3pCLEVBQWdCdkcsT0FDbkNnSCxLQUVKUixFQUFrQnlCLFNBQVcsS0FDekJwQixFQUFVbUIsV0FBV3hCLEVBQWtCeEcsT0FDdkNnSCxLQUVKUCxFQUFrQndCLFNBQVcsS0FDekJuQixFQUFVa0IsV0FBV3ZCLEVBQWtCekcsT0FDdkNnSCxLQUVKZCxFQUFPNkIsUUFBVWYsRUFDakJBLEtBRUVrQixFQUFZLEtBQ2R2RCxFQUFNd0QsSUFBTWhDLEVBQVduRyxNQUNuQjJFLEVBQU15RCxTQUNOckIsSUFHQXBDLEVBQU0wRCxPQUFTdEIsR0FHdkJaLEVBQVc4QixTQUFXLEtBQ2xCQyxLQUVKQSxLIiwiZmlsZSI6InNhbXBsZV9zdW1taW5nX2NwdS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuYXZlcmFnZU5haXZlID0gdm9pZCAwO1xyXG5jb25zdCBhZGQ0TXV0YXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvYWRkNE11dGF0ZVwiKTtcclxuY29uc3QgZmxvb3I0TXV0YXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZmxvb3I0TXV0YXRlXCIpO1xyXG5jb25zdCBzY2FsZTRNdXRhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9zY2FsZTRNdXRhdGVcIik7XHJcbmNvbnN0IGNhbnZhc18xID0gcmVxdWlyZShcIi4vY2FudmFzXCIpO1xyXG5jb25zdCBhdmVyYWdlTmFpdmUgPSAoaW1hZ2VEYXRhLCB4LCB5LCB4MiwgeTIpID0+IHtcclxuICAgIGNvbnN0IHN0YXJ0Q2VsbFggPSBNYXRoLmZsb29yKHgpO1xyXG4gICAgY29uc3Qgc3RhcnRDZWxsWSA9IE1hdGguZmxvb3IoeSk7XHJcbiAgICBjb25zdCBlbmRDZWxsWCA9IE1hdGguZmxvb3IoeDIpO1xyXG4gICAgY29uc3QgZW5kQ2VsbFkgPSBNYXRoLmZsb29yKHkyKTtcclxuICAgIC8vcmFuZ2UgY29udGFpbmVkIGluIG9uZSBwaXhlbFxyXG4gICAgaWYgKHN0YXJ0Q2VsbFggPT0gZW5kQ2VsbFggJiYgc3RhcnRDZWxsWSA9PSBlbmRDZWxsWSkge1xyXG4gICAgICAgIHJldHVybiBmbG9vcjRNdXRhdGVfMS5mbG9vcjRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBzdGFydENlbGxZKSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB3aWR0aCA9IHgyIC0geDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHkyIC0geTtcclxuICAgIGNvbnN0IHBpeGVsQXJlYSA9IHdpZHRoICogaGVpZ2h0O1xyXG4gICAgY29uc3QgY29sb3VyTm9ybWFsaXNlciA9IDEgLyBwaXhlbEFyZWE7XHJcbiAgICBjb25zdCBpbm5lckNlbGxYID0gTWF0aC5jZWlsKHgpO1xyXG4gICAgY29uc3QgaW5uZXJDZWxsWSA9IE1hdGguY2VpbCh5KTtcclxuICAgIGNvbnN0IGlubmVyQ2VsbFgyID0gTWF0aC5mbG9vcih4Mik7XHJcbiAgICBjb25zdCBpbm5lckNlbGxZMiA9IE1hdGguZmxvb3IoeTIpO1xyXG4gICAgY29uc3QgbGVmdERpZmYgPSBpbm5lckNlbGxYIC0geDtcclxuICAgIGNvbnN0IHRvcERpZmYgPSBpbm5lckNlbGxZIC0geTtcclxuICAgIGNvbnN0IHJpZ2h0RGlmZiA9IHgyIC0gaW5uZXJDZWxsWDI7XHJcbiAgICBjb25zdCBib3R0b21EaWZmID0geTIgLSBpbm5lckNlbGxZMjtcclxuICAgIGNvbnN0IGNvbG91ciA9IFswLCAwLCAwLCAwXTtcclxuICAgIC8vcGVyaGFwcyB3ZSBzaG91bGQgYmUgYmxlbmRpbmcgYW5vdGhlciB3YXkgKGFscGhhKSBpbnN0ZWFkIG9mIGFkZGluZz9cclxuICAgIC8vc2luZ2xlIGhvcml6b250YWwgc3RyaXBcclxuICAgIGlmIChzdGFydENlbGxYID09IGVuZENlbGxYKSB7XHJcbiAgICAgICAgaWYgKHRvcERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBzdGFydENlbGxZKSwgd2lkdGggKiB0b3BEaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChib3R0b21EaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgZW5kQ2VsbFgsIGVuZENlbGxZKSwgd2lkdGggKiBib3R0b21EaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1pZENvbG91ciA9IFswLCAwLCAwLCAwXTtcclxuICAgICAgICBmb3IgKGxldCBqID0gaW5uZXJDZWxsWTsgaiA8IGlubmVyQ2VsbFkyOyBqKyspIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUobWlkQ29sb3VyLCBjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIGopKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUobWlkQ29sb3VyLCB3aWR0aCkpO1xyXG4gICAgICAgIHJldHVybiBmbG9vcjRNdXRhdGVfMS5mbG9vcjRNdXRhdGUoc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNvbG91ciwgY29sb3VyTm9ybWFsaXNlcikpO1xyXG4gICAgfVxyXG4gICAgLy9zaW5nbGUgdmVydGljYWwgc3RyaXBcclxuICAgIGlmIChzdGFydENlbGxZID09IGVuZENlbGxZKSB7XHJcbiAgICAgICAgaWYgKGxlZnREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgc3RhcnRDZWxsWSksIGhlaWdodCAqIGxlZnREaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyaWdodERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBlbmRDZWxsWCwgZW5kQ2VsbFkpLCBoZWlnaHQgKiByaWdodERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbWlkQ29sb3VyID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBpbm5lckNlbGxYOyBpIDwgaW5uZXJDZWxsWDI7IGkrKykge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShtaWRDb2xvdXIsIGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgaSwgc3RhcnRDZWxsWSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShtaWRDb2xvdXIsIGhlaWdodCkpO1xyXG4gICAgICAgIHJldHVybiBmbG9vcjRNdXRhdGVfMS5mbG9vcjRNdXRhdGUoc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNvbG91ciwgY29sb3VyTm9ybWFsaXNlcikpO1xyXG4gICAgfVxyXG4gICAgLy9jb3JuZXIgY2VsbHNcclxuICAgIGlmICh0b3BEaWZmKSB7XHJcbiAgICAgICAgaWYgKGxlZnREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgc3RhcnRDZWxsWSksIGxlZnREaWZmICogdG9wRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmlnaHREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgZW5kQ2VsbFgsIHN0YXJ0Q2VsbFkpLCByaWdodERpZmYgKiB0b3BEaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGJvdHRvbURpZmYpIHtcclxuICAgICAgICBpZiAobGVmdERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBlbmRDZWxsWSksIGxlZnREaWZmICogYm90dG9tRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmlnaHREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgZW5kQ2VsbFgsIGVuZENlbGxZKSwgcmlnaHREaWZmICogYm90dG9tRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vZnJhY3Rpb25hbCBzdHJpcHNcclxuICAgIGlmICh0b3BEaWZmKSB7XHJcbiAgICAgICAgY29uc3QgdG9wQ29sb3VyID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBpbm5lckNlbGxYOyBpIDwgaW5uZXJDZWxsWDI7IGkrKykge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZSh0b3BDb2xvdXIsIGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgaSwgc3RhcnRDZWxsWSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZSh0b3BDb2xvdXIsIHRvcERpZmYpKTtcclxuICAgIH1cclxuICAgIGlmIChsZWZ0RGlmZikge1xyXG4gICAgICAgIGNvbnN0IGxlZnRDb2xvdXIgPSBbMCwgMCwgMCwgMF07XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IGlubmVyQ2VsbFk7IGogPCBpbm5lckNlbGxZMjsgaisrKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGxlZnRDb2xvdXIsIGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgaikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShsZWZ0Q29sb3VyLCBsZWZ0RGlmZikpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJvdHRvbURpZmYpIHtcclxuICAgICAgICBjb25zdCBib3R0b21Db2xvdXIgPSBbMCwgMCwgMCwgMF07XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGlubmVyQ2VsbFg7IGkgPCBpbm5lckNlbGxYMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGJvdHRvbUNvbG91ciwgY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBpLCBlbmRDZWxsWSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShib3R0b21Db2xvdXIsIGJvdHRvbURpZmYpKTtcclxuICAgIH1cclxuICAgIGlmIChyaWdodERpZmYpIHtcclxuICAgICAgICBjb25zdCByaWdodENvbG91ciA9IFswLCAwLCAwLCAwXTtcclxuICAgICAgICBmb3IgKGxldCBqID0gaW5uZXJDZWxsWTsgaiA8IGlubmVyQ2VsbFkyOyBqKyspIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUocmlnaHRDb2xvdXIsIGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgZW5kQ2VsbFgsIGopKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUocmlnaHRDb2xvdXIsIHJpZ2h0RGlmZikpO1xyXG4gICAgfVxyXG4gICAgLy9pbm5lciBwYXJ0c1xyXG4gICAgZm9yIChsZXQgaSA9IGlubmVyQ2VsbFg7IGkgPCBpbm5lckNlbGxYMjsgaSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IGlubmVyQ2VsbFk7IGogPCBpbm5lckNlbGxZMjsgaisrKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBpLCBqKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9ub3cgd2UgaGF2ZSBhbiBhY2N1bXVsYXRpdmUgcGl4ZWwgdmFsdWUgdGhhdCBjb3ZlcnMgdGhlIHdob2xlIGFyZWEgc28ganVzdCBhdmVyYWdlIGl0XHJcbiAgICByZXR1cm4gZmxvb3I0TXV0YXRlXzEuZmxvb3I0TXV0YXRlKHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjb2xvdXIsIGNvbG91ck5vcm1hbGlzZXIpKTtcclxufTtcclxuZXhwb3J0cy5hdmVyYWdlTmFpdmUgPSBhdmVyYWdlTmFpdmU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuYXZlcmFnZVN1bW1lZCA9IHZvaWQgMDtcclxuY29uc3QgYWRkNE11dGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2FkZDRNdXRhdGVcIik7XHJcbmNvbnN0IGZsb29yNE11dGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2Zsb29yNE11dGF0ZVwiKTtcclxuY29uc3Qgc2NhbGU0TXV0YXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvc2NhbGU0TXV0YXRlXCIpO1xyXG5jb25zdCBzdWJ0cmFjdDRNdXRhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9zdWJ0cmFjdDRNdXRhdGVcIik7XHJcbmNvbnN0IGNhbnZhc18xID0gcmVxdWlyZShcIi4vY2FudmFzXCIpO1xyXG5jb25zdCBnZXRTdW1tZWRUZXh0dXJlVmFsID0gKHN1bW1lZFRleHR1cmUsIHgsIHkpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geCA+PSAwICYmIHkgPj0gMCA/IHN1bW1lZFRleHR1cmVbeV1beF0gOiBbMCwgMCwgMCwgMF07XHJcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdObyBzdW1tZWQgdGV4dHVyZSB2YWx1ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoeCwgeSk7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBnZXRTdW1tZWRBcmVhID0gKHN1bW1lZFRleHR1cmUsIHgsIHksIHgyLCB5MikgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShyZXN1bHQsIGdldFN1bW1lZFRleHR1cmVWYWwoc3VtbWVkVGV4dHVyZSwgeDIsIHkyKSk7XHJcbiAgICAgICAgc3VidHJhY3Q0TXV0YXRlXzEuc3VidHJhY3Q0TXV0YXRlKHJlc3VsdCwgZ2V0U3VtbWVkVGV4dHVyZVZhbChzdW1tZWRUZXh0dXJlLCB4LCB5MikpO1xyXG4gICAgICAgIHN1YnRyYWN0NE11dGF0ZV8xLnN1YnRyYWN0NE11dGF0ZShyZXN1bHQsIGdldFN1bW1lZFRleHR1cmVWYWwoc3VtbWVkVGV4dHVyZSwgeDIsIHkpKTtcclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShyZXN1bHQsIGdldFN1bW1lZFRleHR1cmVWYWwoc3VtbWVkVGV4dHVyZSwgeCwgeSkpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoW1xyXG4gICAgICAgICAgICByZXN1bHQsXHJcbiAgICAgICAgICAgIGdldFN1bW1lZFRleHR1cmVWYWwoc3VtbWVkVGV4dHVyZSwgeDIsIHkyKSxcclxuICAgICAgICAgICAgZ2V0U3VtbWVkVGV4dHVyZVZhbChzdW1tZWRUZXh0dXJlLCB4LCB5MiksXHJcbiAgICAgICAgICAgIGdldFN1bW1lZFRleHR1cmVWYWwoc3VtbWVkVGV4dHVyZSwgeDIsIHkpLFxyXG4gICAgICAgICAgICBnZXRTdW1tZWRUZXh0dXJlVmFsKHN1bW1lZFRleHR1cmUsIHgsIHkpXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuLy9yZXN1bHRzIGluIHVwIHRvIDI0IHRleHR1cmUgbG9va3VwcyBiYXNlZCBvbiBjb21wbGV4aXR5IG9mIHJhbmdlLCB3aGF0ZXZlciBzaXplIHRoZSBpbWFnZSBpc1xyXG5jb25zdCBhdmVyYWdlU3VtbWVkID0gKHN1bW1lZFRleHR1cmUsIGltYWdlRGF0YSwgeCwgeSwgeDIsIHkyKSA9PiB7XHJcbiAgICBjb25zdCBzdGFydENlbGxYID0gTWF0aC5mbG9vcih4KTtcclxuICAgIGNvbnN0IHN0YXJ0Q2VsbFkgPSBNYXRoLmZsb29yKHkpO1xyXG4gICAgY29uc3QgZW5kQ2VsbFggPSBNYXRoLmZsb29yKHgyKTtcclxuICAgIGNvbnN0IGVuZENlbGxZID0gTWF0aC5mbG9vcih5Mik7XHJcbiAgICAvL3JhbmdlIGNvbnRhaW5lZCBpbiBvbmUgcGl4ZWxcclxuICAgIGlmIChzdGFydENlbGxYID09IGVuZENlbGxYICYmIHN0YXJ0Q2VsbFkgPT0gZW5kQ2VsbFkpIHtcclxuICAgICAgICByZXR1cm4gZmxvb3I0TXV0YXRlXzEuZmxvb3I0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgc3RhcnRDZWxsWSkpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgd2lkdGggPSB4MiAtIHg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB5MiAtIHk7XHJcbiAgICBjb25zdCBwaXhlbEFyZWEgPSB3aWR0aCAqIGhlaWdodDtcclxuICAgIGNvbnN0IGNvbG91ck5vcm1hbGlzZXIgPSAxIC8gcGl4ZWxBcmVhO1xyXG4gICAgY29uc3QgaW5uZXJDZWxsWCA9IE1hdGguY2VpbCh4KTtcclxuICAgIGNvbnN0IGlubmVyQ2VsbFkgPSBNYXRoLmNlaWwoeSk7XHJcbiAgICBjb25zdCBpbm5lckNlbGxYMiA9IE1hdGguZmxvb3IoeDIpO1xyXG4gICAgY29uc3QgaW5uZXJDZWxsWTIgPSBNYXRoLmZsb29yKHkyKTtcclxuICAgIGNvbnN0IGxlZnREaWZmID0gaW5uZXJDZWxsWCAtIHg7XHJcbiAgICBjb25zdCB0b3BEaWZmID0gaW5uZXJDZWxsWSAtIHk7XHJcbiAgICBjb25zdCByaWdodERpZmYgPSB4MiAtIGlubmVyQ2VsbFgyO1xyXG4gICAgY29uc3QgYm90dG9tRGlmZiA9IHkyIC0gaW5uZXJDZWxsWTI7XHJcbiAgICBjb25zdCBjb2xvdXIgPSBbMCwgMCwgMCwgMF07XHJcbiAgICAvL3NpbmdsZSBob3Jpem9udGFsIHN0cmlwXHJcbiAgICBpZiAoc3RhcnRDZWxsWCA9PSBlbmRDZWxsWCkge1xyXG4gICAgICAgIGlmICh0b3BEaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgc3RhcnRDZWxsWSksIHdpZHRoICogdG9wRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYm90dG9tRGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGVuZENlbGxYLCBlbmRDZWxsWSksIHdpZHRoICogYm90dG9tRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShnZXRTdW1tZWRBcmVhKHN1bW1lZFRleHR1cmUsIHN0YXJ0Q2VsbFggLSAxLCBpbm5lckNlbGxZIC0gMSwgc3RhcnRDZWxsWCwgaW5uZXJDZWxsWTIgLSAxKSwgd2lkdGgpKTtcclxuICAgICAgICByZXR1cm4gZmxvb3I0TXV0YXRlXzEuZmxvb3I0TXV0YXRlKHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjb2xvdXIsIGNvbG91ck5vcm1hbGlzZXIpKTtcclxuICAgIH1cclxuICAgIC8vc2luZ2xlIHZlcnRpY2FsIHN0cmlwXHJcbiAgICBpZiAoc3RhcnRDZWxsWSA9PSBlbmRDZWxsWSkge1xyXG4gICAgICAgIGlmIChsZWZ0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIHN0YXJ0Q2VsbFkpLCBoZWlnaHQgKiBsZWZ0RGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmlnaHREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgZW5kQ2VsbFgsIGVuZENlbGxZKSwgaGVpZ2h0ICogcmlnaHREaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGdldFN1bW1lZEFyZWEoc3VtbWVkVGV4dHVyZSwgaW5uZXJDZWxsWCAtIDEsIHN0YXJ0Q2VsbFkgLSAxLCBpbm5lckNlbGxYMiAtIDEsIHN0YXJ0Q2VsbFkpLCBoZWlnaHQpKTtcclxuICAgICAgICByZXR1cm4gZmxvb3I0TXV0YXRlXzEuZmxvb3I0TXV0YXRlKHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjb2xvdXIsIGNvbG91ck5vcm1hbGlzZXIpKTtcclxuICAgIH1cclxuICAgIC8vY29ybmVyIGNlbGxzXHJcbiAgICBpZiAodG9wRGlmZikge1xyXG4gICAgICAgIGlmIChsZWZ0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIHN0YXJ0Q2VsbFkpLCBsZWZ0RGlmZiAqIHRvcERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJpZ2h0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGVuZENlbGxYLCBzdGFydENlbGxZKSwgcmlnaHREaWZmICogdG9wRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChib3R0b21EaWZmKSB7XHJcbiAgICAgICAgaWYgKGxlZnREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgZW5kQ2VsbFkpLCBsZWZ0RGlmZiAqIGJvdHRvbURpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJpZ2h0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGVuZENlbGxYLCBlbmRDZWxsWSksIHJpZ2h0RGlmZiAqIGJvdHRvbURpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2ZyYWN0aW9uYWwgc3RyaXBzXHJcbiAgICBpZiAodG9wRGlmZikge1xyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGdldFN1bW1lZEFyZWEoc3VtbWVkVGV4dHVyZSwgaW5uZXJDZWxsWCAtIDEsIHN0YXJ0Q2VsbFkgLSAxLCBpbm5lckNlbGxYMiAtIDEsIHN0YXJ0Q2VsbFkpLCB0b3BEaWZmKSk7XHJcbiAgICB9XHJcbiAgICBpZiAobGVmdERpZmYpIHtcclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShnZXRTdW1tZWRBcmVhKHN1bW1lZFRleHR1cmUsIHN0YXJ0Q2VsbFggLSAxLCBpbm5lckNlbGxZIC0gMSwgc3RhcnRDZWxsWCwgaW5uZXJDZWxsWTIgLSAxKSwgbGVmdERpZmYpKTtcclxuICAgIH1cclxuICAgIGlmIChib3R0b21EaWZmKSB7XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoZ2V0U3VtbWVkQXJlYShzdW1tZWRUZXh0dXJlLCBpbm5lckNlbGxYIC0gMSwgZW5kQ2VsbFkgLSAxLCBpbm5lckNlbGxYMiAtIDEsIGVuZENlbGxZKSwgYm90dG9tRGlmZikpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJpZ2h0RGlmZikge1xyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGdldFN1bW1lZEFyZWEoc3VtbWVkVGV4dHVyZSwgZW5kQ2VsbFggLSAxLCBpbm5lckNlbGxZIC0gMSwgZW5kQ2VsbFgsIGlubmVyQ2VsbFkyIC0gMSksIHJpZ2h0RGlmZikpO1xyXG4gICAgfVxyXG4gICAgLy9pbm5lciBwYXJ0c1xyXG4gICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBnZXRTdW1tZWRBcmVhKHN1bW1lZFRleHR1cmUsIGlubmVyQ2VsbFggLSAxLCBpbm5lckNlbGxZIC0gMSwgaW5uZXJDZWxsWDIgLSAxLCBpbm5lckNlbGxZMiAtIDEpKTtcclxuICAgIC8vbm93IHdlIGhhdmUgYW4gYWNjdW11bGF0aXZlIHBpeGVsIHZhbHVlIHRoYXQgY292ZXJzIHRoZSB3aG9sZSBhcmVhIHNvIGp1c3QgYXZlcmFnZSBpdFxyXG4gICAgcmV0dXJuIGZsb29yNE11dGF0ZV8xLmZsb29yNE11dGF0ZShzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY29sb3VyLCBjb2xvdXJOb3JtYWxpc2VyKSk7XHJcbn07XHJcbmV4cG9ydHMuYXZlcmFnZVN1bW1lZCA9IGF2ZXJhZ2VTdW1tZWQ7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuc2V0UGl4ZWwgPSBleHBvcnRzLmdldFBpeGVsID0gdm9pZCAwO1xyXG5jb25zdCBnZXRQaXhlbCA9IChpbWFnZURhdGEsIHgsIHkpID0+IHtcclxuICAgIGNvbnN0IHNhbXBsZUluZGV4ID0gKGltYWdlRGF0YS53aWR0aCAqIE1hdGguZmxvb3IoeSkgKyBNYXRoLmZsb29yKHgpKSAqIDQ7XHJcbiAgICByZXR1cm4gaW1hZ2VEYXRhLmRhdGEuc2xpY2Uoc2FtcGxlSW5kZXgsIHNhbXBsZUluZGV4ICsgNCk7XHJcbn07XHJcbmV4cG9ydHMuZ2V0UGl4ZWwgPSBnZXRQaXhlbDtcclxuY29uc3Qgc2V0UGl4ZWwgPSAoaW1hZ2VEYXRhLCB4LCB5LCByZ2JhKSA9PiB7XHJcbiAgICBpbWFnZURhdGEuZGF0YS5zZXQocmdiYSwgKE1hdGguZmxvb3IoeSkgKiBpbWFnZURhdGEud2lkdGggKyBNYXRoLmZsb29yKHgpKSAqIDQpO1xyXG59O1xyXG5leHBvcnRzLnNldFBpeGVsID0gc2V0UGl4ZWw7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuY3JlYXRlUmVuZGVyZXIgPSB2b2lkIDA7XHJcbmNvbnN0IGNyZWF0ZVJlbmRlcmVyID0gKHJlbmRlckZ1bmMsIGFmdGVyUmVuZGVyRnVuYykgPT4ge1xyXG4gICAgbGV0IGRyYXdpbmcgPSBmYWxzZTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFkcmF3aW5nKSB7XHJcbiAgICAgICAgICAgIGRyYXdpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyRnVuYygpO1xyXG4gICAgICAgICAgICAgICAgZHJhd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJSZW5kZXJGdW5jID09PSBudWxsIHx8IGFmdGVyUmVuZGVyRnVuYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWZ0ZXJSZW5kZXJGdW5jKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcbmV4cG9ydHMuY3JlYXRlUmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5jcmVhdGVTdW1tZWRUZXh0dXJlID0gdm9pZCAwO1xyXG5jb25zdCBhZGQ0TXV0YXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvYWRkNE11dGF0ZVwiKTtcclxuY29uc3Qgc3VidHJhY3Q0TXV0YXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvc3VidHJhY3Q0TXV0YXRlXCIpO1xyXG5jb25zdCBjcmVhdGVTdW1tZWRUZXh0dXJlID0gKGltYWdlRGF0YSkgPT4ge1xyXG4gICAgY29uc3Qgc3VtbWVkVGV4dHVyZSA9IG5ldyBBcnJheShpbWFnZURhdGEuaGVpZ2h0KTtcclxuICAgIGZvciAobGV0IGkgPSAwLCB5ID0gMDsgeSA8IGltYWdlRGF0YS5oZWlnaHQ7IHkrKykge1xyXG4gICAgICAgIHN1bW1lZFRleHR1cmVbeV0gPSBuZXcgQXJyYXkoaW1hZ2VEYXRhLndpZHRoKTtcclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGltYWdlRGF0YS53aWR0aDsgeCsrLCBpICs9IDQpIHtcclxuICAgICAgICAgICAgY29uc3QgcGl4ID0gbmV3IFVpbnQzMkFycmF5KGltYWdlRGF0YS5kYXRhLnNsaWNlKGksIGkgKyA0KSk7XHJcbiAgICAgICAgICAgIGlmICh4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUocGl4LCBzdW1tZWRUZXh0dXJlW3ldW3ggLSAxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShwaXgsIHN1bW1lZFRleHR1cmVbeSAtIDFdW3hdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoeCA+IDAgJiYgeSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN1YnRyYWN0NE11dGF0ZV8xLnN1YnRyYWN0NE11dGF0ZShwaXgsIHN1bW1lZFRleHR1cmVbeSAtIDFdW3ggLSAxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VtbWVkVGV4dHVyZVt5XVt4XSA9IHBpeDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3VtbWVkVGV4dHVyZTtcclxufTtcclxuZXhwb3J0cy5jcmVhdGVTdW1tZWRUZXh0dXJlID0gY3JlYXRlU3VtbWVkVGV4dHVyZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5hZGQ0TXV0YXRlID0gdm9pZCAwO1xyXG5jb25zdCBhZGQ0TXV0YXRlID0gKGEsIGIpID0+IHtcclxuICAgIGFbMF0gKz0gYlswXTtcclxuICAgIGFbMV0gKz0gYlsxXTtcclxuICAgIGFbMl0gKz0gYlsyXTtcclxuICAgIGFbM10gKz0gYlszXTtcclxuICAgIHJldHVybiBhO1xyXG59O1xyXG5leHBvcnRzLmFkZDRNdXRhdGUgPSBhZGQ0TXV0YXRlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmNsYW1wID0gdm9pZCAwO1xyXG5jb25zdCBjbGFtcCA9ICh2YWwsIG1pbiwgbWF4KSA9PiB7XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odmFsLCBtYXgpLCBtaW4pO1xyXG59O1xyXG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZmxvb3I0TXV0YXRlID0gdm9pZCAwO1xyXG5jb25zdCBmbG9vcjRNdXRhdGUgPSAoYSkgPT4ge1xyXG4gICAgYVswXSA9IE1hdGguZmxvb3IoYVswXSk7XHJcbiAgICBhWzFdID0gTWF0aC5mbG9vcihhWzFdKTtcclxuICAgIGFbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xyXG4gICAgYVszXSA9IE1hdGguZmxvb3IoYVszXSk7XHJcbiAgICByZXR1cm4gYTtcclxufTtcclxuZXhwb3J0cy5mbG9vcjRNdXRhdGUgPSBmbG9vcjRNdXRhdGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZ2V0SW1hZ2VEYXRhID0gdm9pZCAwO1xyXG5jb25zdCBnZXRJbWFnZURhdGEgPSAoaW1hZ2UpID0+IHtcclxuICAgIGNvbnN0IGltYWdlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICBpbWFnZUNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xyXG4gICAgaW1hZ2VDYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG4gICAgY29uc3QgaW1hZ2VHcmFwaGljcyA9IGltYWdlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICBpZiAoIWltYWdlR3JhcGhpY3MpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBjcmVhdGUgY2FudmFzIHRvIGV4dHJhY3QgaW1hZ2UgZGF0YScpO1xyXG4gICAgfVxyXG4gICAgaW1hZ2VHcmFwaGljcy5jbGVhclJlY3QoMCwgMCwgaW1hZ2VDYW52YXMud2lkdGgsIGltYWdlQ2FudmFzLmhlaWdodCk7XHJcbiAgICBpbWFnZUdyYXBoaWNzLmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgICByZXR1cm4gaW1hZ2VHcmFwaGljcy5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2VDYW52YXMud2lkdGgsIGltYWdlQ2FudmFzLmhlaWdodCk7XHJcbn07XHJcbmV4cG9ydHMuZ2V0SW1hZ2VEYXRhID0gZ2V0SW1hZ2VEYXRhO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnNjYWxlNE11dGF0ZSA9IHZvaWQgMDtcclxuY29uc3Qgc2NhbGU0TXV0YXRlID0gKGEsIG1hZykgPT4ge1xyXG4gICAgYVswXSAqPSBtYWc7XHJcbiAgICBhWzFdICo9IG1hZztcclxuICAgIGFbMl0gKj0gbWFnO1xyXG4gICAgYVszXSAqPSBtYWc7XHJcbiAgICByZXR1cm4gYTtcclxufTtcclxuZXhwb3J0cy5zY2FsZTRNdXRhdGUgPSBzY2FsZTRNdXRhdGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuc3VidHJhY3Q0TXV0YXRlID0gdm9pZCAwO1xyXG5jb25zdCBzdWJ0cmFjdDRNdXRhdGUgPSAoYSwgYikgPT4ge1xyXG4gICAgYVswXSAtPSBiWzBdO1xyXG4gICAgYVsxXSAtPSBiWzFdO1xyXG4gICAgYVsyXSAtPSBiWzJdO1xyXG4gICAgYVszXSAtPSBiWzNdO1xyXG4gICAgcmV0dXJuIGE7XHJcbn07XHJcbmV4cG9ydHMuc3VidHJhY3Q0TXV0YXRlID0gc3VidHJhY3Q0TXV0YXRlO1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgYXZlcmFnZU5haXZlXzEgPSByZXF1aXJlKFwiLi4vZHJhdy9hdmVyYWdlTmFpdmVcIik7XHJcbmNvbnN0IGF2ZXJhZ2VTdW1tZWRfMSA9IHJlcXVpcmUoXCIuLi9kcmF3L2F2ZXJhZ2VTdW1tZWRcIik7XHJcbmNvbnN0IGNhbnZhc18xID0gcmVxdWlyZShcIi4uL2RyYXcvY2FudmFzXCIpO1xyXG5jb25zdCBjcmVhdGVSZW5kZXJlcl8xID0gcmVxdWlyZShcIi4uL2RyYXcvY3JlYXRlUmVuZGVyZXJcIik7XHJcbmNvbnN0IGNyZWF0ZVN1bW1lZFRleHR1cmVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3L2NyZWF0ZVN1bW1lZFRleHR1cmVcIik7XHJcbmNvbnN0IGNsYW1wXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvY2xhbXBcIik7XHJcbmNvbnN0IGdldEltYWdlRGF0YV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2dldEltYWdlRGF0YVwiKTtcclxuY29uc3QgZ2FtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVwiKTtcclxuY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlXCIpO1xyXG5jb25zdCBtZXRob2QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1ldGhvZFwiKTtcclxuY29uc3QgaW1hZ2VJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hvb3NlaW1hZ2VcIik7XHJcbmNvbnN0IHNjYWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjYWxlXCIpO1xyXG5jb25zdCB4b2Zmc2V0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInhvZmZzZXRcIik7XHJcbmNvbnN0IHlvZmZzZXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieW9mZnNldFwiKTtcclxuY29uc3Qgc2NhbGVWYWx1ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY2FsZXZhbHVlXCIpO1xyXG5jb25zdCB4b2Zmc2V0VmFsdWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieG9mZnNldHZhbHVlXCIpO1xyXG5jb25zdCB5b2Zmc2V0VmFsdWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieW9mZnNldHZhbHVlXCIpO1xyXG5jb25zdCB0aW1ldGFrZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpbWV0YWtlblwiKTtcclxuY29uc3QgZyA9IGdhbWUuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5sZXQgc2NhbGUgPSAwLjMzO1xyXG5sZXQgeG9mZnNldCA9IDA7XHJcbmxldCB5b2Zmc2V0ID0gMDtcclxuY29uc3QgZHJhd0ltYWdlID0gKHN1bW1lZFRleHR1cmUsIGltYWdlRGF0YSkgPT4ge1xyXG4gICAgLy9ub3cgcmVuZGVyIGEgc2NhbGVkIGRvd24gc2l6ZSBvZiB0aGUgdGV4dHVyZSBvbiB0aGUgY2FudmFzIChwZXItcGl4ZWwpIHVzaW5nIHRoZSBzYW1wbGUgc3VtbWluZyBhcHByb2FjaFxyXG4gICAgZy5jbGVhclJlY3QoMCwgMCwgZ2FtZS53aWR0aCwgZ2FtZS5oZWlnaHQpO1xyXG4gICAgY29uc3QgY2FudmFzSW1hZ2UgPSBnLmdldEltYWdlRGF0YSgwLCAwLCBnYW1lLndpZHRoLCBnYW1lLmhlaWdodCk7XHJcbiAgICBsZXQgcGl4ZWxGdW5jO1xyXG4gICAgc3dpdGNoIChtZXRob2QudmFsdWUpIHtcclxuICAgICAgICBjYXNlICdzdW1tZWQnOlxyXG4gICAgICAgICAgICBwaXhlbEZ1bmMgPSAoeCwgeSwgeDIsIHkyKSA9PiBhdmVyYWdlU3VtbWVkXzEuYXZlcmFnZVN1bW1lZChzdW1tZWRUZXh0dXJlLCBpbWFnZURhdGEsIHgsIHksIHgyLCB5Mik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ25haXZlJzpcclxuICAgICAgICAgICAgcGl4ZWxGdW5jID0gKHgsIHksIHgyLCB5MikgPT4gYXZlcmFnZU5haXZlXzEuYXZlcmFnZU5haXZlKGltYWdlRGF0YSwgeCwgeSwgeDIsIHkyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnbm9uZSc6XHJcbiAgICAgICAgICAgIHBpeGVsRnVuYyA9ICh4LCB5KSA9PiBjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHgsIHkpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbWV0aG9kJyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgY29uc3QgbWF4WSA9IGdhbWUuaGVpZ2h0IC0gMTtcclxuICAgIGNvbnN0IG1heFggPSBnYW1lLndpZHRoIC0gMTtcclxuICAgIGZvciAobGV0IHkgPSBNYXRoLm1heCgwLCB5b2Zmc2V0KTsgeSA8IE1hdGgubWluKGdhbWUuaGVpZ2h0ICogc2NhbGUgKyB5b2Zmc2V0LCBnYW1lLmhlaWdodCk7IHkrKykge1xyXG4gICAgICAgIGZvciAobGV0IHggPSBNYXRoLm1heCgwLCB4b2Zmc2V0KTsgeCA8IE1hdGgubWluKGdhbWUud2lkdGggKiBzY2FsZSArIHhvZmZzZXQsIGdhbWUud2lkdGgpOyB4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgcGxvdFggPSBjbGFtcF8xLmNsYW1wKCh4IC0geG9mZnNldCkgLyBzY2FsZSwgMCwgbWF4WCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsb3RZID0gY2xhbXBfMS5jbGFtcCgoeSAtIHlvZmZzZXQpIC8gc2NhbGUsIDAsIG1heFkpO1xyXG4gICAgICAgICAgICBjb25zdCBwbG90WDIgPSBjbGFtcF8xLmNsYW1wKCh4ICsgMSAtIHhvZmZzZXQpIC8gc2NhbGUsIDAsIG1heFgpO1xyXG4gICAgICAgICAgICBjb25zdCBwbG90WTIgPSBjbGFtcF8xLmNsYW1wKCh5ICsgMSAtIHlvZmZzZXQpIC8gc2NhbGUsIDAsIG1heFkpO1xyXG4gICAgICAgICAgICBjYW52YXNfMS5zZXRQaXhlbChjYW52YXNJbWFnZSwgeCwgeSwgcGl4ZWxGdW5jKHBsb3RYLCBwbG90WSwgcGxvdFgyLCBwbG90WTIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnLnB1dEltYWdlRGF0YShjYW52YXNJbWFnZSwgMCwgMCk7XHJcbiAgICB0aW1ldGFrZW4uaW5uZXJUZXh0ID0gYCR7KERhdGUubm93KCkgLSBzdGFydFRpbWUpfSBtc2A7XHJcbn07XHJcbmNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgaW1hZ2VEYXRhID0gZ2V0SW1hZ2VEYXRhXzEuZ2V0SW1hZ2VEYXRhKGltYWdlKTtcclxuICAgIGNvbnN0IHN1bW1lZFRleHR1cmUgPSBjcmVhdGVTdW1tZWRUZXh0dXJlXzEuY3JlYXRlU3VtbWVkVGV4dHVyZShpbWFnZURhdGEpO1xyXG4gICAgY29uc3QgZHJhdyA9IGNyZWF0ZVJlbmRlcmVyXzEuY3JlYXRlUmVuZGVyZXIoKCkgPT4ge1xyXG4gICAgICAgIHNjYWxlSW5wdXQudmFsdWUgPSBzY2FsZVZhbHVlSW5wdXQudmFsdWUgPSBzY2FsZS50b1N0cmluZygpO1xyXG4gICAgICAgIHhvZmZzZXRJbnB1dC52YWx1ZSA9IHhvZmZzZXRWYWx1ZUlucHV0LnZhbHVlID0geG9mZnNldC50b1N0cmluZygpO1xyXG4gICAgICAgIHlvZmZzZXRJbnB1dC52YWx1ZSA9IHlvZmZzZXRWYWx1ZUlucHV0LnZhbHVlID0geW9mZnNldC50b1N0cmluZygpO1xyXG4gICAgICAgIGRyYXdJbWFnZShzdW1tZWRUZXh0dXJlLCBpbWFnZURhdGEpO1xyXG4gICAgfSk7XHJcbiAgICBzY2FsZUlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgc2NhbGUgPSBwYXJzZUZsb2F0KHNjYWxlSW5wdXQudmFsdWUpO1xyXG4gICAgICAgIGRyYXcoKTtcclxuICAgIH07XHJcbiAgICB4b2Zmc2V0SW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICB4b2Zmc2V0ID0gcGFyc2VGbG9hdCh4b2Zmc2V0SW5wdXQudmFsdWUpO1xyXG4gICAgICAgIGRyYXcoKTtcclxuICAgIH07XHJcbiAgICB5b2Zmc2V0SW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICB5b2Zmc2V0ID0gcGFyc2VGbG9hdCh5b2Zmc2V0SW5wdXQudmFsdWUpO1xyXG4gICAgICAgIGRyYXcoKTtcclxuICAgIH07XHJcbiAgICBzY2FsZVZhbHVlSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgc2NhbGUgPSBwYXJzZUZsb2F0KHNjYWxlVmFsdWVJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIHhvZmZzZXRWYWx1ZUlucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgIHhvZmZzZXQgPSBwYXJzZUZsb2F0KHhvZmZzZXRWYWx1ZUlucHV0LnZhbHVlKTtcclxuICAgICAgICBkcmF3KCk7XHJcbiAgICB9O1xyXG4gICAgeW9mZnNldFZhbHVlSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgeW9mZnNldCA9IHBhcnNlRmxvYXQoeW9mZnNldFZhbHVlSW5wdXQudmFsdWUpO1xyXG4gICAgICAgIGRyYXcoKTtcclxuICAgIH07XHJcbiAgICBtZXRob2Qub25pbnB1dCA9IGRyYXc7XHJcbiAgICBkcmF3KCk7XHJcbn07XHJcbmNvbnN0IGxvYWRJbWFnZSA9ICgpID0+IHtcclxuICAgIGltYWdlLnNyYyA9IGltYWdlSW5wdXQudmFsdWU7XHJcbiAgICBpZiAoaW1hZ2UuY29tcGxldGUpIHtcclxuICAgICAgICBzdGFydCgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gc3RhcnQ7XHJcbiAgICB9XHJcbn07XHJcbmltYWdlSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICBsb2FkSW1hZ2UoKTtcclxufTtcclxubG9hZEltYWdlKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=