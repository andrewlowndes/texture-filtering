(()=>{"use strict";var e={86:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.averageNaive=void 0;const o=a(78),l=a(62),u=a(27),d=a(975);t.averageNaive=(e,t,a,r,c)=>{const M=Math.floor(t),n=Math.floor(a),i=Math.floor(r),s=Math.floor(c);if(M==i&&n==s)return l.floor4Mutate(d.getPixel(e,M,n));const g=r-t,h=c-a,f=1/(g*h),m=Math.ceil(t),v=Math.ceil(a),x=Math.floor(r),P=Math.floor(c),p=m-t,y=v-a,w=r-x,_=c-P,b=[0,0,0,0];if(M==i){y&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,n),g*y)),_&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,s),g*_));const t=[0,0,0,0];for(let a=v;a<P;a++)o.add4Mutate(t,d.getPixel(e,M,a));return o.add4Mutate(b,u.scale4Mutate(t,g)),l.floor4Mutate(u.scale4Mutate(b,f))}if(n==s){p&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,n),h*p)),w&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,s),h*w));const t=[0,0,0,0];for(let a=m;a<x;a++)o.add4Mutate(t,d.getPixel(e,a,n));return o.add4Mutate(b,u.scale4Mutate(t,h)),l.floor4Mutate(u.scale4Mutate(b,f))}if(y&&(p&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,n),p*y)),w&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,n),w*y))),_&&(p&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,M,s),p*_)),w&&o.add4Mutate(b,u.scale4Mutate(d.getPixel(e,i,s),w*_))),y){const t=[0,0,0,0];for(let a=m;a<x;a++)o.add4Mutate(t,d.getPixel(e,a,n));o.add4Mutate(b,u.scale4Mutate(t,y))}if(p){const t=[0,0,0,0];for(let a=v;a<P;a++)o.add4Mutate(t,d.getPixel(e,M,a));o.add4Mutate(b,u.scale4Mutate(t,p))}if(_){const t=[0,0,0,0];for(let a=m;a<x;a++)o.add4Mutate(t,d.getPixel(e,a,s));o.add4Mutate(b,u.scale4Mutate(t,_))}if(w){const t=[0,0,0,0];for(let a=v;a<P;a++)o.add4Mutate(t,d.getPixel(e,i,a));o.add4Mutate(b,u.scale4Mutate(t,w))}for(let t=m;t<x;t++)for(let a=v;a<P;a++)o.add4Mutate(b,d.getPixel(e,t,a));return l.floor4Mutate(u.scale4Mutate(b,f))}},676:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.averageSummed=void 0;const o=a(78),l=a(62),u=a(27),d=a(196),r=a(975),c=(e,t,a)=>{try{const o=t>=0&&a>=0?e[a][t]:[0,0,0,0];if(void 0===o)throw Error("No summed texture value");return o}catch(e){throw console.error(t,a),e}},M=(e,t,a,l,u)=>{const r=[0,0,0,0];try{o.add4Mutate(r,c(e,l,u)),d.subtract4Mutate(r,c(e,t,u)),d.subtract4Mutate(r,c(e,l,a)),o.add4Mutate(r,c(e,t,a))}catch(o){throw console.error([r,c(e,l,u),c(e,t,u),c(e,l,a),c(e,t,a)]),o}return r};t.averageSummed=(e,t,a,d,c,n)=>{const i=Math.floor(a),s=Math.floor(d),g=Math.floor(c),h=Math.floor(n);if(i==g&&s==h)return l.floor4Mutate(r.getPixel(t,i,s));const f=c-a,m=n-d,v=1/(f*m),x=Math.ceil(a),P=Math.ceil(d),p=Math.floor(c),y=Math.floor(n),w=x-a,_=P-d,b=c-p,I=n-y,E=[0,0,0,0];return i==g?(_&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,s),f*_)),I&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,h),f*I)),o.add4Mutate(E,u.scale4Mutate(M(e,i-1,P-1,i,y-1),f)),l.floor4Mutate(u.scale4Mutate(E,v))):s==h?(w&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,s),m*w)),b&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,h),m*b)),o.add4Mutate(E,u.scale4Mutate(M(e,x-1,s-1,p-1,s),m)),l.floor4Mutate(u.scale4Mutate(E,v))):(_&&(w&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,s),w*_)),b&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,s),b*_))),I&&(w&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,i,h),w*I)),b&&o.add4Mutate(E,u.scale4Mutate(r.getPixel(t,g,h),b*I))),_&&o.add4Mutate(E,u.scale4Mutate(M(e,x-1,s-1,p-1,s),_)),w&&o.add4Mutate(E,u.scale4Mutate(M(e,i-1,P-1,i,y-1),w)),I&&o.add4Mutate(E,u.scale4Mutate(M(e,x-1,h-1,p-1,h),I)),b&&o.add4Mutate(E,u.scale4Mutate(M(e,g-1,P-1,g,y-1),b)),o.add4Mutate(E,M(e,x-1,P-1,p-1,y-1)),l.floor4Mutate(u.scale4Mutate(E,v)))}},975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setPixel=t.getPixel=void 0,t.getPixel=(e,t,a)=>{const o=4*(e.width*Math.floor(a)+Math.floor(t));return e.data.slice(o,o+4)},t.setPixel=(e,t,a,o)=>{e.data.set(o,4*(Math.floor(a)*e.width+Math.floor(t)))}},787:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderer=void 0,t.createRenderer=(e,t)=>{let a=!1;return()=>{a||(a=!0,requestAnimationFrame((()=>{e(),a=!1,null==t||t()})))}}},374:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSummedTexture=void 0;const o=a(78),l=a(196);t.createSummedTexture=e=>{const t=new Array(e.height);for(let a=0,u=0;u<e.height;u++){t[u]=new Array(e.width);for(let d=0;d<e.width;d++,a+=4){const r=new Uint32Array(e.data.slice(a,a+4));d>0&&o.add4Mutate(r,t[u][d-1]),u>0&&o.add4Mutate(r,t[u-1][d]),d>0&&u>0&&l.subtract4Mutate(r,t[u-1][d-1]),t[u][d]=r}}return t}},78:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.add4Mutate=void 0,t.add4Mutate=(e,t)=>(e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],e)},586:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=void 0,t.clamp=(e,t,a)=>Math.max(Math.min(e,a),t)},62:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.floor4Mutate=void 0,t.floor4Mutate=e=>(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),e[3]=Math.floor(e[3]),e)},372:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getImageData=void 0,t.getImageData=e=>{const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const a=t.getContext("2d");if(!a)throw new Error("Could not create canvas to extract image data");return a.clearRect(0,0,t.width,t.height),a.drawImage(e,0,0),a.getImageData(0,0,t.width,t.height)}},27:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scale4Mutate=void 0,t.scale4Mutate=(e,t)=>(e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e)},196:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subtract4Mutate=void 0,t.subtract4Mutate=(e,t)=>(e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e[3]-=t[3],e)}},t={};function a(o){var l=t[o];if(void 0!==l)return l.exports;var u=t[o]={exports:{}};return e[o](u,u.exports,a),u.exports}(()=>{const e=a(86),t=a(676),o=a(975),l=a(787),u=a(374),d=a(586),r=a(372),c=document.getElementById("game"),M=document.getElementById("image"),n=document.getElementById("method"),i=document.getElementById("chooseimage"),s=document.getElementById("scale"),g=document.getElementById("xoffset"),h=document.getElementById("yoffset"),f=document.getElementById("scalevalue"),m=document.getElementById("xoffsetvalue"),v=document.getElementById("yoffsetvalue"),x=document.getElementById("timetaken"),P=c.getContext("2d");let p=.33,y=0,w=0;const _=()=>{const a=r.getImageData(M),i=u.createSummedTexture(a),_=l.createRenderer((()=>{s.value=f.value=p.toString(),g.value=m.value=y.toString(),h.value=v.value=w.toString(),((a,l)=>{P.clearRect(0,0,c.width,c.height);const u=P.getImageData(0,0,c.width,c.height);let r;switch(n.value){case"summed":r=(e,o,u,d)=>t.averageSummed(a,l,e,o,u,d);break;case"naive":r=(t,a,o,u)=>e.averageNaive(l,t,a,o,u);break;case"none":r=(e,t)=>o.getPixel(l,e,t);break;default:throw new Error("Unknown method")}const M=Date.now(),i=c.height-1,s=c.width-1;for(let e=Math.max(0,w);e<Math.min(c.height*p+w,c.height);e++)for(let t=Math.max(0,y);t<Math.min(c.width*p+y,c.width);t++){const a=d.clamp((t-y)/p,0,s),l=d.clamp((e-w)/p,0,i),c=d.clamp((t+1-y)/p,0,s),M=d.clamp((e+1-w)/p,0,i);o.setPixel(u,t,e,r(a,l,c,M))}P.putImageData(u,0,0),x.innerText=Date.now()-M+" ms"})(i,a)}));s.oninput=()=>{p=parseFloat(s.value),_()},g.oninput=()=>{y=parseFloat(g.value),_()},h.oninput=()=>{w=parseFloat(h.value),_()},f.onchange=()=>{p=parseFloat(f.value),_()},m.onchange=()=>{y=parseFloat(m.value),_()},v.onchange=()=>{w=parseFloat(v.value),_()},n.oninput=_,_()},b=()=>{M.src=i.value,M.complete?_():M.onload=_};i.onchange=()=>{b()},b()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kcmF3L2F2ZXJhZ2VOYWl2ZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kcmF3L2F2ZXJhZ2VTdW1tZWQudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZHJhdy9jYW52YXMudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZHJhdy9jcmVhdGVSZW5kZXJlci50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy9kcmF3L2NyZWF0ZVN1bW1lZFRleHR1cmUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvdXRpbHMvYWRkNE11dGF0ZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy91dGlscy9jbGFtcC50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy91dGlscy9mbG9vcjRNdXRhdGUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvdXRpbHMvZ2V0SW1hZ2VEYXRhLnRzIiwid2VicGFjazovL3NhbXBsaW5nLWNvdmVyYWdlLy4vc3JjL3V0aWxzL3NjYWxlNE11dGF0ZS50cyIsIndlYnBhY2s6Ly9zYW1wbGluZy1jb3ZlcmFnZS8uL3NyYy91dGlscy9zdWJ0cmFjdDRNdXRhdGUudHMiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc2FtcGxpbmctY292ZXJhZ2UvLi9zcmMvZGVtb3Mvc2FtcGxlU3VtbWluZ0NwdS50cyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImF2ZXJhZ2VOYWl2ZSIsImFkZDRNdXRhdGVfMSIsImZsb29yNE11dGF0ZV8xIiwic2NhbGU0TXV0YXRlXzEiLCJjYW52YXNfMSIsImltYWdlRGF0YSIsIngiLCJ5IiwieDIiLCJ5MiIsInN0YXJ0Q2VsbFgiLCJNYXRoIiwiZmxvb3IiLCJzdGFydENlbGxZIiwiZW5kQ2VsbFgiLCJlbmRDZWxsWSIsImZsb29yNE11dGF0ZSIsImdldFBpeGVsIiwid2lkdGgiLCJoZWlnaHQiLCJjb2xvdXJOb3JtYWxpc2VyIiwiaW5uZXJDZWxsWCIsImNlaWwiLCJpbm5lckNlbGxZIiwiaW5uZXJDZWxsWDIiLCJpbm5lckNlbGxZMiIsImxlZnREaWZmIiwidG9wRGlmZiIsInJpZ2h0RGlmZiIsImJvdHRvbURpZmYiLCJjb2xvdXIiLCJhZGQ0TXV0YXRlIiwic2NhbGU0TXV0YXRlIiwibWlkQ29sb3VyIiwiaiIsImkiLCJ0b3BDb2xvdXIiLCJsZWZ0Q29sb3VyIiwiYm90dG9tQ29sb3VyIiwicmlnaHRDb2xvdXIiLCJhdmVyYWdlU3VtbWVkIiwic3VidHJhY3Q0TXV0YXRlXzEiLCJnZXRTdW1tZWRUZXh0dXJlVmFsIiwic3VtbWVkVGV4dHVyZSIsInJlc3VsdCIsInVuZGVmaW5lZCIsIkVycm9yIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZ2V0U3VtbWVkQXJlYSIsInN1YnRyYWN0NE11dGF0ZSIsInNldFBpeGVsIiwic2FtcGxlSW5kZXgiLCJkYXRhIiwic2xpY2UiLCJyZ2JhIiwic2V0IiwiY3JlYXRlUmVuZGVyZXIiLCJyZW5kZXJGdW5jIiwiYWZ0ZXJSZW5kZXJGdW5jIiwiZHJhd2luZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNyZWF0ZVN1bW1lZFRleHR1cmUiLCJBcnJheSIsInBpeCIsIlVpbnQzMkFycmF5IiwiYSIsImIiLCJjbGFtcCIsInZhbCIsIm1pbiIsIm1heCIsImdldEltYWdlRGF0YSIsImltYWdlIiwiaW1hZ2VDYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbWFnZUdyYXBoaWNzIiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsIm1hZyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJhdmVyYWdlTmFpdmVfMSIsImF2ZXJhZ2VTdW1tZWRfMSIsImNyZWF0ZVJlbmRlcmVyXzEiLCJjcmVhdGVTdW1tZWRUZXh0dXJlXzEiLCJjbGFtcF8xIiwiZ2V0SW1hZ2VEYXRhXzEiLCJnYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJtZXRob2QiLCJpbWFnZUlucHV0Iiwic2NhbGVJbnB1dCIsInhvZmZzZXRJbnB1dCIsInlvZmZzZXRJbnB1dCIsInNjYWxlVmFsdWVJbnB1dCIsInhvZmZzZXRWYWx1ZUlucHV0IiwieW9mZnNldFZhbHVlSW5wdXQiLCJ0aW1ldGFrZW4iLCJnIiwic2NhbGUiLCJ4b2Zmc2V0IiwieW9mZnNldCIsInN0YXJ0IiwiZHJhdyIsInRvU3RyaW5nIiwiY2FudmFzSW1hZ2UiLCJwaXhlbEZ1bmMiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwibWF4WSIsIm1heFgiLCJwbG90WCIsInBsb3RZIiwicGxvdFgyIiwicGxvdFkyIiwicHV0SW1hZ2VEYXRhIiwiaW5uZXJUZXh0Iiwib25pbnB1dCIsInBhcnNlRmxvYXQiLCJvbmNoYW5nZSIsImxvYWRJbWFnZSIsInNyYyIsImNvbXBsZXRlIiwib25sb2FkIl0sIm1hcHBpbmdzIjoidUNBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RERCxFQUFRRSxrQkFBZSxFQUN2QixNQUFNQyxFQUFlLEVBQVEsSUFDdkJDLEVBQWlCLEVBQVEsSUFDekJDLEVBQWlCLEVBQVEsSUFDekJDLEVBQVcsRUFBUSxLQTZHekJOLEVBQVFFLGFBNUdhLENBQUNLLEVBQVdDLEVBQUdDLEVBQUdDLEVBQUlDLEtBQ3ZDLE1BQU1DLEVBQWFDLEtBQUtDLE1BQU1OLEdBQ3hCTyxFQUFhRixLQUFLQyxNQUFNTCxHQUN4Qk8sRUFBV0gsS0FBS0MsTUFBTUosR0FDdEJPLEVBQVdKLEtBQUtDLE1BQU1ILEdB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LE1BRTdCOEYsRUFBVzJCLFFBQVUsS0FDakJuQixFQUFRb0IsV0FBVzVCLEVBQVdwRyxPQUM5QmdILEtBRUpYLEVBQWEwQixRQUFVLEtBQ25CbEIsRUFBVW1CLFdBQVczQixFQUFhckcsT0FDbENnSCxLQUVKVixFQUFheUIsUUFBVSxLQUNuQmpCLEVBQVVrQixXQUFXMUIsRUFBYXRHLE9BQ2xDZ0gsS0FFSlQsRUFBZ0IwQixTQUFXLEtBQ3ZCckIsRUFBUW9CLFdBQVd6QixFQUFnQnZHLE9BQ25DZ0gsS0FFSlIsRUFBa0J5QixTQUFXLEtBQ3pCcEIsRUFBVW1CLFdBQVd4QixFQUFrQnhHLE9BQ3ZDZ0gsS0FFSlAsRUFBa0J3QixTQUFXLEtBQ3pCbkIsRUFBVWtCLFdBQVd2QixFQUFrQnpHLE9BQ3ZDZ0gsS0FFSmQsRUFBTzZCLFFBQVVmLEVBQ2pCQSxLQUVFa0IsRUFBWSxLQUNkdkQsRUFBTXdELElBQU1oQyxFQUFXbkcsTUFDbkIyRSxFQUFNeUQsU0FDTnJCLElBR0FwQyxFQUFNMEQsT0FBU3RCLEdBR3ZCWixFQUFXOEIsU0FBVyxLQUNsQkMsS0FFSkEsSyIsImZpbGUiOiJzYW1wbGVfc3VtbWluZ19jcHUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmF2ZXJhZ2VOYWl2ZSA9IHZvaWQgMDtcclxuY29uc3QgYWRkNE11dGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2FkZDRNdXRhdGVcIik7XHJcbmNvbnN0IGZsb29yNE11dGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2Zsb29yNE11dGF0ZVwiKTtcclxuY29uc3Qgc2NhbGU0TXV0YXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvc2NhbGU0TXV0YXRlXCIpO1xyXG5jb25zdCBjYW52YXNfMSA9IHJlcXVpcmUoXCIuL2NhbnZhc1wiKTtcclxuY29uc3QgYXZlcmFnZU5haXZlID0gKGltYWdlRGF0YSwgeCwgeSwgeDIsIHkyKSA9PiB7XHJcbiAgICBjb25zdCBzdGFydENlbGxYID0gTWF0aC5mbG9vcih4KTtcclxuICAgIGNvbnN0IHN0YXJ0Q2VsbFkgPSBNYXRoLmZsb29yKHkpO1xyXG4gICAgY29uc3QgZW5kQ2VsbFggPSBNYXRoLmZsb29yKHgyKTtcclxuICAgIGNvbnN0IGVuZENlbGxZID0gTWF0aC5mbG9vcih5Mik7XHJcbiAgICAvL3JhbmdlIGNvbnRhaW5lZCBpbiBvbmUgcGl4ZWxcclxuICAgIGlmIChzdGFydENlbGxYID09IGVuZENlbGxYICYmIHN0YXJ0Q2VsbFkgPT0gZW5kQ2VsbFkpIHtcclxuICAgICAgICByZXR1cm4gZmxvb3I0TXV0YXRlXzEuZmxvb3I0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgc3RhcnRDZWxsWSkpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgd2lkdGggPSB4MiAtIHg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB5MiAtIHk7XHJcbiAgICBjb25zdCBwaXhlbEFyZWEgPSB3aWR0aCAqIGhlaWdodDtcclxuICAgIGNvbnN0IGNvbG91ck5vcm1hbGlzZXIgPSAxIC8gcGl4ZWxBcmVhO1xyXG4gICAgY29uc3QgaW5uZXJDZWxsWCA9IE1hdGguY2VpbCh4KTtcclxuICAgIGNvbnN0IGlubmVyQ2VsbFkgPSBNYXRoLmNlaWwoeSk7XHJcbiAgICBjb25zdCBpbm5lckNlbGxYMiA9IE1hdGguZmxvb3IoeDIpO1xyXG4gICAgY29uc3QgaW5uZXJDZWxsWTIgPSBNYXRoLmZsb29yKHkyKTtcclxuICAgIGNvbnN0IGxlZnREaWZmID0gaW5uZXJDZWxsWCAtIHg7XHJcbiAgICBjb25zdCB0b3BEaWZmID0gaW5uZXJDZWxsWSAtIHk7XHJcbiAgICBjb25zdCByaWdodERpZmYgPSB4MiAtIGlubmVyQ2VsbFgyO1xyXG4gICAgY29uc3QgYm90dG9tRGlmZiA9IHkyIC0gaW5uZXJDZWxsWTI7XHJcbiAgICBjb25zdCBjb2xvdXIgPSBbMCwgMCwgMCwgMF07XHJcbiAgICAvL3BlcmhhcHMgd2Ugc2hvdWxkIGJlIGJsZW5kaW5nIGFub3RoZXIgd2F5IChhbHBoYSkgaW5zdGVhZCBvZiBhZGRpbmc/XHJcbiAgICAvL3NpbmdsZSBob3Jpem9udGFsIHN0cmlwXHJcbiAgICBpZiAoc3RhcnRDZWxsWCA9PSBlbmRDZWxsWCkge1xyXG4gICAgICAgIGlmICh0b3BEaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgc3RhcnRDZWxsWSksIHdpZHRoICogdG9wRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYm90dG9tRGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGVuZENlbGxYLCBlbmRDZWxsWSksIHdpZHRoICogYm90dG9tRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtaWRDb2xvdXIgPSBbMCwgMCwgMCwgMF07XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IGlubmVyQ2VsbFk7IGogPCBpbm5lckNlbGxZMjsgaisrKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKG1pZENvbG91ciwgY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBqKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKG1pZENvbG91ciwgd2lkdGgpKTtcclxuICAgICAgICByZXR1cm4gZmxvb3I0TXV0YXRlXzEuZmxvb3I0TXV0YXRlKHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjb2xvdXIsIGNvbG91ck5vcm1hbGlzZXIpKTtcclxuICAgIH1cclxuICAgIC8vc2luZ2xlIHZlcnRpY2FsIHN0cmlwXHJcbiAgICBpZiAoc3RhcnRDZWxsWSA9PSBlbmRDZWxsWSkge1xyXG4gICAgICAgIGlmIChsZWZ0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIHN0YXJ0Q2VsbFkpLCBoZWlnaHQgKiBsZWZ0RGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmlnaHREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgZW5kQ2VsbFgsIGVuZENlbGxZKSwgaGVpZ2h0ICogcmlnaHREaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1pZENvbG91ciA9IFswLCAwLCAwLCAwXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gaW5uZXJDZWxsWDsgaSA8IGlubmVyQ2VsbFgyOyBpKyspIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUobWlkQ29sb3VyLCBjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGksIHN0YXJ0Q2VsbFkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUobWlkQ29sb3VyLCBoZWlnaHQpKTtcclxuICAgICAgICByZXR1cm4gZmxvb3I0TXV0YXRlXzEuZmxvb3I0TXV0YXRlKHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjb2xvdXIsIGNvbG91ck5vcm1hbGlzZXIpKTtcclxuICAgIH1cclxuICAgIC8vY29ybmVyIGNlbGxzXHJcbiAgICBpZiAodG9wRGlmZikge1xyXG4gICAgICAgIGlmIChsZWZ0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIHN0YXJ0Q2VsbFkpLCBsZWZ0RGlmZiAqIHRvcERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJpZ2h0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGVuZENlbGxYLCBzdGFydENlbGxZKSwgcmlnaHREaWZmICogdG9wRGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChib3R0b21EaWZmKSB7XHJcbiAgICAgICAgaWYgKGxlZnREaWZmKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgc3RhcnRDZWxsWCwgZW5kQ2VsbFkpLCBsZWZ0RGlmZiAqIGJvdHRvbURpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJpZ2h0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGVuZENlbGxYLCBlbmRDZWxsWSksIHJpZ2h0RGlmZiAqIGJvdHRvbURpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2ZyYWN0aW9uYWwgc3RyaXBzXHJcbiAgICBpZiAodG9wRGlmZikge1xyXG4gICAgICAgIGNvbnN0IHRvcENvbG91ciA9IFswLCAwLCAwLCAwXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gaW5uZXJDZWxsWDsgaSA8IGlubmVyQ2VsbFgyOyBpKyspIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUodG9wQ29sb3VyLCBjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGksIHN0YXJ0Q2VsbFkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUodG9wQ29sb3VyLCB0b3BEaWZmKSk7XHJcbiAgICB9XHJcbiAgICBpZiAobGVmdERpZmYpIHtcclxuICAgICAgICBjb25zdCBsZWZ0Q29sb3VyID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgICAgIGZvciAobGV0IGogPSBpbm5lckNlbGxZOyBqIDwgaW5uZXJDZWxsWTI7IGorKykge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShsZWZ0Q29sb3VyLCBjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIGopKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUobGVmdENvbG91ciwgbGVmdERpZmYpKTtcclxuICAgIH1cclxuICAgIGlmIChib3R0b21EaWZmKSB7XHJcbiAgICAgICAgY29uc3QgYm90dG9tQ29sb3VyID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBpbm5lckNlbGxYOyBpIDwgaW5uZXJDZWxsWDI7IGkrKykge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShib3R0b21Db2xvdXIsIGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgaSwgZW5kQ2VsbFkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoYm90dG9tQ29sb3VyLCBib3R0b21EaWZmKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocmlnaHREaWZmKSB7XHJcbiAgICAgICAgY29uc3QgcmlnaHRDb2xvdXIgPSBbMCwgMCwgMCwgMF07XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IGlubmVyQ2VsbFk7IGogPCBpbm5lckNlbGxZMjsgaisrKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKHJpZ2h0Q29sb3VyLCBjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGVuZENlbGxYLCBqKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKHJpZ2h0Q29sb3VyLCByaWdodERpZmYpKTtcclxuICAgIH1cclxuICAgIC8vaW5uZXIgcGFydHNcclxuICAgIGZvciAobGV0IGkgPSBpbm5lckNlbGxYOyBpIDwgaW5uZXJDZWxsWDI7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IGogPSBpbm5lckNlbGxZOyBqIDwgaW5uZXJDZWxsWTI7IGorKykge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgaSwgaikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vbm93IHdlIGhhdmUgYW4gYWNjdW11bGF0aXZlIHBpeGVsIHZhbHVlIHRoYXQgY292ZXJzIHRoZSB3aG9sZSBhcmVhIHNvIGp1c3QgYXZlcmFnZSBpdFxyXG4gICAgcmV0dXJuIGZsb29yNE11dGF0ZV8xLmZsb29yNE11dGF0ZShzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY29sb3VyLCBjb2xvdXJOb3JtYWxpc2VyKSk7XHJcbn07XHJcbmV4cG9ydHMuYXZlcmFnZU5haXZlID0gYXZlcmFnZU5haXZlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmF2ZXJhZ2VTdW1tZWQgPSB2b2lkIDA7XHJcbmNvbnN0IGFkZDRNdXRhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9hZGQ0TXV0YXRlXCIpO1xyXG5jb25zdCBmbG9vcjRNdXRhdGVfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9mbG9vcjRNdXRhdGVcIik7XHJcbmNvbnN0IHNjYWxlNE11dGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL3NjYWxlNE11dGF0ZVwiKTtcclxuY29uc3Qgc3VidHJhY3Q0TXV0YXRlXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvc3VidHJhY3Q0TXV0YXRlXCIpO1xyXG5jb25zdCBjYW52YXNfMSA9IHJlcXVpcmUoXCIuL2NhbnZhc1wiKTtcclxuY29uc3QgZ2V0U3VtbWVkVGV4dHVyZVZhbCA9IChzdW1tZWRUZXh0dXJlLCB4LCB5KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHggPj0gMCAmJiB5ID49IDAgPyBzdW1tZWRUZXh0dXJlW3ldW3hdIDogWzAsIDAsIDAsIDBdO1xyXG4gICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignTm8gc3VtbWVkIHRleHR1cmUgdmFsdWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKHgsIHkpO1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgIH1cclxufTtcclxuY29uc3QgZ2V0U3VtbWVkQXJlYSA9IChzdW1tZWRUZXh0dXJlLCB4LCB5LCB4MiwgeTIpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IFswLCAwLCAwLCAwXTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUocmVzdWx0LCBnZXRTdW1tZWRUZXh0dXJlVmFsKHN1bW1lZFRleHR1cmUsIHgyLCB5MikpO1xyXG4gICAgICAgIHN1YnRyYWN0NE11dGF0ZV8xLnN1YnRyYWN0NE11dGF0ZShyZXN1bHQsIGdldFN1bW1lZFRleHR1cmVWYWwoc3VtbWVkVGV4dHVyZSwgeCwgeTIpKTtcclxuICAgICAgICBzdWJ0cmFjdDRNdXRhdGVfMS5zdWJ0cmFjdDRNdXRhdGUocmVzdWx0LCBnZXRTdW1tZWRUZXh0dXJlVmFsKHN1bW1lZFRleHR1cmUsIHgyLCB5KSk7XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUocmVzdWx0LCBnZXRTdW1tZWRUZXh0dXJlVmFsKHN1bW1lZFRleHR1cmUsIHgsIHkpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFtcclxuICAgICAgICAgICAgcmVzdWx0LFxyXG4gICAgICAgICAgICBnZXRTdW1tZWRUZXh0dXJlVmFsKHN1bW1lZFRleHR1cmUsIHgyLCB5MiksXHJcbiAgICAgICAgICAgIGdldFN1bW1lZFRleHR1cmVWYWwoc3VtbWVkVGV4dHVyZSwgeCwgeTIpLFxyXG4gICAgICAgICAgICBnZXRTdW1tZWRUZXh0dXJlVmFsKHN1bW1lZFRleHR1cmUsIHgyLCB5KSxcclxuICAgICAgICAgICAgZ2V0U3VtbWVkVGV4dHVyZVZhbChzdW1tZWRUZXh0dXJlLCB4LCB5KVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIHRocm93IGVycjtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbi8vcmVzdWx0cyBpbiB1cCB0byAyNCB0ZXh0dXJlIGxvb2t1cHMgYmFzZWQgb24gY29tcGxleGl0eSBvZiByYW5nZSwgd2hhdGV2ZXIgc2l6ZSB0aGUgaW1hZ2UgaXNcclxuY29uc3QgYXZlcmFnZVN1bW1lZCA9IChzdW1tZWRUZXh0dXJlLCBpbWFnZURhdGEsIHgsIHksIHgyLCB5MikgPT4ge1xyXG4gICAgY29uc3Qgc3RhcnRDZWxsWCA9IE1hdGguZmxvb3IoeCk7XHJcbiAgICBjb25zdCBzdGFydENlbGxZID0gTWF0aC5mbG9vcih5KTtcclxuICAgIGNvbnN0IGVuZENlbGxYID0gTWF0aC5mbG9vcih4Mik7XHJcbiAgICBjb25zdCBlbmRDZWxsWSA9IE1hdGguZmxvb3IoeTIpO1xyXG4gICAgLy9yYW5nZSBjb250YWluZWQgaW4gb25lIHBpeGVsXHJcbiAgICBpZiAoc3RhcnRDZWxsWCA9PSBlbmRDZWxsWCAmJiBzdGFydENlbGxZID09IGVuZENlbGxZKSB7XHJcbiAgICAgICAgcmV0dXJuIGZsb29yNE11dGF0ZV8xLmZsb29yNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIHN0YXJ0Q2VsbFkpKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHdpZHRoID0geDIgLSB4O1xyXG4gICAgY29uc3QgaGVpZ2h0ID0geTIgLSB5O1xyXG4gICAgY29uc3QgcGl4ZWxBcmVhID0gd2lkdGggKiBoZWlnaHQ7XHJcbiAgICBjb25zdCBjb2xvdXJOb3JtYWxpc2VyID0gMSAvIHBpeGVsQXJlYTtcclxuICAgIGNvbnN0IGlubmVyQ2VsbFggPSBNYXRoLmNlaWwoeCk7XHJcbiAgICBjb25zdCBpbm5lckNlbGxZID0gTWF0aC5jZWlsKHkpO1xyXG4gICAgY29uc3QgaW5uZXJDZWxsWDIgPSBNYXRoLmZsb29yKHgyKTtcclxuICAgIGNvbnN0IGlubmVyQ2VsbFkyID0gTWF0aC5mbG9vcih5Mik7XHJcbiAgICBjb25zdCBsZWZ0RGlmZiA9IGlubmVyQ2VsbFggLSB4O1xyXG4gICAgY29uc3QgdG9wRGlmZiA9IGlubmVyQ2VsbFkgLSB5O1xyXG4gICAgY29uc3QgcmlnaHREaWZmID0geDIgLSBpbm5lckNlbGxYMjtcclxuICAgIGNvbnN0IGJvdHRvbURpZmYgPSB5MiAtIGlubmVyQ2VsbFkyO1xyXG4gICAgY29uc3QgY29sb3VyID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgLy9zaW5nbGUgaG9yaXpvbnRhbCBzdHJpcFxyXG4gICAgaWYgKHN0YXJ0Q2VsbFggPT0gZW5kQ2VsbFgpIHtcclxuICAgICAgICBpZiAodG9wRGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIHN0YXJ0Q2VsbFkpLCB3aWR0aCAqIHRvcERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvdHRvbURpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBlbmRDZWxsWCwgZW5kQ2VsbFkpLCB3aWR0aCAqIGJvdHRvbURpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoZ2V0U3VtbWVkQXJlYShzdW1tZWRUZXh0dXJlLCBzdGFydENlbGxYIC0gMSwgaW5uZXJDZWxsWSAtIDEsIHN0YXJ0Q2VsbFgsIGlubmVyQ2VsbFkyIC0gMSksIHdpZHRoKSk7XHJcbiAgICAgICAgcmV0dXJuIGZsb29yNE11dGF0ZV8xLmZsb29yNE11dGF0ZShzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY29sb3VyLCBjb2xvdXJOb3JtYWxpc2VyKSk7XHJcbiAgICB9XHJcbiAgICAvL3NpbmdsZSB2ZXJ0aWNhbCBzdHJpcFxyXG4gICAgaWYgKHN0YXJ0Q2VsbFkgPT0gZW5kQ2VsbFkpIHtcclxuICAgICAgICBpZiAobGVmdERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBzdGFydENlbGxZKSwgaGVpZ2h0ICogbGVmdERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJpZ2h0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIGVuZENlbGxYLCBlbmRDZWxsWSksIGhlaWdodCAqIHJpZ2h0RGlmZikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShnZXRTdW1tZWRBcmVhKHN1bW1lZFRleHR1cmUsIGlubmVyQ2VsbFggLSAxLCBzdGFydENlbGxZIC0gMSwgaW5uZXJDZWxsWDIgLSAxLCBzdGFydENlbGxZKSwgaGVpZ2h0KSk7XHJcbiAgICAgICAgcmV0dXJuIGZsb29yNE11dGF0ZV8xLmZsb29yNE11dGF0ZShzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY29sb3VyLCBjb2xvdXJOb3JtYWxpc2VyKSk7XHJcbiAgICB9XHJcbiAgICAvL2Nvcm5lciBjZWxsc1xyXG4gICAgaWYgKHRvcERpZmYpIHtcclxuICAgICAgICBpZiAobGVmdERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBzdGFydENlbGxYLCBzdGFydENlbGxZKSwgbGVmdERpZmYgKiB0b3BEaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyaWdodERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBlbmRDZWxsWCwgc3RhcnRDZWxsWSksIHJpZ2h0RGlmZiAqIHRvcERpZmYpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYm90dG9tRGlmZikge1xyXG4gICAgICAgIGlmIChsZWZ0RGlmZikge1xyXG4gICAgICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShjYW52YXNfMS5nZXRQaXhlbChpbWFnZURhdGEsIHN0YXJ0Q2VsbFgsIGVuZENlbGxZKSwgbGVmdERpZmYgKiBib3R0b21EaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyaWdodERpZmYpIHtcclxuICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoY2FudmFzXzEuZ2V0UGl4ZWwoaW1hZ2VEYXRhLCBlbmRDZWxsWCwgZW5kQ2VsbFkpLCByaWdodERpZmYgKiBib3R0b21EaWZmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9mcmFjdGlvbmFsIHN0cmlwc1xyXG4gICAgaWYgKHRvcERpZmYpIHtcclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShnZXRTdW1tZWRBcmVhKHN1bW1lZFRleHR1cmUsIGlubmVyQ2VsbFggLSAxLCBzdGFydENlbGxZIC0gMSwgaW5uZXJDZWxsWDIgLSAxLCBzdGFydENlbGxZKSwgdG9wRGlmZikpO1xyXG4gICAgfVxyXG4gICAgaWYgKGxlZnREaWZmKSB7XHJcbiAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUoY29sb3VyLCBzY2FsZTRNdXRhdGVfMS5zY2FsZTRNdXRhdGUoZ2V0U3VtbWVkQXJlYShzdW1tZWRUZXh0dXJlLCBzdGFydENlbGxYIC0gMSwgaW5uZXJDZWxsWSAtIDEsIHN0YXJ0Q2VsbFgsIGlubmVyQ2VsbFkyIC0gMSksIGxlZnREaWZmKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYm90dG9tRGlmZikge1xyXG4gICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGdldFN1bW1lZEFyZWEoc3VtbWVkVGV4dHVyZSwgaW5uZXJDZWxsWCAtIDEsIGVuZENlbGxZIC0gMSwgaW5uZXJDZWxsWDIgLSAxLCBlbmRDZWxsWSksIGJvdHRvbURpZmYpKTtcclxuICAgIH1cclxuICAgIGlmIChyaWdodERpZmYpIHtcclxuICAgICAgICBhZGQ0TXV0YXRlXzEuYWRkNE11dGF0ZShjb2xvdXIsIHNjYWxlNE11dGF0ZV8xLnNjYWxlNE11dGF0ZShnZXRTdW1tZWRBcmVhKHN1bW1lZFRleHR1cmUsIGVuZENlbGxYIC0gMSwgaW5uZXJDZWxsWSAtIDEsIGVuZENlbGxYLCBpbm5lckNlbGxZMiAtIDEpLCByaWdodERpZmYpKTtcclxuICAgIH1cclxuICAgIC8vaW5uZXIgcGFydHNcclxuICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKGNvbG91ciwgZ2V0U3VtbWVkQXJlYShzdW1tZWRUZXh0dXJlLCBpbm5lckNlbGxYIC0gMSwgaW5uZXJDZWxsWSAtIDEsIGlubmVyQ2VsbFgyIC0gMSwgaW5uZXJDZWxsWTIgLSAxKSk7XHJcbiAgICAvL25vdyB3ZSBoYXZlIGFuIGFjY3VtdWxhdGl2ZSBwaXhlbCB2YWx1ZSB0aGF0IGNvdmVycyB0aGUgd2hvbGUgYXJlYSBzbyBqdXN0IGF2ZXJhZ2UgaXRcclxuICAgIHJldHVybiBmbG9vcjRNdXRhdGVfMS5mbG9vcjRNdXRhdGUoc2NhbGU0TXV0YXRlXzEuc2NhbGU0TXV0YXRlKGNvbG91ciwgY29sb3VyTm9ybWFsaXNlcikpO1xyXG59O1xyXG5leHBvcnRzLmF2ZXJhZ2VTdW1tZWQgPSBhdmVyYWdlU3VtbWVkO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnNldFBpeGVsID0gZXhwb3J0cy5nZXRQaXhlbCA9IHZvaWQgMDtcclxuY29uc3QgZ2V0UGl4ZWwgPSAoaW1hZ2VEYXRhLCB4LCB5KSA9PiB7XHJcbiAgICBjb25zdCBzYW1wbGVJbmRleCA9IChpbWFnZURhdGEud2lkdGggKiBNYXRoLmZsb29yKHkpICsgTWF0aC5mbG9vcih4KSkgKiA0O1xyXG4gICAgcmV0dXJuIGltYWdlRGF0YS5kYXRhLnNsaWNlKHNhbXBsZUluZGV4LCBzYW1wbGVJbmRleCArIDQpO1xyXG59O1xyXG5leHBvcnRzLmdldFBpeGVsID0gZ2V0UGl4ZWw7XHJcbmNvbnN0IHNldFBpeGVsID0gKGltYWdlRGF0YSwgeCwgeSwgcmdiYSkgPT4ge1xyXG4gICAgaW1hZ2VEYXRhLmRhdGEuc2V0KHJnYmEsIChNYXRoLmZsb29yKHkpICogaW1hZ2VEYXRhLndpZHRoICsgTWF0aC5mbG9vcih4KSkgKiA0KTtcclxufTtcclxuZXhwb3J0cy5zZXRQaXhlbCA9IHNldFBpeGVsO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gdm9pZCAwO1xyXG5jb25zdCBjcmVhdGVSZW5kZXJlciA9IChyZW5kZXJGdW5jLCBhZnRlclJlbmRlckZ1bmMpID0+IHtcclxuICAgIGxldCBkcmF3aW5nID0gZmFsc2U7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGlmICghZHJhd2luZykge1xyXG4gICAgICAgICAgICBkcmF3aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlbmRlckZ1bmMoKTtcclxuICAgICAgICAgICAgICAgIGRyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFmdGVyUmVuZGVyRnVuYyA9PT0gbnVsbCB8fCBhZnRlclJlbmRlckZ1bmMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFmdGVyUmVuZGVyRnVuYygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuY3JlYXRlU3VtbWVkVGV4dHVyZSA9IHZvaWQgMDtcclxuY29uc3QgYWRkNE11dGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2FkZDRNdXRhdGVcIik7XHJcbmNvbnN0IHN1YnRyYWN0NE11dGF0ZV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL3N1YnRyYWN0NE11dGF0ZVwiKTtcclxuY29uc3QgY3JlYXRlU3VtbWVkVGV4dHVyZSA9IChpbWFnZURhdGEpID0+IHtcclxuICAgIGNvbnN0IHN1bW1lZFRleHR1cmUgPSBuZXcgQXJyYXkoaW1hZ2VEYXRhLmhlaWdodCk7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgeSA9IDA7IHkgPCBpbWFnZURhdGEuaGVpZ2h0OyB5KyspIHtcclxuICAgICAgICBzdW1tZWRUZXh0dXJlW3ldID0gbmV3IEFycmF5KGltYWdlRGF0YS53aWR0aCk7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBpbWFnZURhdGEud2lkdGg7IHgrKywgaSArPSA0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBpeCA9IG5ldyBVaW50MzJBcnJheShpbWFnZURhdGEuZGF0YS5zbGljZShpLCBpICsgNCkpO1xyXG4gICAgICAgICAgICBpZiAoeCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGFkZDRNdXRhdGVfMS5hZGQ0TXV0YXRlKHBpeCwgc3VtbWVkVGV4dHVyZVt5XVt4IC0gMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYWRkNE11dGF0ZV8xLmFkZDRNdXRhdGUocGl4LCBzdW1tZWRUZXh0dXJlW3kgLSAxXVt4XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHggPiAwICYmIHkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJ0cmFjdDRNdXRhdGVfMS5zdWJ0cmFjdDRNdXRhdGUocGl4LCBzdW1tZWRUZXh0dXJlW3kgLSAxXVt4IC0gMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1bW1lZFRleHR1cmVbeV1beF0gPSBwaXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vYWRkIGEgcGFkZGVkIGNlbGwgb24gdGhlIGVuZCBvZiBlYWNoIHJvd1xyXG4gICAgICAgIC8qY29uc3QgcGl4ID0gbmV3IFVpbnQzMkFycmF5KHN1bW1lZFRleHR1cmVbeV1baW1hZ2VEYXRhLndpZHRoLTFdKTtcclxuXHJcbiAgICAgICAgaWYgKHkgPiAwKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGUocGl4LCBzdW1tZWRUZXh0dXJlW3ktMV1baW1hZ2VEYXRhLndpZHRoXSk7XHJcbiAgICAgICAgICAgIHN1YnRyYWN0NE11dGF0ZShwaXgsIHN1bW1lZFRleHR1cmVbeS0xXVtpbWFnZURhdGEud2lkdGgtMV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3VtbWVkVGV4dHVyZVt5XVtpbWFnZURhdGEud2lkdGhdID0gcGl4OyovXHJcbiAgICB9XHJcbiAgICAvL2FkZCBhIHBhZGRlZCByb3dcclxuICAgIC8qc3VtbWVkVGV4dHVyZVtpbWFnZURhdGEuaGVpZ2h0XSA9IG5ldyBBcnJheShpbWFnZURhdGEud2lkdGggKyAxKTtcclxuICAgICAgICBcclxuICAgIGZvciAobGV0IHg9MDsgeDw9aW1hZ2VEYXRhLndpZHRoOyB4KyspIHtcclxuICAgICAgICBjb25zdCBwaXggPSBuZXcgVWludDMyQXJyYXkoc3VtbWVkVGV4dHVyZVtpbWFnZURhdGEuaGVpZ2h0LTFdW3hdKTtcclxuXHJcbiAgICAgICAgaWYgKHggPiAwKSB7XHJcbiAgICAgICAgICAgIGFkZDRNdXRhdGUocGl4LCBzdW1tZWRUZXh0dXJlW2ltYWdlRGF0YS5oZWlnaHRdW3gtMV0pO1xyXG4gICAgICAgICAgICBzdWJ0cmFjdDRNdXRhdGUocGl4LCBzdW1tZWRUZXh0dXJlW2ltYWdlRGF0YS5oZWlnaHQtMV1beC0xXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdW1tZWRUZXh0dXJlW2ltYWdlRGF0YS5oZWlnaHRdW3hdID0gcGl4O1xyXG4gICAgfVxyXG4gICAgKi9cclxuICAgIHJldHVybiBzdW1tZWRUZXh0dXJlO1xyXG59O1xyXG5leHBvcnRzLmNyZWF0ZVN1bW1lZFRleHR1cmUgPSBjcmVhdGVTdW1tZWRUZXh0dXJlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmFkZDRNdXRhdGUgPSB2b2lkIDA7XHJcbmNvbnN0IGFkZDRNdXRhdGUgPSAoYSwgYikgPT4ge1xyXG4gICAgYVswXSArPSBiWzBdO1xyXG4gICAgYVsxXSArPSBiWzFdO1xyXG4gICAgYVsyXSArPSBiWzJdO1xyXG4gICAgYVszXSArPSBiWzNdO1xyXG4gICAgcmV0dXJuIGE7XHJcbn07XHJcbmV4cG9ydHMuYWRkNE11dGF0ZSA9IGFkZDRNdXRhdGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuY2xhbXAgPSB2b2lkIDA7XHJcbmNvbnN0IGNsYW1wID0gKHZhbCwgbWluLCBtYXgpID0+IHtcclxuICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbih2YWwsIG1heCksIG1pbik7XHJcbn07XHJcbmV4cG9ydHMuY2xhbXAgPSBjbGFtcDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5mbG9vcjRNdXRhdGUgPSB2b2lkIDA7XHJcbmNvbnN0IGZsb29yNE11dGF0ZSA9IChhKSA9PiB7XHJcbiAgICBhWzBdID0gTWF0aC5mbG9vcihhWzBdKTtcclxuICAgIGFbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xyXG4gICAgYVsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XHJcbiAgICBhWzNdID0gTWF0aC5mbG9vcihhWzNdKTtcclxuICAgIHJldHVybiBhO1xyXG59O1xyXG5leHBvcnRzLmZsb29yNE11dGF0ZSA9IGZsb29yNE11dGF0ZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5nZXRJbWFnZURhdGEgPSB2b2lkIDA7XHJcbmNvbnN0IGdldEltYWdlRGF0YSA9IChpbWFnZSkgPT4ge1xyXG4gICAgY29uc3QgaW1hZ2VDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgIGltYWdlQ2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XHJcbiAgICBpbWFnZUNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcbiAgICBjb25zdCBpbWFnZUdyYXBoaWNzID0gaW1hZ2VDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIGlmICghaW1hZ2VHcmFwaGljcykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGNyZWF0ZSBjYW52YXMgdG8gZXh0cmFjdCBpbWFnZSBkYXRhJyk7XHJcbiAgICB9XHJcbiAgICBpbWFnZUdyYXBoaWNzLmNsZWFyUmVjdCgwLCAwLCBpbWFnZUNhbnZhcy53aWR0aCwgaW1hZ2VDYW52YXMuaGVpZ2h0KTtcclxuICAgIGltYWdlR3JhcGhpY3MuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuICAgIHJldHVybiBpbWFnZUdyYXBoaWNzLmdldEltYWdlRGF0YSgwLCAwLCBpbWFnZUNhbnZhcy53aWR0aCwgaW1hZ2VDYW52YXMuaGVpZ2h0KTtcclxufTtcclxuZXhwb3J0cy5nZXRJbWFnZURhdGEgPSBnZXRJbWFnZURhdGE7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuc2NhbGU0TXV0YXRlID0gdm9pZCAwO1xyXG5jb25zdCBzY2FsZTRNdXRhdGUgPSAoYSwgbWFnKSA9PiB7XHJcbiAgICBhWzBdICo9IG1hZztcclxuICAgIGFbMV0gKj0gbWFnO1xyXG4gICAgYVsyXSAqPSBtYWc7XHJcbiAgICBhWzNdICo9IG1hZztcclxuICAgIHJldHVybiBhO1xyXG59O1xyXG5leHBvcnRzLnNjYWxlNE11dGF0ZSA9IHNjYWxlNE11dGF0ZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5zdWJ0cmFjdDRNdXRhdGUgPSB2b2lkIDA7XHJcbmNvbnN0IHN1YnRyYWN0NE11dGF0ZSA9IChhLCBiKSA9PiB7XHJcbiAgICBhWzBdIC09IGJbMF07XHJcbiAgICBhWzFdIC09IGJbMV07XHJcbiAgICBhWzJdIC09IGJbMl07XHJcbiAgICBhWzNdIC09IGJbM107XHJcbiAgICByZXR1cm4gYTtcclxufTtcclxuZXhwb3J0cy5zdWJ0cmFjdDRNdXRhdGUgPSBzdWJ0cmFjdDRNdXRhdGU7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBhdmVyYWdlTmFpdmVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3L2F2ZXJhZ2VOYWl2ZVwiKTtcclxuY29uc3QgYXZlcmFnZVN1bW1lZF8xID0gcmVxdWlyZShcIi4uL2RyYXcvYXZlcmFnZVN1bW1lZFwiKTtcclxuY29uc3QgY2FudmFzXzEgPSByZXF1aXJlKFwiLi4vZHJhdy9jYW52YXNcIik7XHJcbmNvbnN0IGNyZWF0ZVJlbmRlcmVyXzEgPSByZXF1aXJlKFwiLi4vZHJhdy9jcmVhdGVSZW5kZXJlclwiKTtcclxuY29uc3QgY3JlYXRlU3VtbWVkVGV4dHVyZV8xID0gcmVxdWlyZShcIi4uL2RyYXcvY3JlYXRlU3VtbWVkVGV4dHVyZVwiKTtcclxuY29uc3QgY2xhbXBfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9jbGFtcFwiKTtcclxuY29uc3QgZ2V0SW1hZ2VEYXRhXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZ2V0SW1hZ2VEYXRhXCIpO1xyXG5jb25zdCBnYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lXCIpO1xyXG5jb25zdCBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2VcIik7XHJcbmNvbnN0IG1ldGhvZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWV0aG9kXCIpO1xyXG5jb25zdCBpbWFnZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaG9vc2VpbWFnZVwiKTtcclxuY29uc3Qgc2NhbGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NhbGVcIik7XHJcbmNvbnN0IHhvZmZzZXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieG9mZnNldFwiKTtcclxuY29uc3QgeW9mZnNldElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ5b2Zmc2V0XCIpO1xyXG5jb25zdCBzY2FsZVZhbHVlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjYWxldmFsdWVcIik7XHJcbmNvbnN0IHhvZmZzZXRWYWx1ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ4b2Zmc2V0dmFsdWVcIik7XHJcbmNvbnN0IHlvZmZzZXRWYWx1ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ5b2Zmc2V0dmFsdWVcIik7XHJcbmNvbnN0IHRpbWV0YWtlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGltZXRha2VuXCIpO1xyXG5jb25zdCBnID0gZ2FtZS5nZXRDb250ZXh0KFwiMmRcIik7XHJcbmxldCBzY2FsZSA9IDAuMzM7XHJcbmxldCB4b2Zmc2V0ID0gMDtcclxubGV0IHlvZmZzZXQgPSAwO1xyXG5jb25zdCBkcmF3SW1hZ2UgPSAoc3VtbWVkVGV4dHVyZSwgaW1hZ2VEYXRhKSA9PiB7XHJcbiAgICAvL25vdyByZW5kZXIgYSBzY2FsZWQgZG93biBzaXplIG9mIHRoZSB0ZXh0dXJlIG9uIHRoZSBjYW52YXMgKHBlci1waXhlbCkgdXNpbmcgdGhlIHNhbXBsZSBzdW1taW5nIGFwcHJvYWNoXHJcbiAgICBnLmNsZWFyUmVjdCgwLCAwLCBnYW1lLndpZHRoLCBnYW1lLmhlaWdodCk7XHJcbiAgICBjb25zdCBjYW52YXNJbWFnZSA9IGcuZ2V0SW1hZ2VEYXRhKDAsIDAsIGdhbWUud2lkdGgsIGdhbWUuaGVpZ2h0KTtcclxuICAgIGxldCBwaXhlbEZ1bmM7XHJcbiAgICBzd2l0Y2ggKG1ldGhvZC52YWx1ZSkge1xyXG4gICAgICAgIGNhc2UgJ3N1bW1lZCc6XHJcbiAgICAgICAgICAgIHBpeGVsRnVuYyA9ICh4LCB5LCB4MiwgeTIpID0+IGF2ZXJhZ2VTdW1tZWRfMS5hdmVyYWdlU3VtbWVkKHN1bW1lZFRleHR1cmUsIGltYWdlRGF0YSwgeCwgeSwgeDIsIHkyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnbmFpdmUnOlxyXG4gICAgICAgICAgICBwaXhlbEZ1bmMgPSAoeCwgeSwgeDIsIHkyKSA9PiBhdmVyYWdlTmFpdmVfMS5hdmVyYWdlTmFpdmUoaW1hZ2VEYXRhLCB4LCB5LCB4MiwgeTIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdub25lJzpcclxuICAgICAgICAgICAgcGl4ZWxGdW5jID0gKHgsIHkpID0+IGNhbnZhc18xLmdldFBpeGVsKGltYWdlRGF0YSwgeCwgeSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBtZXRob2QnKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBtYXhZID0gZ2FtZS5oZWlnaHQgLSAxO1xyXG4gICAgY29uc3QgbWF4WCA9IGdhbWUud2lkdGggLSAxO1xyXG4gICAgZm9yIChsZXQgeSA9IE1hdGgubWF4KDAsIHlvZmZzZXQpOyB5IDwgTWF0aC5taW4oZ2FtZS5oZWlnaHQgKiBzY2FsZSArIHlvZmZzZXQsIGdhbWUuaGVpZ2h0KTsgeSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IE1hdGgubWF4KDAsIHhvZmZzZXQpOyB4IDwgTWF0aC5taW4oZ2FtZS53aWR0aCAqIHNjYWxlICsgeG9mZnNldCwgZ2FtZS53aWR0aCk7IHgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwbG90WCA9IGNsYW1wXzEuY2xhbXAoKHggLSB4b2Zmc2V0KSAvIHNjYWxlLCAwLCBtYXhYKTtcclxuICAgICAgICAgICAgY29uc3QgcGxvdFkgPSBjbGFtcF8xLmNsYW1wKCh5IC0geW9mZnNldCkgLyBzY2FsZSwgMCwgbWF4WSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsb3RYMiA9IGNsYW1wXzEuY2xhbXAoKHggKyAxIC0geG9mZnNldCkgLyBzY2FsZSwgMCwgbWF4WCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsb3RZMiA9IGNsYW1wXzEuY2xhbXAoKHkgKyAxIC0geW9mZnNldCkgLyBzY2FsZSwgMCwgbWF4WSk7XHJcbiAgICAgICAgICAgIGNhbnZhc18xLnNldFBpeGVsKGNhbnZhc0ltYWdlLCB4LCB5LCBwaXhlbEZ1bmMocGxvdFgsIHBsb3RZLCBwbG90WDIsIHBsb3RZMikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGcucHV0SW1hZ2VEYXRhKGNhbnZhc0ltYWdlLCAwLCAwKTtcclxuICAgIHRpbWV0YWtlbi5pbm5lclRleHQgPSBgJHsoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSl9IG1zYDtcclxufTtcclxuY29uc3Qgc3RhcnQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBpbWFnZURhdGEgPSBnZXRJbWFnZURhdGFfMS5nZXRJbWFnZURhdGEoaW1hZ2UpO1xyXG4gICAgY29uc3Qgc3VtbWVkVGV4dHVyZSA9IGNyZWF0ZVN1bW1lZFRleHR1cmVfMS5jcmVhdGVTdW1tZWRUZXh0dXJlKGltYWdlRGF0YSk7XHJcbiAgICBjb25zdCBkcmF3ID0gY3JlYXRlUmVuZGVyZXJfMS5jcmVhdGVSZW5kZXJlcigoKSA9PiB7XHJcbiAgICAgICAgc2NhbGVJbnB1dC52YWx1ZSA9IHNjYWxlVmFsdWVJbnB1dC52YWx1ZSA9IHNjYWxlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgeG9mZnNldElucHV0LnZhbHVlID0geG9mZnNldFZhbHVlSW5wdXQudmFsdWUgPSB4b2Zmc2V0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgeW9mZnNldElucHV0LnZhbHVlID0geW9mZnNldFZhbHVlSW5wdXQudmFsdWUgPSB5b2Zmc2V0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgZHJhd0ltYWdlKHN1bW1lZFRleHR1cmUsIGltYWdlRGF0YSk7XHJcbiAgICB9KTtcclxuICAgIHNjYWxlSW5wdXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoc2NhbGVJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIHhvZmZzZXRJbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIHhvZmZzZXQgPSBwYXJzZUZsb2F0KHhvZmZzZXRJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIHlvZmZzZXRJbnB1dC5vbmlucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIHlvZmZzZXQgPSBwYXJzZUZsb2F0KHlvZmZzZXRJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIHNjYWxlVmFsdWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoc2NhbGVWYWx1ZUlucHV0LnZhbHVlKTtcclxuICAgICAgICBkcmF3KCk7XHJcbiAgICB9O1xyXG4gICAgeG9mZnNldFZhbHVlSW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgeG9mZnNldCA9IHBhcnNlRmxvYXQoeG9mZnNldFZhbHVlSW5wdXQudmFsdWUpO1xyXG4gICAgICAgIGRyYXcoKTtcclxuICAgIH07XHJcbiAgICB5b2Zmc2V0VmFsdWVJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICB5b2Zmc2V0ID0gcGFyc2VGbG9hdCh5b2Zmc2V0VmFsdWVJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgZHJhdygpO1xyXG4gICAgfTtcclxuICAgIG1ldGhvZC5vbmlucHV0ID0gZHJhdztcclxuICAgIGRyYXcoKTtcclxufTtcclxuY29uc3QgbG9hZEltYWdlID0gKCkgPT4ge1xyXG4gICAgaW1hZ2Uuc3JjID0gaW1hZ2VJbnB1dC52YWx1ZTtcclxuICAgIGlmIChpbWFnZS5jb21wbGV0ZSkge1xyXG4gICAgICAgIHN0YXJ0KCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBzdGFydDtcclxuICAgIH1cclxufTtcclxuaW1hZ2VJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgIGxvYWRJbWFnZSgpO1xyXG59O1xyXG5sb2FkSW1hZ2UoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==